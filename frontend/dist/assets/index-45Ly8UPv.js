(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function NE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var np={exports:{}},rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function bx(){if(C0)return rc;C0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:o}}return rc.Fragment=t,rc.jsx=e,rc.jsxs=e,rc}var I0;function Tx(){return I0||(I0=1,np.exports=bx()),np.exports}var z=Tx(),ip={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function Ex(){if(D0)return Rt;D0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,D={};function R(V,nt,lt){this.props=V,this.context=nt,this.refs=D,this.updater=lt||A}R.prototype.isReactComponent={},R.prototype.setState=function(V,nt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,nt,"setState")},R.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function B(){}B.prototype=R.prototype;function X(V,nt,lt){this.props=V,this.context=nt,this.refs=D,this.updater=lt||A}var J=X.prototype=new B;J.constructor=X,O(J,R.prototype),J.isPureReactComponent=!0;var st=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},it=Object.prototype.hasOwnProperty;function C(V,nt,lt,rt,ft,At){return lt=At.ref,{$$typeof:n,type:V,key:nt,ref:lt!==void 0?lt:null,props:At}}function w(V,nt){return C(V.type,nt,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function P(V){var nt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(lt){return nt[lt]})}var N=/\/+/g;function L(V,nt){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):nt.toString(36)}function M(){}function Xt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(M,M):(V.status="pending",V.then(function(nt){V.status==="pending"&&(V.status="fulfilled",V.value=nt)},function(nt){V.status==="pending"&&(V.status="rejected",V.reason=nt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function St(V,nt,lt,rt,ft){var At=typeof V;(At==="undefined"||At==="boolean")&&(V=null);var yt=!1;if(V===null)yt=!0;else switch(At){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(V.$$typeof){case n:case t:yt=!0;break;case y:return yt=V._init,St(yt(V._payload),nt,lt,rt,ft)}}if(yt)return ft=ft(V),yt=rt===""?"."+L(V,0):rt,st(ft)?(lt="",yt!=null&&(lt=yt.replace(N,"$&/")+"/"),St(ft,nt,lt,"",function(oi){return oi})):ft!=null&&(I(ft)&&(ft=w(ft,lt+(ft.key==null||V&&V.key===ft.key?"":(""+ft.key).replace(N,"$&/")+"/")+yt)),nt.push(ft)),1;yt=0;var Ne=rt===""?".":rt+":";if(st(V))for(var ne=0;ne<V.length;ne++)rt=V[ne],At=Ne+L(rt,ne),yt+=St(rt,nt,lt,At,ft);else if(ne=T(V),typeof ne=="function")for(V=ne.call(V),ne=0;!(rt=V.next()).done;)rt=rt.value,At=Ne+L(rt,ne++),yt+=St(rt,nt,lt,At,ft);else if(At==="object"){if(typeof V.then=="function")return St(Xt(V),nt,lt,rt,ft);throw nt=String(V),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return yt}function $(V,nt,lt){if(V==null)return V;var rt=[],ft=0;return St(V,rt,"","",function(At){return nt.call(lt,At,ft++)}),rt}function at(V){if(V._status===-1){var nt=V._result;nt=nt(),nt.then(function(lt){(V._status===0||V._status===-1)&&(V._status=1,V._result=lt)},function(lt){(V._status===0||V._status===-1)&&(V._status=2,V._result=lt)}),V._status===-1&&(V._status=0,V._result=nt)}if(V._status===1)return V._result.default;throw V._result}var dt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Mt(){}return Rt.Children={map:$,forEach:function(V,nt,lt){$(V,function(){nt.apply(this,arguments)},lt)},count:function(V){var nt=0;return $(V,function(){nt++}),nt},toArray:function(V){return $(V,function(nt){return nt})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Rt.Component=R,Rt.Fragment=e,Rt.Profiler=a,Rt.PureComponent=X,Rt.StrictMode=i,Rt.Suspense=d,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return G.H.useMemoCache(V)}},Rt.cache=function(V){return function(){return V.apply(null,arguments)}},Rt.cloneElement=function(V,nt,lt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=O({},V.props),ft=V.key,At=void 0;if(nt!=null)for(yt in nt.ref!==void 0&&(At=void 0),nt.key!==void 0&&(ft=""+nt.key),nt)!it.call(nt,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&nt.ref===void 0||(rt[yt]=nt[yt]);var yt=arguments.length-2;if(yt===1)rt.children=lt;else if(1<yt){for(var Ne=Array(yt),ne=0;ne<yt;ne++)Ne[ne]=arguments[ne+2];rt.children=Ne}return C(V.type,ft,void 0,void 0,At,rt)},Rt.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},Rt.createElement=function(V,nt,lt){var rt,ft={},At=null;if(nt!=null)for(rt in nt.key!==void 0&&(At=""+nt.key),nt)it.call(nt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(ft[rt]=nt[rt]);var yt=arguments.length-2;if(yt===1)ft.children=lt;else if(1<yt){for(var Ne=Array(yt),ne=0;ne<yt;ne++)Ne[ne]=arguments[ne+2];ft.children=Ne}if(V&&V.defaultProps)for(rt in yt=V.defaultProps,yt)ft[rt]===void 0&&(ft[rt]=yt[rt]);return C(V,At,void 0,void 0,null,ft)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(V){return{$$typeof:h,render:V}},Rt.isValidElement=I,Rt.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:at}},Rt.memo=function(V,nt){return{$$typeof:p,type:V,compare:nt===void 0?null:nt}},Rt.startTransition=function(V){var nt=G.T,lt={};G.T=lt;try{var rt=V(),ft=G.S;ft!==null&&ft(lt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Mt,dt)}catch(At){dt(At)}finally{G.T=nt}},Rt.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Rt.use=function(V){return G.H.use(V)},Rt.useActionState=function(V,nt,lt){return G.H.useActionState(V,nt,lt)},Rt.useCallback=function(V,nt){return G.H.useCallback(V,nt)},Rt.useContext=function(V){return G.H.useContext(V)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(V,nt){return G.H.useDeferredValue(V,nt)},Rt.useEffect=function(V,nt,lt){var rt=G.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(V,nt)},Rt.useId=function(){return G.H.useId()},Rt.useImperativeHandle=function(V,nt,lt){return G.H.useImperativeHandle(V,nt,lt)},Rt.useInsertionEffect=function(V,nt){return G.H.useInsertionEffect(V,nt)},Rt.useLayoutEffect=function(V,nt){return G.H.useLayoutEffect(V,nt)},Rt.useMemo=function(V,nt){return G.H.useMemo(V,nt)},Rt.useOptimistic=function(V,nt){return G.H.useOptimistic(V,nt)},Rt.useReducer=function(V,nt,lt){return G.H.useReducer(V,nt,lt)},Rt.useRef=function(V){return G.H.useRef(V)},Rt.useState=function(V){return G.H.useState(V)},Rt.useSyncExternalStore=function(V,nt,lt){return G.H.useSyncExternalStore(V,nt,lt)},Rt.useTransition=function(){return G.H.useTransition()},Rt.version="19.1.1",Rt}var O0;function pm(){return O0||(O0=1,ip.exports=Ex()),ip.exports}var pt=pm();const mm=NE(pt);var sp={exports:{}},ac={},rp={exports:{}},ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function Sx(){return M0||(M0=1,(function(n){function t($,at){var dt=$.length;$.push(at);t:for(;0<dt;){var Mt=dt-1>>>1,V=$[Mt];if(0<a(V,at))$[Mt]=at,$[dt]=V,dt=Mt;else break t}}function e($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var at=$[0],dt=$.pop();if(dt!==at){$[0]=dt;t:for(var Mt=0,V=$.length,nt=V>>>1;Mt<nt;){var lt=2*(Mt+1)-1,rt=$[lt],ft=lt+1,At=$[ft];if(0>a(rt,dt))ft<V&&0>a(At,rt)?($[Mt]=At,$[ft]=dt,Mt=ft):($[Mt]=rt,$[lt]=dt,Mt=lt);else if(ft<V&&0>a(At,dt))$[Mt]=At,$[ft]=dt,Mt=ft;else break t}}return at}function a($,at){var dt=$.sortIndex-at.sortIndex;return dt!==0?dt:$.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],p=[],y=1,v=null,T=3,A=!1,O=!1,D=!1,R=!1,B=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function st($){for(var at=e(p);at!==null;){if(at.callback===null)i(p);else if(at.startTime<=$)i(p),at.sortIndex=at.expirationTime,t(d,at);else break;at=e(p)}}function G($){if(D=!1,st($),!O)if(e(d)!==null)O=!0,it||(it=!0,L());else{var at=e(p);at!==null&&St(G,at.startTime-$)}}var it=!1,C=-1,w=5,I=-1;function P(){return R?!0:!(n.unstable_now()-I<w)}function N(){if(R=!1,it){var $=n.unstable_now();I=$;var at=!0;try{t:{O=!1,D&&(D=!1,X(C),C=-1),A=!0;var dt=T;try{e:{for(st($),v=e(d);v!==null&&!(v.expirationTime>$&&P());){var Mt=v.callback;if(typeof Mt=="function"){v.callback=null,T=v.priorityLevel;var V=Mt(v.expirationTime<=$);if($=n.unstable_now(),typeof V=="function"){v.callback=V,st($),at=!0;break e}v===e(d)&&i(d),st($)}else i(d);v=e(d)}if(v!==null)at=!0;else{var nt=e(p);nt!==null&&St(G,nt.startTime-$),at=!1}}break t}finally{v=null,T=dt,A=!1}at=void 0}}finally{at?L():it=!1}}}var L;if(typeof J=="function")L=function(){J(N)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Xt=M.port2;M.port1.onmessage=N,L=function(){Xt.postMessage(null)}}else L=function(){B(N,0)};function St($,at){C=B(function(){$(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function($){switch(T){case 1:case 2:case 3:var at=3;break;default:at=T}var dt=T;T=at;try{return $()}finally{T=dt}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function($,at){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var dt=T;T=$;try{return at()}finally{T=dt}},n.unstable_scheduleCallback=function($,at,dt){var Mt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Mt+dt:Mt):dt=Mt,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=dt+V,$={id:y++,callback:at,priorityLevel:$,startTime:dt,expirationTime:V,sortIndex:-1},dt>Mt?($.sortIndex=dt,t(p,$),e(d)===null&&$===e(p)&&(D?(X(C),C=-1):D=!0,St(G,dt-Mt))):($.sortIndex=V,t(d,$),O||A||(O=!0,it||(it=!0,L()))),$},n.unstable_shouldYield=P,n.unstable_wrapCallback=function($){var at=T;return function(){var dt=T;T=at;try{return $.apply(this,arguments)}finally{T=dt}}}})(ap)),ap}var k0;function Ax(){return k0||(k0=1,rp.exports=Sx()),rp.exports}var op={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function wx(){if(N0)return Ze;N0=1;var n=pm();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ze.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(d,p,null,y)},Ze.flushSync=function(d){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=p,i.p=y,i.d.f()}},Ze.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},Ze.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Ze.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:A}):y==="script"&&i.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ze.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},Ze.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);i.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ze.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},Ze.requestFormReset=function(d){i.d.r(d)},Ze.unstable_batchedUpdates=function(d,p){return d(p)},Ze.useFormState=function(d,p,y){return c.H.useFormState(d,p,y)},Ze.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ze.version="19.1.1",Ze}var P0;function xx(){if(P0)return op.exports;P0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),op.exports=wx(),op.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function Rx(){if(V0)return ac;V0=1;var n=Ax(),t=pm(),e=xx();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function d(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,u=r;;){var g=l.return;if(g===null)break;var m=g.alternate;if(m===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===m.child){for(m=g.child;m;){if(m===l)return h(g),s;if(m===u)return h(g),r;m=m.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=m;else{for(var E=!1,S=g.child;S;){if(S===l){E=!0,l=g,u=m;break}if(S===u){E=!0,u=g,l=m;break}S=S.sibling}if(!E){for(S=m.child;S;){if(S===l){E=!0,l=m,u=g;break}if(S===u){E=!0,u=m,l=g;break}S=S.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function p(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=p(s),r!==null)return r;s=s.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),J=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=N&&s[N]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function Xt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case R:return"Profiler";case D:return"StrictMode";case G:return"Suspense";case it:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case J:return(s.displayName||"Context")+".Provider";case X:return(s._context.displayName||"Context")+".Consumer";case st:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return r=s.displayName||null,r!==null?r:Xt(s.type)||"Memo";case w:r=s._payload,s=s._init;try{return Xt(s(r))}catch{}}return null}var St=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Mt=[],V=-1;function nt(s){return{current:s}}function lt(s){0>V||(s.current=Mt[V],Mt[V]=null,V--)}function rt(s,r){V++,Mt[V]=s.current,s.current=r}var ft=nt(null),At=nt(null),yt=nt(null),Ne=nt(null);function ne(s,r){switch(rt(yt,r),rt(At,s),rt(ft,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?n0(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=n0(r),s=i0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}lt(ft),rt(ft,s)}function oi(){lt(ft),lt(At),lt(yt)}function _s(s){s.memoizedState!==null&&rt(Ne,s);var r=ft.current,l=i0(r,s.type);r!==l&&(rt(At,s),rt(ft,l))}function Li(s){At.current===s&&(lt(ft),lt(At)),Ne.current===s&&(lt(Ne),tc._currentValue=dt)}var _r=Object.prototype.hasOwnProperty,vr=n.unstable_scheduleCallback,br=n.unstable_cancelCallback,Wo=n.unstable_shouldYield,ou=n.unstable_requestPaint,Dn=n.unstable_now,nd=n.unstable_getCurrentPriorityLevel,Zo=n.unstable_ImmediatePriority,xa=n.unstable_UserBlockingPriority,Tr=n.unstable_NormalPriority,id=n.unstable_LowPriority,Ra=n.unstable_IdlePriority,Jo=n.log,lu=n.unstable_setDisableYieldValue,he=null,Yt=null;function vn(s){if(typeof Jo=="function"&&lu(s),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(he,s)}catch{}}var Xe=Math.clz32?Math.clz32:Er,cu=Math.log,sd=Math.LN2;function Er(s){return s>>>=0,s===0?32:31-(cu(s)/sd|0)|0}var Sr=256,Ar=4194304;function Qn(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ca(s,r,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,m=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?g=Qn(u):(E&=S,E!==0?g=Qn(E):l||(l=S&~s,l!==0&&(g=Qn(l))))):(S=u&~m,S!==0?g=Qn(S):E!==0?g=Qn(E):l||(l=u&~s,l!==0&&(g=Qn(l)))),g===0?0:r!==0&&r!==g&&(r&m)===0&&(m=g&-g,l=r&-r,m>=l||m===32&&(l&4194048)!==0)?r:g}function wr(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function tl(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function el(){var s=Sr;return Sr<<=1,(Sr&4194048)===0&&(Sr=256),s}function nl(){var s=Ar;return Ar<<=1,(Ar&62914560)===0&&(Ar=4194304),s}function Ui(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function zi(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function il(s,r,l,u,g,m){var E=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,k=s.expirationTimes,q=s.hiddenUpdates;for(l=E&~l;0<l;){var W=31-Xe(l),tt=1<<W;S[W]=0,k[W]=-1;var Y=q[W];if(Y!==null)for(q[W]=null,W=0;W<Y.length;W++){var K=Y[W];K!==null&&(K.lane&=-536870913)}l&=~tt}u!==0&&li(s,u,0),m!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=m&~(E&~r))}function li(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-Xe(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function sl(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var u=31-Xe(l),g=1<<u;g&r|s[u]&r&&(s[u]|=r),l&=~g}}function vs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ia(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function bs(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:E0(s.type))}function uu(s,r){var l=at.p;try{return at.p=s,r()}finally{at.p=l}}var ae=Math.random().toString(36).slice(2),Re="__reactFiber$"+ae,be="__reactProps$"+ae,On="__reactContainer$"+ae,rl="__reactEvents$"+ae,rd="__reactListeners$"+ae,Ts="__reactHandles$"+ae,hu="__reactResources$"+ae,xr="__reactMarker$"+ae;function Es(s){delete s[Re],delete s[be],delete s[rl],delete s[rd],delete s[Ts]}function ji(s){var r=s[Re];if(r)return r;for(var l=s.parentNode;l;){if(r=l[On]||l[Re]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=o0(s);s!==null;){if(l=s[Re])return l;s=o0(s)}return r}s=l,l=s.parentNode}return null}function ci(s){if(s=s[Re]||s[On]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function ui(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function an(s){var r=s[hu];return r||(r=s[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ge(s){s[xr]=!0}var al=new Set,Da={};function Xn(s,r){Bi(s,r),Bi(s+"Capture",r)}function Bi(s,r){for(Da[s]=r,s=0;s<r.length;s++)al.add(r[s])}var fu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),du={},Rr={};function gu(s){return _r.call(Rr,s)?!0:_r.call(du,s)?!1:fu.test(s)?Rr[s]=!0:(du[s]=!0,!1)}function Ss(s,r,l){if(gu(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function hi(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function Fe(s,r,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+u)}}var Cr,pu;function Hi(s){if(Cr===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Cr=r&&r[1]||"",pu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cr+s+pu}var Oa=!1;function Ma(s,r){if(!s||Oa)return"";Oa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var Y=K}Reflect.construct(s,[],tt)}else{try{tt.call()}catch(K){Y=K}s.call(tt.prototype)}}else{try{throw Error()}catch(K){Y=K}(tt=s())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],S=m[1];if(E&&S){var k=E.split(`
`),q=S.split(`
`);for(g=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;g<q.length&&!q[g].includes("DetermineComponentFrameRoot");)g++;if(u===k.length||g===q.length)for(u=k.length-1,g=q.length-1;1<=u&&0<=g&&k[u]!==q[g];)g--;for(;1<=u&&0<=g;u--,g--)if(k[u]!==q[g]){if(u!==1||g!==1)do if(u--,g--,0>g||k[u]!==q[g]){var W=`
`+k[u].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=u&&0<=g);break}}}finally{Oa=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Hi(l):""}function ol(s){switch(s.tag){case 26:case 27:case 5:return Hi(s.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return Ma(s.type,!1);case 11:return Ma(s.type.render,!1);case 1:return Ma(s.type,!0);case 31:return Hi("Activity");default:return""}}function ka(s){try{var r="";do r+=ol(s),s=s.return;while(s);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function on(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ll(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ad(s){var r=ll(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),u=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,m=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return g.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Na(s){s._valueTracker||(s._valueTracker=ad(s))}function cl(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return s&&(u=ll(s)?s.checked?"true":"false":s.value),s=u,s!==l?(r.setValue(s),!0):!1}function Ir(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var od=/[\n"\\]/g;function Te(s){return s.replace(od,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bn(s,r,l,u,g,m,E,S){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),r!=null?E==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+on(r)):s.value!==""+on(r)&&(s.value=""+on(r)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),r!=null?As(s,E,on(r)):l!=null?As(s,E,on(l)):u!=null&&s.removeAttribute("value"),g==null&&m!=null&&(s.defaultChecked=!!m),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+on(S):s.removeAttribute("name")}function Dr(s,r,l,u,g,m,E,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(s.type=m),r!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;l=l!=null?""+on(l):"",r=r!=null?""+on(r):l,S||r===s.value||(s.value=r),s.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E)}function As(s,r,l){r==="number"&&Ir(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Fi(s,r,l,u){if(s=s.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=r.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+on(l),r=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}r!==null||s[g].disabled||(r=s[g])}r!==null&&(r.selected=!0)}}function Wt(s,r,l){if(r!=null&&(r=""+on(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+on(l):""}function Or(s,r,l,u){if(r==null){if(u!=null){if(l!=null)throw Error(i(92));if(St(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),r=l}l=on(r),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function Mn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var Mr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(s,r,l){var u=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,l):typeof l!="number"||l===0||Mr.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function ul(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&l[g]!==u&&mu(s,g,u)}else for(var m in r)r.hasOwnProperty(m)&&mu(s,m,r[m])}function hl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ld=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(s){return cd.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var qi=null;function kn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gi=null,Yi=null;function fl(s){var r=ci(s);if(r&&(s=r.stateNode)){var l=s[be]||null;t:switch(s=r.stateNode,r.type){case"input":if(bn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Te(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==s&&u.form===s.form){var g=u[be]||null;if(!g)throw Error(i(90));bn(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)u=l[r],u.form===s.form&&cl(u)}break t;case"textarea":Wt(s,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Fi(s,!!l.multiple,r,!1)}}}var fi=!1;function yu(s,r,l){if(fi)return s(r,l);fi=!0;try{var u=s(r);return u}finally{if(fi=!1,(Gi!==null||Yi!==null)&&(uh(),Gi&&(r=Gi,s=Yi,Yi=Gi=null,fl(r),s)))for(r=0;r<s.length;r++)fl(s[r])}}function kr(s,r){var l=s.stateNode;if(l===null)return null;var u=l[be]||null;if(u===null)return null;l=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nn=!1;if(Wn)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{Nn=!1}var di=null,ws=null,Ki=null;function dl(){if(Ki)return Ki;var s,r=ws,l=r.length,u,g="value"in di?di.value:di.textContent,m=g.length;for(s=0;s<l&&r[s]===g[s];s++);var E=l-s;for(u=1;u<=E&&r[l-u]===g[m-u];u++);return Ki=g.slice(s,1<u?1-u:void 0)}function gi(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function pi(){return!0}function gl(){return!1}function Pe(s){function r(l,u,g,m,E){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?pi:gl,this.isPropagationStopped=gl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),r}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Pe(Gt),Pr=y({},Gt,{view:0,detail:0}),_u=Pe(Pr),La,Ua,mi,Vr=y({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==mi&&(mi&&s.type==="mousemove"?(La=s.screenX-mi.screenX,Ua=s.screenY-mi.screenY):Ua=La=0,mi=s),La)},movementY:function(s){return"movementY"in s?s.movementY:Ua}}),Pn=Pe(Vr),vu=y({},Vr,{dataTransfer:0}),ud=Pe(vu),Lr=y({},Pr,{relatedTarget:0}),za=Pe(Lr),pl=y({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),ja=Pe(pl),bu=y({},Gt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ba=Pe(bu),hd=y({},Gt,{data:0}),ml=Pe(hd),Ur={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yl(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Eu[s])?!!r[s]:!1}function zr(){return yl}var Su=y({},Pr,{key:function(s){if(s.key){var r=Ur[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=gi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Tu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(s){return s.type==="keypress"?gi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?gi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ha=Pe(Su),Au=y({},Vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=Pe(Au),$i=y({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),wu=Pe($i),xu=y({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=Pe(xu),Cu=y({},Vr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Fa=Pe(Cu),ln=y({},Gt,{newState:0,oldState:0}),Iu=Pe(ln),Du=[9,13,27,32],yi=Wn&&"CompositionEvent"in window,f=null;Wn&&"documentMode"in document&&(f=document.documentMode);var _=Wn&&"TextEvent"in window&&!f,b=Wn&&(!yi||f&&8<f&&11>=f),x=" ",H=!1;function Q(s,r){switch(s){case"keyup":return Du.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Pt=!1;function Ce(s,r){switch(s){case"compositionend":return ot(r);case"keypress":return r.which!==32?null:(H=!0,x);case"textInput":return s=r.data,s===x&&H?null:s;default:return null}}function Vt(s,r){if(Pt)return s==="compositionend"||!yi&&Q(s,r)?(s=dl(),Ki=ws=di=null,Pt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return b&&r.locale!=="ko"?null:r.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Ve[s.type]:r==="textarea"}function Qi(s,r,l,u){Gi?Yi?Yi.push(u):Yi=[u]:Gi=u,r=mh(r,"onChange"),0<r.length&&(l=new Va("onChange","change",null,l,u),s.push({event:l,listeners:r}))}var qe=null,_i=null;function vl(s){Wv(s,0)}function Ou(s){var r=ui(s);if(cl(r))return s}function _y(s,r){if(s==="change")return r}var vy=!1;if(Wn){var fd;if(Wn){var dd="oninput"in document;if(!dd){var by=document.createElement("div");by.setAttribute("oninput","return;"),dd=typeof by.oninput=="function"}fd=dd}else fd=!1;vy=fd&&(!document.documentMode||9<document.documentMode)}function Ty(){qe&&(qe.detachEvent("onpropertychange",Ey),_i=qe=null)}function Ey(s){if(s.propertyName==="value"&&Ou(_i)){var r=[];Qi(r,_i,s,kn(s)),yu(vl,r)}}function X1(s,r,l){s==="focusin"?(Ty(),qe=r,_i=l,qe.attachEvent("onpropertychange",Ey)):s==="focusout"&&Ty()}function W1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ou(_i)}function Z1(s,r){if(s==="click")return Ou(r)}function J1(s,r){if(s==="input"||s==="change")return Ou(r)}function tw(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Tn=typeof Object.is=="function"?Object.is:tw;function bl(s,r){if(Tn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!_r.call(r,g)||!Tn(s[g],r[g]))return!1}return!0}function Sy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ay(s,r){var l=Sy(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=r&&u>=r)return{node:l,offset:r-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Sy(l)}}function wy(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?wy(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function xy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Ir(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=Ir(s.document)}return r}function gd(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var ew=Wn&&"documentMode"in document&&11>=document.documentMode,qa=null,pd=null,Tl=null,md=!1;function Ry(s,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;md||qa==null||qa!==Ir(u)||(u=qa,"selectionStart"in u&&gd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Tl&&bl(Tl,u)||(Tl=u,u=mh(pd,"onSelect"),0<u.length&&(r=new Va("onSelect","select",null,r,l),s.push({event:r,listeners:u}),r.target=qa)))}function jr(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var Ga={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},yd={},Cy={};Wn&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Br(s){if(yd[s])return yd[s];if(!Ga[s])return s;var r=Ga[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in Cy)return yd[s]=r[l];return s}var Iy=Br("animationend"),Dy=Br("animationiteration"),Oy=Br("animationstart"),nw=Br("transitionrun"),iw=Br("transitionstart"),sw=Br("transitioncancel"),My=Br("transitionend"),ky=new Map,_d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_d.push("scrollEnd");function Zn(s,r){ky.set(s,r),Xn(r,[s])}var Ny=new WeakMap;function Vn(s,r){if(typeof s=="object"&&s!==null){var l=Ny.get(s);return l!==void 0?l:(r={value:s,source:r,stack:ka(r)},Ny.set(s,r),r)}return{value:s,source:r,stack:ka(r)}}var Ln=[],Ya=0,vd=0;function Mu(){for(var s=Ya,r=vd=Ya=0;r<s;){var l=Ln[r];Ln[r++]=null;var u=Ln[r];Ln[r++]=null;var g=Ln[r];Ln[r++]=null;var m=Ln[r];if(Ln[r++]=null,u!==null&&g!==null){var E=u.pending;E===null?g.next=g:(g.next=E.next,E.next=g),u.pending=g}m!==0&&Py(l,g,m)}}function ku(s,r,l,u){Ln[Ya++]=s,Ln[Ya++]=r,Ln[Ya++]=l,Ln[Ya++]=u,vd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function bd(s,r,l,u){return ku(s,r,l,u),Nu(s)}function Ka(s,r){return ku(s,null,null,r),Nu(s)}function Py(s,r,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,m=s.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(s=m.stateNode,s===null||s._visibility&1||(g=!0)),s=m,m=m.return;return s.tag===3?(m=s.stateNode,g&&r!==null&&(g=31-Xe(l),s=m.hiddenUpdates,u=s[g],u===null?s[g]=[r]:u.push(r),r.lane=l|536870912),m):null}function Nu(s){if(50<Yl)throw Yl=0,xg=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var $a={};function rw(s,r,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(s,r,l,u){return new rw(s,r,l,u)}function Td(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Xi(s,r){var l=s.alternate;return l===null?(l=En(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Vy(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Pu(s,r,l,u,g,m){var E=0;if(u=s,typeof s=="function")Td(s)&&(E=1);else if(typeof s=="string")E=ox(s,l,ft.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case I:return s=En(31,l,r,g),s.elementType=I,s.lanes=m,s;case O:return Hr(l.children,g,m,r);case D:E=8,g|=24;break;case R:return s=En(12,l,r,g|2),s.elementType=R,s.lanes=m,s;case G:return s=En(13,l,r,g),s.elementType=G,s.lanes=m,s;case it:return s=En(19,l,r,g),s.elementType=it,s.lanes=m,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:case J:E=10;break t;case X:E=9;break t;case st:E=11;break t;case C:E=14;break t;case w:E=16,u=null;break t}E=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=En(E,l,r,g),r.elementType=s,r.type=u,r.lanes=m,r}function Hr(s,r,l,u){return s=En(7,s,u,r),s.lanes=l,s}function Ed(s,r,l){return s=En(6,s,null,r),s.lanes=l,s}function Sd(s,r,l){return r=En(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Qa=[],Xa=0,Vu=null,Lu=0,Un=[],zn=0,Fr=null,Wi=1,Zi="";function qr(s,r){Qa[Xa++]=Lu,Qa[Xa++]=Vu,Vu=s,Lu=r}function Ly(s,r,l){Un[zn++]=Wi,Un[zn++]=Zi,Un[zn++]=Fr,Fr=s;var u=Wi;s=Zi;var g=32-Xe(u)-1;u&=~(1<<g),l+=1;var m=32-Xe(r)+g;if(30<m){var E=g-g%5;m=(u&(1<<E)-1).toString(32),u>>=E,g-=E,Wi=1<<32-Xe(r)+g|l<<g|u,Zi=m+s}else Wi=1<<m|l<<g|u,Zi=s}function Ad(s){s.return!==null&&(qr(s,1),Ly(s,1,0))}function wd(s){for(;s===Vu;)Vu=Qa[--Xa],Qa[Xa]=null,Lu=Qa[--Xa],Qa[Xa]=null;for(;s===Fr;)Fr=Un[--zn],Un[zn]=null,Zi=Un[--zn],Un[zn]=null,Wi=Un[--zn],Un[zn]=null}var cn=null,fe=null,Ft=!1,Gr=null,vi=!1,xd=Error(i(519));function Yr(s){var r=Error(i(418,""));throw Al(Vn(r,s)),xd}function Uy(s){var r=s.stateNode,l=s.type,u=s.memoizedProps;switch(r[Re]=s,r[be]=u,l){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(l=0;l<$l.length;l++)Ot($l[l],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),Dr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Na(r);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Or(r,u.value,u.defaultValue,u.children),Na(r)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||u.suppressHydrationWarning===!0||e0(r.textContent,l)?(u.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),u.onScroll!=null&&Ot("scroll",r),u.onScrollEnd!=null&&Ot("scrollend",r),u.onClick!=null&&(r.onclick=yh),r=!0):r=!1,r||Yr(s)}function zy(s){for(cn=s.return;cn;)switch(cn.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:cn=cn.return}}function El(s){if(s!==cn)return!1;if(!Ft)return zy(s),Ft=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Hg(s.type,s.memoizedProps)),l=!l),l&&fe&&Yr(s),zy(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(r===0){fe=ti(s.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;s=s.nextSibling}fe=null}}else r===27?(r=fe,Bs(s.type)?(s=Yg,Yg=null,fe=s):fe=r):fe=cn?ti(s.stateNode.nextSibling):null;return!0}function Sl(){fe=cn=null,Ft=!1}function jy(){var s=Gr;return s!==null&&(gn===null?gn=s:gn.push.apply(gn,s),Gr=null),s}function Al(s){Gr===null?Gr=[s]:Gr.push(s)}var Rd=nt(null),Kr=null,Ji=null;function xs(s,r,l){rt(Rd,r._currentValue),r._currentValue=l}function ts(s){s._currentValue=Rd.current,lt(Rd)}function Cd(s,r,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===l)break;s=s.return}}function Id(s,r,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var m=g.dependencies;if(m!==null){var E=g.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=g;for(var k=0;k<r.length;k++)if(S.context===r[k]){m.lanes|=l,S=m.alternate,S!==null&&(S.lanes|=l),Cd(m.return,l,s),u||(E=null);break t}m=S.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(i(341));E.lanes|=l,m=E.alternate,m!==null&&(m.lanes|=l),Cd(E,l,s),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function wl(s,r,l,u){s=null;for(var g=r,m=!1;g!==null;){if(!m){if((g.flags&524288)!==0)m=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var S=g.type;Tn(g.pendingProps.value,E.value)||(s!==null?s.push(S):s=[S])}}else if(g===Ne.current){if(E=g.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(tc):s=[tc])}g=g.return}s!==null&&Id(r,s,l,u),r.flags|=262144}function Uu(s){for(s=s.firstContext;s!==null;){if(!Tn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function $r(s){Kr=s,Ji=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function We(s){return By(Kr,s)}function zu(s,r){return Kr===null&&$r(s),By(s,r)}function By(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Ji===null){if(s===null)throw Error(i(308));Ji=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Ji=Ji.next=r;return l}var aw=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},ow=n.unstable_scheduleCallback,lw=n.unstable_NormalPriority,De={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dd(){return{controller:new aw,data:new Map,refCount:0}}function xl(s){s.refCount--,s.refCount===0&&ow(lw,function(){s.controller.abort()})}var Rl=null,Od=0,Wa=0,Za=null;function cw(s,r){if(Rl===null){var l=Rl=[];Od=0,Wa=kg(),Za={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Od++,r.then(Hy,Hy),r}function Hy(){if(--Od===0&&Rl!==null){Za!==null&&(Za.status="fulfilled");var s=Rl;Rl=null,Wa=0,Za=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function uw(s,r){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var Fy=$.S;$.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&cw(s,r),Fy!==null&&Fy(s,r)};var Qr=nt(null);function Md(){var s=Qr.current;return s!==null?s:ie.pooledCache}function ju(s,r){r===null?rt(Qr,Qr.current):rt(Qr,r.pool)}function qy(){var s=Md();return s===null?null:{parent:De._currentValue,pool:s}}var Cl=Error(i(460)),Gy=Error(i(474)),Bu=Error(i(542)),kd={then:function(){}};function Yy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Hu(){}function Ky(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(Hu,Hu),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Qy(s),s;default:if(typeof r.status=="string")r.then(Hu,Hu);else{if(s=ie,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Qy(s),s}throw Il=r,Cl}}var Il=null;function $y(){if(Il===null)throw Error(i(459));var s=Il;return Il=null,s}function Qy(s){if(s===Cl||s===Bu)throw Error(i(483))}var Rs=!1;function Nd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pd(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Cs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Is(s,r,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=Nu(s),Py(s,null,l),r}return ku(s,u,r,l),Nu(s)}function Dl(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,sl(s,l)}}function Vd(s,r){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?g=m=E:m=m.next=E,l=l.next}while(l!==null);m===null?g=m=r:m=m.next=r}else g=m=r;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var Ld=!1;function Ol(){if(Ld){var s=Za;if(s!==null)throw s}}function Ml(s,r,l,u){Ld=!1;var g=s.updateQueue;Rs=!1;var m=g.firstBaseUpdate,E=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var k=S,q=k.next;k.next=null,E===null?m=q:E.next=q,E=k;var W=s.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==E&&(S===null?W.firstBaseUpdate=q:S.next=q,W.lastBaseUpdate=k))}if(m!==null){var tt=g.baseState;E=0,W=q=k=null,S=m;do{var Y=S.lane&-536870913,K=Y!==S.lane;if(K?(Lt&Y)===Y:(u&Y)===Y){Y!==0&&Y===Wa&&(Ld=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Et=s,_t=S;Y=r;var te=l;switch(_t.tag){case 1:if(Et=_t.payload,typeof Et=="function"){tt=Et.call(te,tt,Y);break t}tt=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=_t.payload,Y=typeof Et=="function"?Et.call(te,tt,Y):Et,Y==null)break t;tt=y({},tt,Y);break t;case 2:Rs=!0}}Y=S.callback,Y!==null&&(s.flags|=64,K&&(s.flags|=8192),K=g.callbacks,K===null?g.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(q=W=K,k=tt):W=W.next=K,E|=Y;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;K=S,S=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);W===null&&(k=tt),g.baseState=k,g.firstBaseUpdate=q,g.lastBaseUpdate=W,m===null&&(g.shared.lanes=0),Ls|=E,s.lanes=E,s.memoizedState=tt}}function Xy(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Wy(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Xy(l[s],r)}var Ja=nt(null),Fu=nt(0);function Zy(s,r){s=os,rt(Fu,s),rt(Ja,r),os=s|r.baseLanes}function Ud(){rt(Fu,os),rt(Ja,Ja.current)}function zd(){os=Fu.current,lt(Ja),lt(Fu)}var Ds=0,Ct=null,Zt=null,Ee=null,qu=!1,to=!1,Xr=!1,Gu=0,kl=0,eo=null,hw=0;function pe(){throw Error(i(321))}function jd(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!Tn(s[l],r[l]))return!1;return!0}function Bd(s,r,l,u,g,m){return Ds=m,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=s===null||s.memoizedState===null?P_:V_,Xr=!1,m=l(u,g),Xr=!1,to&&(m=t_(r,l,u,g)),Jy(s),m}function Jy(s){$.H=Wu;var r=Zt!==null&&Zt.next!==null;if(Ds=0,Ee=Zt=Ct=null,qu=!1,kl=0,eo=null,r)throw Error(i(300));s===null||Le||(s=s.dependencies,s!==null&&Uu(s)&&(Le=!0))}function t_(s,r,l,u){Ct=s;var g=0;do{if(to&&(eo=null),kl=0,to=!1,25<=g)throw Error(i(301));if(g+=1,Ee=Zt=null,s.updateQueue!=null){var m=s.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=_w,m=r(l,u)}while(to);return m}function fw(){var s=$.H,r=s.useState()[0];return r=typeof r.then=="function"?Nl(r):r,s=s.useState()[0],(Zt!==null?Zt.memoizedState:null)!==s&&(Ct.flags|=1024),r}function Hd(){var s=Gu!==0;return Gu=0,s}function Fd(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function qd(s){if(qu){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}qu=!1}Ds=0,Ee=Zt=Ct=null,to=!1,kl=Gu=0,eo=null}function fn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Ct.memoizedState=Ee=s:Ee=Ee.next=s,Ee}function Se(){if(Zt===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=Zt.next;var r=Ee===null?Ct.memoizedState:Ee.next;if(r!==null)Ee=r,Zt=s;else{if(s===null)throw Ct.alternate===null?Error(i(467)):Error(i(310));Zt=s,s={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ee===null?Ct.memoizedState=Ee=s:Ee=Ee.next=s}return Ee}function Gd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(s){var r=kl;return kl+=1,eo===null&&(eo=[]),s=Ky(eo,s,r),r=Ct,(Ee===null?r.memoizedState:Ee.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?P_:V_),s}function Yu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Nl(s);if(s.$$typeof===J)return We(s)}throw Error(i(438,String(s)))}function Yd(s){var r=null,l=Ct.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Gd(),Ct.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),u=0;u<s;u++)l[u]=P;return r.index++,l}function es(s,r){return typeof r=="function"?r(s):r}function Ku(s){var r=Se();return Kd(r,Zt,s)}function Kd(s,r,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,m=u.pending;if(m!==null){if(g!==null){var E=g.next;g.next=m.next,m.next=E}r.baseQueue=g=m,u.pending=null}if(m=s.baseState,g===null)s.memoizedState=m;else{r=g.next;var S=E=null,k=null,q=r,W=!1;do{var tt=q.lane&-536870913;if(tt!==q.lane?(Lt&tt)===tt:(Ds&tt)===tt){var Y=q.revertLane;if(Y===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),tt===Wa&&(W=!0);else if((Ds&Y)===Y){q=q.next,Y===Wa&&(W=!0);continue}else tt={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(S=k=tt,E=m):k=k.next=tt,Ct.lanes|=Y,Ls|=Y;tt=q.action,Xr&&l(m,tt),m=q.hasEagerState?q.eagerState:l(m,tt)}else Y={lane:tt,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(S=k=Y,E=m):k=k.next=Y,Ct.lanes|=tt,Ls|=tt;q=q.next}while(q!==null&&q!==r);if(k===null?E=m:k.next=S,!Tn(m,s.memoizedState)&&(Le=!0,W&&(l=Za,l!==null)))throw l;s.memoizedState=m,s.baseState=E,s.baseQueue=k,u.lastRenderedState=m}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function $d(s){var r=Se(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,m=r.memoizedState;if(g!==null){l.pending=null;var E=g=g.next;do m=s(m,E.action),E=E.next;while(E!==g);Tn(m,r.memoizedState)||(Le=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),l.lastRenderedState=m}return[m,u]}function e_(s,r,l){var u=Ct,g=Se(),m=Ft;if(m){if(l===void 0)throw Error(i(407));l=l()}else l=r();var E=!Tn((Zt||g).memoizedState,l);E&&(g.memoizedState=l,Le=!0),g=g.queue;var S=s_.bind(null,u,g,s);if(Pl(2048,8,S,[s]),g.getSnapshot!==r||E||Ee!==null&&Ee.memoizedState.tag&1){if(u.flags|=2048,no(9,$u(),i_.bind(null,u,g,l,r),null),ie===null)throw Error(i(349));m||(Ds&124)!==0||n_(u,r,l)}return l}function n_(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=Ct.updateQueue,r===null?(r=Gd(),Ct.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function i_(s,r,l,u){r.value=l,r.getSnapshot=u,r_(r)&&a_(s)}function s_(s,r,l){return l(function(){r_(r)&&a_(s)})}function r_(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!Tn(s,l)}catch{return!0}}function a_(s){var r=Ka(s,2);r!==null&&Rn(r,s,2)}function Qd(s){var r=fn();if(typeof s=="function"){var l=s;if(s=l(),Xr){vn(!0);try{l()}finally{vn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:s},r}function o_(s,r,l,u){return s.baseState=l,Kd(s,Zt,typeof u=="function"?u:es)}function dw(s,r,l,u,g){if(Xu(s))throw Error(i(485));if(s=r.action,s!==null){var m={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};$.T!==null?l(!0):m.isTransition=!1,u(m),l=r.pending,l===null?(m.next=r.pending=m,l_(r,m)):(m.next=l.next,r.pending=l.next=m)}}function l_(s,r){var l=r.action,u=r.payload,g=s.state;if(r.isTransition){var m=$.T,E={};$.T=E;try{var S=l(g,u),k=$.S;k!==null&&k(E,S),c_(s,r,S)}catch(q){Xd(s,r,q)}finally{$.T=m}}else try{m=l(g,u),c_(s,r,m)}catch(q){Xd(s,r,q)}}function c_(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){u_(s,r,u)},function(u){return Xd(s,r,u)}):u_(s,r,l)}function u_(s,r,l){r.status="fulfilled",r.value=l,h_(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,l_(s,l)))}function Xd(s,r,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=l,h_(r),r=r.next;while(r!==u)}s.action=null}function h_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function f_(s,r){return r}function d_(s,r){if(Ft){var l=ie.formState;if(l!==null){t:{var u=Ct;if(Ft){if(fe){e:{for(var g=fe,m=vi;g.nodeType!==8;){if(!m){g=null;break e}if(g=ti(g.nextSibling),g===null){g=null;break e}}m=g.data,g=m==="F!"||m==="F"?g:null}if(g){fe=ti(g.nextSibling),u=g.data==="F!";break t}}Yr(u)}u=!1}u&&(r=l[0])}}return l=fn(),l.memoizedState=l.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f_,lastRenderedState:r},l.queue=u,l=M_.bind(null,Ct,u),u.dispatch=l,u=Qd(!1),m=eg.bind(null,Ct,!1,u.queue),u=fn(),g={state:r,dispatch:null,action:s,pending:null},u.queue=g,l=dw.bind(null,Ct,g,m,l),g.dispatch=l,u.memoizedState=s,[r,l,!1]}function g_(s){var r=Se();return p_(r,Zt,s)}function p_(s,r,l){if(r=Kd(s,r,f_)[0],s=Ku(es)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Nl(r)}catch(E){throw E===Cl?Bu:E}else u=r;r=Se();var g=r.queue,m=g.dispatch;return l!==r.memoizedState&&(Ct.flags|=2048,no(9,$u(),gw.bind(null,g,l),null)),[u,m,s]}function gw(s,r){s.action=r}function m_(s){var r=Se(),l=Zt;if(l!==null)return p_(r,l,s);Se(),r=r.memoizedState,l=Se();var u=l.queue.dispatch;return l.memoizedState=s,[r,u,!1]}function no(s,r,l,u){return s={tag:s,create:l,deps:u,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=Gd(),Ct.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,r.lastEffect=s),s}function $u(){return{destroy:void 0,resource:void 0}}function y_(){return Se().memoizedState}function Qu(s,r,l,u){var g=fn();u=u===void 0?null:u,Ct.flags|=s,g.memoizedState=no(1|r,$u(),l,u)}function Pl(s,r,l,u){var g=Se();u=u===void 0?null:u;var m=g.memoizedState.inst;Zt!==null&&u!==null&&jd(u,Zt.memoizedState.deps)?g.memoizedState=no(r,m,l,u):(Ct.flags|=s,g.memoizedState=no(1|r,m,l,u))}function __(s,r){Qu(8390656,8,s,r)}function v_(s,r){Pl(2048,8,s,r)}function b_(s,r){return Pl(4,2,s,r)}function T_(s,r){return Pl(4,4,s,r)}function E_(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function S_(s,r,l){l=l!=null?l.concat([s]):null,Pl(4,4,E_.bind(null,r,s),l)}function Wd(){}function A_(s,r){var l=Se();r=r===void 0?null:r;var u=l.memoizedState;return r!==null&&jd(r,u[1])?u[0]:(l.memoizedState=[s,r],s)}function w_(s,r){var l=Se();r=r===void 0?null:r;var u=l.memoizedState;if(r!==null&&jd(r,u[1]))return u[0];if(u=s(),Xr){vn(!0);try{s()}finally{vn(!1)}}return l.memoizedState=[u,r],u}function Zd(s,r,l){return l===void 0||(Ds&1073741824)!==0?s.memoizedState=r:(s.memoizedState=l,s=Cv(),Ct.lanes|=s,Ls|=s,l)}function x_(s,r,l,u){return Tn(l,r)?l:Ja.current!==null?(s=Zd(s,l,u),Tn(s,r)||(Le=!0),s):(Ds&42)===0?(Le=!0,s.memoizedState=l):(s=Cv(),Ct.lanes|=s,Ls|=s,r)}function R_(s,r,l,u,g){var m=at.p;at.p=m!==0&&8>m?m:8;var E=$.T,S={};$.T=S,eg(s,!1,r,l);try{var k=g(),q=$.S;if(q!==null&&q(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var W=uw(k,u);Vl(s,r,W,xn(s))}else Vl(s,r,u,xn(s))}catch(tt){Vl(s,r,{then:function(){},status:"rejected",reason:tt},xn())}finally{at.p=m,$.T=E}}function pw(){}function Jd(s,r,l,u){if(s.tag!==5)throw Error(i(476));var g=C_(s).queue;R_(s,g,r,dt,l===null?pw:function(){return I_(s),l(u)})}function C_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:dt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function I_(s){var r=C_(s).next.queue;Vl(s,r,{},xn())}function tg(){return We(tc)}function D_(){return Se().memoizedState}function O_(){return Se().memoizedState}function mw(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=xn();s=Cs(l);var u=Is(r,s,l);u!==null&&(Rn(u,r,l),Dl(u,r,l)),r={cache:Dd()},s.payload=r;return}r=r.return}}function yw(s,r,l){var u=xn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Xu(s)?k_(r,l):(l=bd(s,r,l,u),l!==null&&(Rn(l,s,u),N_(l,r,u)))}function M_(s,r,l){var u=xn();Vl(s,r,l,u)}function Vl(s,r,l,u){var g={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xu(s))k_(r,g);else{var m=s.alternate;if(s.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var E=r.lastRenderedState,S=m(E,l);if(g.hasEagerState=!0,g.eagerState=S,Tn(S,E))return ku(s,r,g,0),ie===null&&Mu(),!1}catch{}finally{}if(l=bd(s,r,g,u),l!==null)return Rn(l,s,u),N_(l,r,u),!0}return!1}function eg(s,r,l,u){if(u={lane:2,revertLane:kg(),action:u,hasEagerState:!1,eagerState:null,next:null},Xu(s)){if(r)throw Error(i(479))}else r=bd(s,l,u,2),r!==null&&Rn(r,s,2)}function Xu(s){var r=s.alternate;return s===Ct||r!==null&&r===Ct}function k_(s,r){to=qu=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function N_(s,r,l){if((l&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,sl(s,l)}}var Wu={readContext:We,use:Yu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe},P_={readContext:We,use:Yu,useCallback:function(s,r){return fn().memoizedState=[s,r===void 0?null:r],s},useContext:We,useEffect:__,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,Qu(4194308,4,E_.bind(null,r,s),l)},useLayoutEffect:function(s,r){return Qu(4194308,4,s,r)},useInsertionEffect:function(s,r){Qu(4,2,s,r)},useMemo:function(s,r){var l=fn();r=r===void 0?null:r;var u=s();if(Xr){vn(!0);try{s()}finally{vn(!1)}}return l.memoizedState=[u,r],u},useReducer:function(s,r,l){var u=fn();if(l!==void 0){var g=l(r);if(Xr){vn(!0);try{l(r)}finally{vn(!1)}}}else g=r;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=yw.bind(null,Ct,s),[u.memoizedState,s]},useRef:function(s){var r=fn();return s={current:s},r.memoizedState=s},useState:function(s){s=Qd(s);var r=s.queue,l=M_.bind(null,Ct,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:Wd,useDeferredValue:function(s,r){var l=fn();return Zd(l,s,r)},useTransition:function(){var s=Qd(!1);return s=R_.bind(null,Ct,s.queue,!0,!1),fn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var u=Ct,g=fn();if(Ft){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),ie===null)throw Error(i(349));(Lt&124)!==0||n_(u,r,l)}g.memoizedState=l;var m={value:l,getSnapshot:r};return g.queue=m,__(s_.bind(null,u,m,s),[s]),u.flags|=2048,no(9,$u(),i_.bind(null,u,m,l,r),null),l},useId:function(){var s=fn(),r=ie.identifierPrefix;if(Ft){var l=Zi,u=Wi;l=(u&~(1<<32-Xe(u)-1)).toString(32)+l,r=""+r+"R"+l,l=Gu++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=hw++,r=""+r+"r"+l.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:tg,useFormState:d_,useActionState:d_,useOptimistic:function(s){var r=fn();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=eg.bind(null,Ct,!0,l),l.dispatch=r,[s,r]},useMemoCache:Yd,useCacheRefresh:function(){return fn().memoizedState=mw.bind(null,Ct)}},V_={readContext:We,use:Yu,useCallback:A_,useContext:We,useEffect:v_,useImperativeHandle:S_,useInsertionEffect:b_,useLayoutEffect:T_,useMemo:w_,useReducer:Ku,useRef:y_,useState:function(){return Ku(es)},useDebugValue:Wd,useDeferredValue:function(s,r){var l=Se();return x_(l,Zt.memoizedState,s,r)},useTransition:function(){var s=Ku(es)[0],r=Se().memoizedState;return[typeof s=="boolean"?s:Nl(s),r]},useSyncExternalStore:e_,useId:D_,useHostTransitionStatus:tg,useFormState:g_,useActionState:g_,useOptimistic:function(s,r){var l=Se();return o_(l,Zt,s,r)},useMemoCache:Yd,useCacheRefresh:O_},_w={readContext:We,use:Yu,useCallback:A_,useContext:We,useEffect:v_,useImperativeHandle:S_,useInsertionEffect:b_,useLayoutEffect:T_,useMemo:w_,useReducer:$d,useRef:y_,useState:function(){return $d(es)},useDebugValue:Wd,useDeferredValue:function(s,r){var l=Se();return Zt===null?Zd(l,s,r):x_(l,Zt.memoizedState,s,r)},useTransition:function(){var s=$d(es)[0],r=Se().memoizedState;return[typeof s=="boolean"?s:Nl(s),r]},useSyncExternalStore:e_,useId:D_,useHostTransitionStatus:tg,useFormState:m_,useActionState:m_,useOptimistic:function(s,r){var l=Se();return Zt!==null?o_(l,Zt,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Yd,useCacheRefresh:O_},io=null,Ll=0;function Zu(s){var r=Ll;return Ll+=1,io===null&&(io=[]),Ky(io,s,r)}function Ul(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Ju(s,r){throw r.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function L_(s){var r=s._init;return r(s._payload)}function U_(s){function r(j,U){if(s){var F=j.deletions;F===null?(j.deletions=[U],j.flags|=16):F.push(U)}}function l(j,U){if(!s)return null;for(;U!==null;)r(j,U),U=U.sibling;return null}function u(j){for(var U=new Map;j!==null;)j.key!==null?U.set(j.key,j):U.set(j.index,j),j=j.sibling;return U}function g(j,U){return j=Xi(j,U),j.index=0,j.sibling=null,j}function m(j,U,F){return j.index=F,s?(F=j.alternate,F!==null?(F=F.index,F<U?(j.flags|=67108866,U):F):(j.flags|=67108866,U)):(j.flags|=1048576,U)}function E(j){return s&&j.alternate===null&&(j.flags|=67108866),j}function S(j,U,F,Z){return U===null||U.tag!==6?(U=Ed(F,j.mode,Z),U.return=j,U):(U=g(U,F),U.return=j,U)}function k(j,U,F,Z){var ht=F.type;return ht===O?W(j,U,F.props.children,Z,F.key):U!==null&&(U.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&L_(ht)===U.type)?(U=g(U,F.props),Ul(U,F),U.return=j,U):(U=Pu(F.type,F.key,F.props,null,j.mode,Z),Ul(U,F),U.return=j,U)}function q(j,U,F,Z){return U===null||U.tag!==4||U.stateNode.containerInfo!==F.containerInfo||U.stateNode.implementation!==F.implementation?(U=Sd(F,j.mode,Z),U.return=j,U):(U=g(U,F.children||[]),U.return=j,U)}function W(j,U,F,Z,ht){return U===null||U.tag!==7?(U=Hr(F,j.mode,Z,ht),U.return=j,U):(U=g(U,F),U.return=j,U)}function tt(j,U,F){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Ed(""+U,j.mode,F),U.return=j,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return F=Pu(U.type,U.key,U.props,null,j.mode,F),Ul(F,U),F.return=j,F;case A:return U=Sd(U,j.mode,F),U.return=j,U;case w:var Z=U._init;return U=Z(U._payload),tt(j,U,F)}if(St(U)||L(U))return U=Hr(U,j.mode,F,null),U.return=j,U;if(typeof U.then=="function")return tt(j,Zu(U),F);if(U.$$typeof===J)return tt(j,zu(j,U),F);Ju(j,U)}return null}function Y(j,U,F,Z){var ht=U!==null?U.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ht!==null?null:S(j,U,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return F.key===ht?k(j,U,F,Z):null;case A:return F.key===ht?q(j,U,F,Z):null;case w:return ht=F._init,F=ht(F._payload),Y(j,U,F,Z)}if(St(F)||L(F))return ht!==null?null:W(j,U,F,Z,null);if(typeof F.then=="function")return Y(j,U,Zu(F),Z);if(F.$$typeof===J)return Y(j,U,zu(j,F),Z);Ju(j,F)}return null}function K(j,U,F,Z,ht){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(F)||null,S(U,j,""+Z,ht);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return j=j.get(Z.key===null?F:Z.key)||null,k(U,j,Z,ht);case A:return j=j.get(Z.key===null?F:Z.key)||null,q(U,j,Z,ht);case w:var It=Z._init;return Z=It(Z._payload),K(j,U,F,Z,ht)}if(St(Z)||L(Z))return j=j.get(F)||null,W(U,j,Z,ht,null);if(typeof Z.then=="function")return K(j,U,F,Zu(Z),ht);if(Z.$$typeof===J)return K(j,U,F,zu(U,Z),ht);Ju(U,Z)}return null}function Et(j,U,F,Z){for(var ht=null,It=null,gt=U,bt=U=0,ze=null;gt!==null&&bt<F.length;bt++){gt.index>bt?(ze=gt,gt=null):ze=gt.sibling;var Ht=Y(j,gt,F[bt],Z);if(Ht===null){gt===null&&(gt=ze);break}s&&gt&&Ht.alternate===null&&r(j,gt),U=m(Ht,U,bt),It===null?ht=Ht:It.sibling=Ht,It=Ht,gt=ze}if(bt===F.length)return l(j,gt),Ft&&qr(j,bt),ht;if(gt===null){for(;bt<F.length;bt++)gt=tt(j,F[bt],Z),gt!==null&&(U=m(gt,U,bt),It===null?ht=gt:It.sibling=gt,It=gt);return Ft&&qr(j,bt),ht}for(gt=u(gt);bt<F.length;bt++)ze=K(gt,j,bt,F[bt],Z),ze!==null&&(s&&ze.alternate!==null&&gt.delete(ze.key===null?bt:ze.key),U=m(ze,U,bt),It===null?ht=ze:It.sibling=ze,It=ze);return s&&gt.forEach(function(Ys){return r(j,Ys)}),Ft&&qr(j,bt),ht}function _t(j,U,F,Z){if(F==null)throw Error(i(151));for(var ht=null,It=null,gt=U,bt=U=0,ze=null,Ht=F.next();gt!==null&&!Ht.done;bt++,Ht=F.next()){gt.index>bt?(ze=gt,gt=null):ze=gt.sibling;var Ys=Y(j,gt,Ht.value,Z);if(Ys===null){gt===null&&(gt=ze);break}s&&gt&&Ys.alternate===null&&r(j,gt),U=m(Ys,U,bt),It===null?ht=Ys:It.sibling=Ys,It=Ys,gt=ze}if(Ht.done)return l(j,gt),Ft&&qr(j,bt),ht;if(gt===null){for(;!Ht.done;bt++,Ht=F.next())Ht=tt(j,Ht.value,Z),Ht!==null&&(U=m(Ht,U,bt),It===null?ht=Ht:It.sibling=Ht,It=Ht);return Ft&&qr(j,bt),ht}for(gt=u(gt);!Ht.done;bt++,Ht=F.next())Ht=K(gt,j,bt,Ht.value,Z),Ht!==null&&(s&&Ht.alternate!==null&&gt.delete(Ht.key===null?bt:Ht.key),U=m(Ht,U,bt),It===null?ht=Ht:It.sibling=Ht,It=Ht);return s&&gt.forEach(function(vx){return r(j,vx)}),Ft&&qr(j,bt),ht}function te(j,U,F,Z){if(typeof F=="object"&&F!==null&&F.type===O&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case T:t:{for(var ht=F.key;U!==null;){if(U.key===ht){if(ht=F.type,ht===O){if(U.tag===7){l(j,U.sibling),Z=g(U,F.props.children),Z.return=j,j=Z;break t}}else if(U.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&L_(ht)===U.type){l(j,U.sibling),Z=g(U,F.props),Ul(Z,F),Z.return=j,j=Z;break t}l(j,U);break}else r(j,U);U=U.sibling}F.type===O?(Z=Hr(F.props.children,j.mode,Z,F.key),Z.return=j,j=Z):(Z=Pu(F.type,F.key,F.props,null,j.mode,Z),Ul(Z,F),Z.return=j,j=Z)}return E(j);case A:t:{for(ht=F.key;U!==null;){if(U.key===ht)if(U.tag===4&&U.stateNode.containerInfo===F.containerInfo&&U.stateNode.implementation===F.implementation){l(j,U.sibling),Z=g(U,F.children||[]),Z.return=j,j=Z;break t}else{l(j,U);break}else r(j,U);U=U.sibling}Z=Sd(F,j.mode,Z),Z.return=j,j=Z}return E(j);case w:return ht=F._init,F=ht(F._payload),te(j,U,F,Z)}if(St(F))return Et(j,U,F,Z);if(L(F)){if(ht=L(F),typeof ht!="function")throw Error(i(150));return F=ht.call(F),_t(j,U,F,Z)}if(typeof F.then=="function")return te(j,U,Zu(F),Z);if(F.$$typeof===J)return te(j,U,zu(j,F),Z);Ju(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,U!==null&&U.tag===6?(l(j,U.sibling),Z=g(U,F),Z.return=j,j=Z):(l(j,U),Z=Ed(F,j.mode,Z),Z.return=j,j=Z),E(j)):l(j,U)}return function(j,U,F,Z){try{Ll=0;var ht=te(j,U,F,Z);return io=null,ht}catch(gt){if(gt===Cl||gt===Bu)throw gt;var It=En(29,gt,null,j.mode);return It.lanes=Z,It.return=j,It}finally{}}}var so=U_(!0),z_=U_(!1),jn=nt(null),bi=null;function Os(s){var r=s.alternate;rt(Oe,Oe.current&1),rt(jn,s),bi===null&&(r===null||Ja.current!==null||r.memoizedState!==null)&&(bi=s)}function j_(s){if(s.tag===22){if(rt(Oe,Oe.current),rt(jn,s),bi===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(bi=s)}}else Ms()}function Ms(){rt(Oe,Oe.current),rt(jn,jn.current)}function ns(s){lt(jn),bi===s&&(bi=null),lt(Oe)}var Oe=nt(0);function th(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Gg(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function ng(s,r,l,u){r=s.memoizedState,l=l(u,r),l=l==null?r:y({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var ig={enqueueSetState:function(s,r,l){s=s._reactInternals;var u=xn(),g=Cs(u);g.payload=r,l!=null&&(g.callback=l),r=Is(s,g,u),r!==null&&(Rn(r,s,u),Dl(r,s,u))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var u=xn(),g=Cs(u);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Is(s,g,u),r!==null&&(Rn(r,s,u),Dl(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=xn(),u=Cs(l);u.tag=2,r!=null&&(u.callback=r),r=Is(s,u,l),r!==null&&(Rn(r,s,l),Dl(r,s,l))}};function B_(s,r,l,u,g,m,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,m,E):r.prototype&&r.prototype.isPureReactComponent?!bl(l,u)||!bl(g,m):!0}function H_(s,r,l,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==s&&ig.enqueueReplaceState(r,r.state,null)}function Wr(s,r){var l=r;if("ref"in r){l={};for(var u in r)u!=="ref"&&(l[u]=r[u])}if(s=s.defaultProps){l===r&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var eh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function F_(s){eh(s)}function q_(s){console.error(s)}function G_(s){eh(s)}function nh(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Y_(s,r,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function sg(s,r,l){return l=Cs(l),l.tag=3,l.payload={element:null},l.callback=function(){nh(s,r)},l}function K_(s){return s=Cs(s),s.tag=3,s}function $_(s,r,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var m=u.value;s.payload=function(){return g(m)},s.callback=function(){Y_(r,l,u)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){Y_(r,l,u),typeof g!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function vw(s,r,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=l.alternate,r!==null&&wl(r,l,g,!0),l=jn.current,l!==null){switch(l.tag){case 13:return bi===null?Cg():l.alternate===null&&de===0&&(de=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===kd?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([u]):r.add(u),Dg(s,u,g)),!1;case 22:return l.flags|=65536,u===kd?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([u]):l.add(u)),Dg(s,u,g)),!1}throw Error(i(435,l.tag))}return Dg(s,u,g),Cg(),!1}if(Ft)return r=jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==xd&&(s=Error(i(422),{cause:u}),Al(Vn(s,l)))):(u!==xd&&(r=Error(i(423),{cause:u}),Al(Vn(r,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Vn(u,l),g=sg(s.stateNode,u,g),Vd(s,g),de!==4&&(de=2)),!1;var m=Error(i(520),{cause:u});if(m=Vn(m,l),Gl===null?Gl=[m]:Gl.push(m),de!==4&&(de=2),r===null)return!0;u=Vn(u,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=sg(l.stateNode,u,s),Vd(l,s),!1;case 1:if(r=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Us===null||!Us.has(m))))return l.flags|=65536,g&=-g,l.lanes|=g,g=K_(g),$_(g,s,l,u),Vd(l,g),!1}l=l.return}while(l!==null);return!1}var Q_=Error(i(461)),Le=!1;function Ge(s,r,l,u){r.child=s===null?z_(r,null,l,u):so(r,s.child,l,u)}function X_(s,r,l,u,g){l=l.render;var m=r.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return $r(r),u=Bd(s,r,l,E,m,g),S=Hd(),s!==null&&!Le?(Fd(s,r,g),is(s,r,g)):(Ft&&S&&Ad(r),r.flags|=1,Ge(s,r,u,g),r.child)}function W_(s,r,l,u,g){if(s===null){var m=l.type;return typeof m=="function"&&!Td(m)&&m.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=m,Z_(s,r,m,u,g)):(s=Pu(l.type,null,u,r,r.mode,g),s.ref=r.ref,s.return=r,r.child=s)}if(m=s.child,!fg(s,g)){var E=m.memoizedProps;if(l=l.compare,l=l!==null?l:bl,l(E,u)&&s.ref===r.ref)return is(s,r,g)}return r.flags|=1,s=Xi(m,u),s.ref=r.ref,s.return=r,r.child=s}function Z_(s,r,l,u,g){if(s!==null){var m=s.memoizedProps;if(bl(m,u)&&s.ref===r.ref)if(Le=!1,r.pendingProps=u=m,fg(s,g))(s.flags&131072)!==0&&(Le=!0);else return r.lanes=s.lanes,is(s,r,g)}return rg(s,r,l,u,g)}function J_(s,r,l){var u=r.pendingProps,g=u.children,m=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=m!==null?m.baseLanes|l:l,s!==null){for(g=r.child=s.child,m=0;g!==null;)m=m|g.lanes|g.childLanes,g=g.sibling;r.childLanes=m&~u}else r.childLanes=0,r.child=null;return tv(s,r,u,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&ju(r,m!==null?m.cachePool:null),m!==null?Zy(r,m):Ud(),j_(r);else return r.lanes=r.childLanes=536870912,tv(s,r,m!==null?m.baseLanes|l:l,l)}else m!==null?(ju(r,m.cachePool),Zy(r,m),Ms(),r.memoizedState=null):(s!==null&&ju(r,null),Ud(),Ms());return Ge(s,r,g,l),r.child}function tv(s,r,l,u){var g=Md();return g=g===null?null:{parent:De._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},s!==null&&ju(r,null),Ud(),j_(r),s!==null&&wl(s,r,u,!0),null}function ih(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function rg(s,r,l,u,g){return $r(r),l=Bd(s,r,l,u,void 0,g),u=Hd(),s!==null&&!Le?(Fd(s,r,g),is(s,r,g)):(Ft&&u&&Ad(r),r.flags|=1,Ge(s,r,l,g),r.child)}function ev(s,r,l,u,g,m){return $r(r),r.updateQueue=null,l=t_(r,u,l,g),Jy(s),u=Hd(),s!==null&&!Le?(Fd(s,r,m),is(s,r,m)):(Ft&&u&&Ad(r),r.flags|=1,Ge(s,r,l,m),r.child)}function nv(s,r,l,u,g){if($r(r),r.stateNode===null){var m=$a,E=l.contextType;typeof E=="object"&&E!==null&&(m=We(E)),m=new l(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ig,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},Nd(r),E=l.contextType,m.context=typeof E=="object"&&E!==null?We(E):$a,m.state=r.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(ng(r,l,E,u),m.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&ig.enqueueReplaceState(m,m.state,null),Ml(r,u,m,g),Ol(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){m=r.stateNode;var S=r.memoizedProps,k=Wr(l,S);m.props=k;var q=m.context,W=l.contextType;E=$a,typeof W=="object"&&W!==null&&(E=We(W));var tt=l.getDerivedStateFromProps;W=typeof tt=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||q!==E)&&H_(r,m,u,E),Rs=!1;var Y=r.memoizedState;m.state=Y,Ml(r,u,m,g),Ol(),q=r.memoizedState,S||Y!==q||Rs?(typeof tt=="function"&&(ng(r,l,tt,u),q=r.memoizedState),(k=Rs||B_(r,l,k,u,Y,q,E))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=q),m.props=u,m.state=q,m.context=E,u=k):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,Pd(s,r),E=r.memoizedProps,W=Wr(l,E),m.props=W,tt=r.pendingProps,Y=m.context,q=l.contextType,k=$a,typeof q=="object"&&q!==null&&(k=We(q)),S=l.getDerivedStateFromProps,(q=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==tt||Y!==k)&&H_(r,m,u,k),Rs=!1,Y=r.memoizedState,m.state=Y,Ml(r,u,m,g),Ol();var K=r.memoizedState;E!==tt||Y!==K||Rs||s!==null&&s.dependencies!==null&&Uu(s.dependencies)?(typeof S=="function"&&(ng(r,l,S,u),K=r.memoizedState),(W=Rs||B_(r,l,W,u,Y,K,k)||s!==null&&s.dependencies!==null&&Uu(s.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,K,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,K,k)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=K),m.props=u,m.state=K,m.context=k,u=W):(typeof m.componentDidUpdate!="function"||E===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),u=!1)}return m=u,ih(s,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,s!==null&&u?(r.child=so(r,s.child,null,g),r.child=so(r,null,l,g)):Ge(s,r,l,g),r.memoizedState=m.state,s=r.child):s=is(s,r,g),s}function iv(s,r,l,u){return Sl(),r.flags|=256,Ge(s,r,l,u),r.child}var ag={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function og(s){return{baseLanes:s,cachePool:qy()}}function lg(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=Bn),s}function sv(s,r,l){var u=r.pendingProps,g=!1,m=(r.flags&128)!==0,E;if((E=m)||(E=s!==null&&s.memoizedState===null?!1:(Oe.current&2)!==0),E&&(g=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ft){if(g?Os(r):Ms(),Ft){var S=fe,k;if(k=S){t:{for(k=S,S=vi;k.nodeType!==8;){if(!S){S=null;break t}if(k=ti(k.nextSibling),k===null){S=null;break t}}S=k}S!==null?(r.memoizedState={dehydrated:S,treeContext:Fr!==null?{id:Wi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},k=En(18,null,null,0),k.stateNode=S,k.return=r,r.child=k,cn=r,fe=null,k=!0):k=!1}k||Yr(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Gg(S)?r.lanes=32:r.lanes=536870912,null;ns(r)}return S=u.children,u=u.fallback,g?(Ms(),g=r.mode,S=sh({mode:"hidden",children:S},g),u=Hr(u,g,l,null),S.return=r,u.return=r,S.sibling=u,r.child=S,g=r.child,g.memoizedState=og(l),g.childLanes=lg(s,E,l),r.memoizedState=ag,u):(Os(r),cg(r,S))}if(k=s.memoizedState,k!==null&&(S=k.dehydrated,S!==null)){if(m)r.flags&256?(Os(r),r.flags&=-257,r=ug(s,r,l)):r.memoizedState!==null?(Ms(),r.child=s.child,r.flags|=128,r=null):(Ms(),g=u.fallback,S=r.mode,u=sh({mode:"visible",children:u.children},S),g=Hr(g,S,l,null),g.flags|=2,u.return=r,g.return=r,u.sibling=g,r.child=u,so(r,s.child,null,l),u=r.child,u.memoizedState=og(l),u.childLanes=lg(s,E,l),r.memoizedState=ag,r=g);else if(Os(r),Gg(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var q=E.dgst;E=q,u=Error(i(419)),u.stack="",u.digest=E,Al({value:u,source:null,stack:null}),r=ug(s,r,l)}else if(Le||wl(s,r,l,!1),E=(l&s.childLanes)!==0,Le||E){if(E=ie,E!==null&&(u=l&-l,u=(u&42)!==0?1:vs(u),u=(u&(E.suspendedLanes|l))!==0?0:u,u!==0&&u!==k.retryLane))throw k.retryLane=u,Ka(s,u),Rn(E,s,u),Q_;S.data==="$?"||Cg(),r=ug(s,r,l)}else S.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=k.treeContext,fe=ti(S.nextSibling),cn=r,Ft=!0,Gr=null,vi=!1,s!==null&&(Un[zn++]=Wi,Un[zn++]=Zi,Un[zn++]=Fr,Wi=s.id,Zi=s.overflow,Fr=r),r=cg(r,u.children),r.flags|=4096);return r}return g?(Ms(),g=u.fallback,S=r.mode,k=s.child,q=k.sibling,u=Xi(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,q!==null?g=Xi(q,g):(g=Hr(g,S,l,null),g.flags|=2),g.return=r,u.return=r,u.sibling=g,r.child=u,u=g,g=r.child,S=s.child.memoizedState,S===null?S=og(l):(k=S.cachePool,k!==null?(q=De._currentValue,k=k.parent!==q?{parent:q,pool:q}:k):k=qy(),S={baseLanes:S.baseLanes|l,cachePool:k}),g.memoizedState=S,g.childLanes=lg(s,E,l),r.memoizedState=ag,u):(Os(r),l=s.child,s=l.sibling,l=Xi(l,{mode:"visible",children:u.children}),l.return=r,l.sibling=null,s!==null&&(E=r.deletions,E===null?(r.deletions=[s],r.flags|=16):E.push(s)),r.child=l,r.memoizedState=null,l)}function cg(s,r){return r=sh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function sh(s,r){return s=En(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function ug(s,r,l){return so(r,s.child,null,l),s=cg(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function rv(s,r,l){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Cd(s.return,r,l)}function hg(s,r,l,u,g){var m=s.memoizedState;m===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=l,m.tailMode=g)}function av(s,r,l){var u=r.pendingProps,g=u.revealOrder,m=u.tail;if(Ge(s,r,u.children,l),u=Oe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&rv(s,l,r);else if(s.tag===19)rv(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(rt(Oe,u),g){case"forwards":for(l=r.child,g=null;l!==null;)s=l.alternate,s!==null&&th(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),hg(r,!1,g,l,m);break;case"backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(s=g.alternate,s!==null&&th(s)===null){r.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}hg(r,!0,l,null,m);break;case"together":hg(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function is(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),Ls|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(wl(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=Xi(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=Xi(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function fg(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Uu(s)))}function bw(s,r,l){switch(r.tag){case 3:ne(r,r.stateNode.containerInfo),xs(r,De,s.memoizedState.cache),Sl();break;case 27:case 5:_s(r);break;case 4:ne(r,r.stateNode.containerInfo);break;case 10:xs(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Os(r),r.flags|=128,null):(l&r.child.childLanes)!==0?sv(s,r,l):(Os(r),s=is(s,r,l),s!==null?s.sibling:null);Os(r);break;case 19:var g=(s.flags&128)!==0;if(u=(l&r.childLanes)!==0,u||(wl(s,r,l,!1),u=(l&r.childLanes)!==0),g){if(u)return av(s,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),rt(Oe,Oe.current),u)break;return null;case 22:case 23:return r.lanes=0,J_(s,r,l);case 24:xs(r,De,s.memoizedState.cache)}return is(s,r,l)}function ov(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Le=!0;else{if(!fg(s,l)&&(r.flags&128)===0)return Le=!1,bw(s,r,l);Le=(s.flags&131072)!==0}else Le=!1,Ft&&(r.flags&1048576)!==0&&Ly(r,Lu,r.index);switch(r.lanes=0,r.tag){case 16:t:{s=r.pendingProps;var u=r.elementType,g=u._init;if(u=g(u._payload),r.type=u,typeof u=="function")Td(u)?(s=Wr(u,s),r.tag=1,r=nv(null,r,u,s,l)):(r.tag=0,r=rg(null,r,u,s,l));else{if(u!=null){if(g=u.$$typeof,g===st){r.tag=11,r=X_(null,r,u,s,l);break t}else if(g===C){r.tag=14,r=W_(null,r,u,s,l);break t}}throw r=Xt(u)||u,Error(i(306,r,""))}}return r;case 0:return rg(s,r,r.type,r.pendingProps,l);case 1:return u=r.type,g=Wr(u,r.pendingProps),nv(s,r,u,g,l);case 3:t:{if(ne(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var m=r.memoizedState;g=m.element,Pd(s,r),Ml(r,u,null,l);var E=r.memoizedState;if(u=E.cache,xs(r,De,u),u!==m.cache&&Id(r,[De],l,!0),Ol(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=iv(s,r,u,l);break t}else if(u!==g){g=Vn(Error(i(424)),r),Al(g),r=iv(s,r,u,l);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(fe=ti(s.firstChild),cn=r,Ft=!0,Gr=null,vi=!0,l=z_(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Sl(),u===g){r=is(s,r,l);break t}Ge(s,r,u,l)}r=r.child}return r;case 26:return ih(s,r),s===null?(l=h0(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ft||(l=r.type,s=r.pendingProps,u=_h(yt.current).createElement(l),u[Re]=r,u[be]=s,Ke(u,l,s),ge(u),r.stateNode=u):r.memoizedState=h0(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return _s(r),s===null&&Ft&&(u=r.stateNode=l0(r.type,r.pendingProps,yt.current),cn=r,vi=!0,g=fe,Bs(r.type)?(Yg=g,fe=ti(u.firstChild)):fe=g),Ge(s,r,r.pendingProps.children,l),ih(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ft&&((g=u=fe)&&(u=$w(u,r.type,r.pendingProps,vi),u!==null?(r.stateNode=u,cn=r,fe=ti(u.firstChild),vi=!1,g=!0):g=!1),g||Yr(r)),_s(r),g=r.type,m=r.pendingProps,E=s!==null?s.memoizedProps:null,u=m.children,Hg(g,m)?u=null:E!==null&&Hg(g,E)&&(r.flags|=32),r.memoizedState!==null&&(g=Bd(s,r,fw,null,null,l),tc._currentValue=g),ih(s,r),Ge(s,r,u,l),r.child;case 6:return s===null&&Ft&&((s=l=fe)&&(l=Qw(l,r.pendingProps,vi),l!==null?(r.stateNode=l,cn=r,fe=null,s=!0):s=!1),s||Yr(r)),null;case 13:return sv(s,r,l);case 4:return ne(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=so(r,null,u,l):Ge(s,r,u,l),r.child;case 11:return X_(s,r,r.type,r.pendingProps,l);case 7:return Ge(s,r,r.pendingProps,l),r.child;case 8:return Ge(s,r,r.pendingProps.children,l),r.child;case 12:return Ge(s,r,r.pendingProps.children,l),r.child;case 10:return u=r.pendingProps,xs(r,r.type,u.value),Ge(s,r,u.children,l),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,$r(r),g=We(g),u=u(g),r.flags|=1,Ge(s,r,u,l),r.child;case 14:return W_(s,r,r.type,r.pendingProps,l);case 15:return Z_(s,r,r.type,r.pendingProps,l);case 19:return av(s,r,l);case 31:return u=r.pendingProps,l=r.mode,u={mode:u.mode,children:u.children},s===null?(l=sh(u,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=Xi(s.child,u),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return J_(s,r,l);case 24:return $r(r),u=We(De),s===null?(g=Md(),g===null&&(g=ie,m=Dd(),g.pooledCache=m,m.refCount++,m!==null&&(g.pooledCacheLanes|=l),g=m),r.memoizedState={parent:u,cache:g},Nd(r),xs(r,De,g)):((s.lanes&l)!==0&&(Pd(s,r),Ml(r,null,null,l),Ol()),g=s.memoizedState,m=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),xs(r,De,u)):(u=m.cache,xs(r,De,u),u!==g.cache&&Id(r,[De],l,!0))),Ge(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ss(s){s.flags|=4}function lv(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!m0(r)){if(r=jn.current,r!==null&&((Lt&4194048)===Lt?bi!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||r!==bi))throw Il=kd,Gy;s.flags|=8192}}function rh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?nl():536870912,s.lanes|=r,lo|=r)}function zl(s,r){if(!Ft)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function le(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(r)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,r}function Tw(s,r,l){var u=r.pendingProps;switch(wd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(r),null;case 1:return le(r),null;case 3:return l=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ts(De),oi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(El(r)?ss(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jy())),le(r),null;case 26:return l=r.memoizedState,s===null?(ss(r),l!==null?(le(r),lv(r,l)):(le(r),r.flags&=-16777217)):l?l!==s.memoizedState?(ss(r),le(r),lv(r,l)):(le(r),r.flags&=-16777217):(s.memoizedProps!==u&&ss(r),le(r),r.flags&=-16777217),null;case 27:Li(r),l=yt.current;var g=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ss(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return le(r),null}s=ft.current,El(r)?Uy(r):(s=l0(g,u,l),r.stateNode=s,ss(r))}return le(r),null;case 5:if(Li(r),l=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ss(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return le(r),null}if(s=ft.current,El(r))Uy(r);else{switch(g=_h(yt.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?g.createElement(l,{is:u.is}):g.createElement(l)}}s[Re]=r,s[be]=u;t:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break t;for(;g.sibling===null;){if(g.return===null||g.return===r)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=s;t:switch(Ke(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&ss(r)}}return le(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&ss(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=yt.current,El(r)){if(s=r.stateNode,l=r.memoizedProps,u=null,g=cn,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Re]=r,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||e0(s.nodeValue,l)),s||Yr(r)}else s=_h(s).createTextNode(u),s[Re]=r,r.stateNode=s}return le(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=El(r),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Re]=r}else Sl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;le(r),g=!1}else g=jy(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(ns(r),r):(ns(r),null)}if(ns(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==g&&(u.flags|=2048)}return l!==s&&l&&(r.child.flags|=8192),rh(r,r.updateQueue),le(r),null;case 4:return oi(),s===null&&Lg(r.stateNode.containerInfo),le(r),null;case 10:return ts(r.type),le(r),null;case 19:if(lt(Oe),g=r.memoizedState,g===null)return le(r),null;if(u=(r.flags&128)!==0,m=g.rendering,m===null)if(u)zl(g,!1);else{if(de!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(m=th(s),m!==null){for(r.flags|=128,zl(g,!1),s=m.updateQueue,r.updateQueue=s,rh(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)Vy(l,s),l=l.sibling;return rt(Oe,Oe.current&1|2),r.child}s=s.sibling}g.tail!==null&&Dn()>lh&&(r.flags|=128,u=!0,zl(g,!1),r.lanes=4194304)}else{if(!u)if(s=th(m),s!==null){if(r.flags|=128,u=!0,s=s.updateQueue,r.updateQueue=s,rh(r,s),zl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!m.alternate&&!Ft)return le(r),null}else 2*Dn()-g.renderingStartTime>lh&&l!==536870912&&(r.flags|=128,u=!0,zl(g,!1),r.lanes=4194304);g.isBackwards?(m.sibling=r.child,r.child=m):(s=g.last,s!==null?s.sibling=m:r.child=m,g.last=m)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Dn(),r.sibling=null,s=Oe.current,rt(Oe,u?s&1|2:s&1),r):(le(r),null);case 22:case 23:return ns(r),zd(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(l&536870912)!==0&&(r.flags&128)===0&&(le(r),r.subtreeFlags&6&&(r.flags|=8192)):le(r),l=r.updateQueue,l!==null&&rh(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==l&&(r.flags|=2048),s!==null&&lt(Qr),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ts(De),le(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function Ew(s,r){switch(wd(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return ts(De),oi(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Li(r),null;case 13:if(ns(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Sl()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return lt(Oe),null;case 4:return oi(),null;case 10:return ts(r.type),null;case 22:case 23:return ns(r),zd(),s!==null&&lt(Qr),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return ts(De),null;case 25:return null;default:return null}}function cv(s,r){switch(wd(r),r.tag){case 3:ts(De),oi();break;case 26:case 27:case 5:Li(r);break;case 4:oi();break;case 13:ns(r);break;case 19:lt(Oe);break;case 10:ts(r.type);break;case 22:case 23:ns(r),zd(),s!==null&&lt(Qr);break;case 24:ts(De)}}function jl(s,r){try{var l=r.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var m=l.create,E=l.inst;u=m(),E.destroy=u}l=l.next}while(l!==g)}}catch(S){ee(r,r.return,S)}}function ks(s,r,l){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var m=g.next;u=m;do{if((u.tag&s)===s){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,g=r;var k=l,q=S;try{q()}catch(W){ee(g,k,W)}}}u=u.next}while(u!==m)}}catch(W){ee(r,r.return,W)}}function uv(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{Wy(r,l)}catch(u){ee(s,s.return,u)}}}function hv(s,r,l){l.props=Wr(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){ee(s,r,u)}}function Bl(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){ee(s,r,g)}}function Ti(s,r){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){ee(s,r,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){ee(s,r,g)}else l.current=null}function fv(s){var r=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){ee(s,s.return,g)}}function dg(s,r,l){try{var u=s.stateNode;Fw(u,s.type,l,r),u[be]=r}catch(g){ee(s,s.return,g)}}function dv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Bs(s.type)||s.tag===4}function gg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||dv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Bs(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pg(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=yh));else if(u!==4&&(u===27&&Bs(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(pg(s,r,l),s=s.sibling;s!==null;)pg(s,r,l),s=s.sibling}function ah(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(u!==4&&(u===27&&Bs(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(ah(s,r,l),s=s.sibling;s!==null;)ah(s,r,l),s=s.sibling}function gv(s){var r=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Ke(r,u,l),r[Re]=s,r[be]=l}catch(m){ee(s,s.return,m)}}var rs=!1,me=!1,mg=!1,pv=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Sw(s,r){if(s=s.containerInfo,jg=Ah,s=xy(s),gd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break t}var E=0,S=-1,k=-1,q=0,W=0,tt=s,Y=null;e:for(;;){for(var K;tt!==l||g!==0&&tt.nodeType!==3||(S=E+g),tt!==m||u!==0&&tt.nodeType!==3||(k=E+u),tt.nodeType===3&&(E+=tt.nodeValue.length),(K=tt.firstChild)!==null;)Y=tt,tt=K;for(;;){if(tt===s)break e;if(Y===l&&++q===g&&(S=E),Y===m&&++W===u&&(k=E),(K=tt.nextSibling)!==null)break;tt=Y,Y=tt.parentNode}tt=K}l=S===-1||k===-1?null:{start:S,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(Bg={focusedElem:s,selectionRange:l},Ah=!1,Ue=r;Ue!==null;)if(r=Ue,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Ue=s;else for(;Ue!==null;){switch(r=Ue,m=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&m!==null){s=void 0,l=r,g=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var Et=Wr(l.type,g,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(Et,m),u.__reactInternalSnapshotBeforeUpdate=s}catch(_t){ee(l,l.return,_t)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)qg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":qg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Ue=s;break}Ue=r.return}}function mv(s,r,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ns(s,l),u&4&&jl(5,l);break;case 1:if(Ns(s,l),u&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(E){ee(l,l.return,E)}else{var g=Wr(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(g,r,s.__reactInternalSnapshotBeforeUpdate)}catch(E){ee(l,l.return,E)}}u&64&&uv(l),u&512&&Bl(l,l.return);break;case 3:if(Ns(s,l),u&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Wy(s,r)}catch(E){ee(l,l.return,E)}}break;case 27:r===null&&u&4&&gv(l);case 26:case 5:Ns(s,l),r===null&&u&4&&fv(l),u&512&&Bl(l,l.return);break;case 12:Ns(s,l);break;case 13:Ns(s,l),u&4&&vv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=Mw.bind(null,l),Xw(s,l))));break;case 22:if(u=l.memoizedState!==null||rs,!u){r=r!==null&&r.memoizedState!==null||me,g=rs;var m=me;rs=u,(me=r)&&!m?Ps(s,l,(l.subtreeFlags&8772)!==0):Ns(s,l),rs=g,me=m}break;case 30:break;default:Ns(s,l)}}function yv(s){var r=s.alternate;r!==null&&(s.alternate=null,yv(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Es(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var oe=null,dn=!1;function as(s,r,l){for(l=l.child;l!==null;)_v(s,r,l),l=l.sibling}function _v(s,r,l){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(he,l)}catch{}switch(l.tag){case 26:me||Ti(l,r),as(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:me||Ti(l,r);var u=oe,g=dn;Bs(l.type)&&(oe=l.stateNode,dn=!1),as(s,r,l),Xl(l.stateNode),oe=u,dn=g;break;case 5:me||Ti(l,r);case 6:if(u=oe,g=dn,oe=null,as(s,r,l),oe=u,dn=g,oe!==null)if(dn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(l.stateNode)}catch(m){ee(l,r,m)}else try{oe.removeChild(l.stateNode)}catch(m){ee(l,r,m)}break;case 18:oe!==null&&(dn?(s=oe,a0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),sc(s)):a0(oe,l.stateNode));break;case 4:u=oe,g=dn,oe=l.stateNode.containerInfo,dn=!0,as(s,r,l),oe=u,dn=g;break;case 0:case 11:case 14:case 15:me||ks(2,l,r),me||ks(4,l,r),as(s,r,l);break;case 1:me||(Ti(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"&&hv(l,r,u)),as(s,r,l);break;case 21:as(s,r,l);break;case 22:me=(u=me)||l.memoizedState!==null,as(s,r,l),me=u;break;default:as(s,r,l)}}function vv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{sc(s)}catch(l){ee(r,r.return,l)}}function Aw(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new pv),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new pv),r;default:throw Error(i(435,s.tag))}}function yg(s,r){var l=Aw(s);r.forEach(function(u){var g=kw.bind(null,s,u);l.has(u)||(l.add(u),u.then(g,g))})}function Sn(s,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],m=s,E=r,S=E;t:for(;S!==null;){switch(S.tag){case 27:if(Bs(S.type)){oe=S.stateNode,dn=!1;break t}break;case 5:oe=S.stateNode,dn=!1;break t;case 3:case 4:oe=S.stateNode.containerInfo,dn=!0;break t}S=S.return}if(oe===null)throw Error(i(160));_v(m,E,g),oe=null,dn=!1,m=g.alternate,m!==null&&(m.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)bv(r,s),r=r.sibling}var Jn=null;function bv(s,r){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Sn(r,s),An(s),u&4&&(ks(3,s,s.return),jl(3,s),ks(5,s,s.return));break;case 1:Sn(r,s),An(s),u&512&&(me||l===null||Ti(l,l.return)),u&64&&rs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=Jn;if(Sn(r,s),An(s),u&512&&(me||l===null||Ti(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":m=g.getElementsByTagName("title")[0],(!m||m[xr]||m[Re]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=g.createElement(u),g.head.insertBefore(m,g.querySelector("head > title"))),Ke(m,u,l),m[Re]=s,ge(m),u=m;break t;case"link":var E=g0("link","href",g).get(u+(l.href||""));if(E){for(var S=0;S<E.length;S++)if(m=E[S],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(S,1);break e}}m=g.createElement(u),Ke(m,u,l),g.head.appendChild(m);break;case"meta":if(E=g0("meta","content",g).get(u+(l.content||""))){for(S=0;S<E.length;S++)if(m=E[S],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(S,1);break e}}m=g.createElement(u),Ke(m,u,l),g.head.appendChild(m);break;default:throw Error(i(468,u))}m[Re]=s,ge(m),u=m}s.stateNode=u}else p0(g,s.type,s.stateNode);else s.stateNode=d0(g,u,s.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?p0(g,s.type,s.stateNode):d0(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&dg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Sn(r,s),An(s),u&512&&(me||l===null||Ti(l,l.return)),l!==null&&u&4&&dg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Sn(r,s),An(s),u&512&&(me||l===null||Ti(l,l.return)),s.flags&32){g=s.stateNode;try{Mn(g,"")}catch(K){ee(s,s.return,K)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,dg(s,g,l!==null?l.memoizedProps:g)),u&1024&&(mg=!0);break;case 6:if(Sn(r,s),An(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(K){ee(s,s.return,K)}}break;case 3:if(Th=null,g=Jn,Jn=vh(r.containerInfo),Sn(r,s),Jn=g,An(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{sc(r.containerInfo)}catch(K){ee(s,s.return,K)}mg&&(mg=!1,Tv(s));break;case 4:u=Jn,Jn=vh(s.stateNode.containerInfo),Sn(r,s),An(s),Jn=u;break;case 12:Sn(r,s),An(s);break;case 13:Sn(r,s),An(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Sg=Dn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,yg(s,u)));break;case 22:g=s.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,q=rs,W=me;if(rs=q||g,me=W||k,Sn(r,s),me=W,rs=q,An(s),u&8192)t:for(r=s.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||k||rs||me||Zr(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){k=l=r;try{if(m=k.stateNode,g)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=k.stateNode;var tt=k.memoizedProps.style,Y=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(K){ee(k,k.return,K)}}}else if(r.tag===6){if(l===null){k=r;try{k.stateNode.nodeValue=g?"":k.memoizedProps}catch(K){ee(k,k.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,yg(s,l))));break;case 19:Sn(r,s),An(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,yg(s,u)));break;case 30:break;case 21:break;default:Sn(r,s),An(s)}}function An(s){var r=s.flags;if(r&2){try{for(var l,u=s.return;u!==null;){if(dv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,m=gg(s);ah(s,m,g);break;case 5:var E=l.stateNode;l.flags&32&&(Mn(E,""),l.flags&=-33);var S=gg(s);ah(s,S,E);break;case 3:case 4:var k=l.stateNode.containerInfo,q=gg(s);pg(s,q,k);break;default:throw Error(i(161))}}catch(W){ee(s,s.return,W)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Tv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Tv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ns(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)mv(s,r.alternate,r),r=r.sibling}function Zr(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:ks(4,r,r.return),Zr(r);break;case 1:Ti(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&hv(r,r.return,l),Zr(r);break;case 27:Xl(r.stateNode);case 26:case 5:Ti(r,r.return),Zr(r);break;case 22:r.memoizedState===null&&Zr(r);break;case 30:Zr(r);break;default:Zr(r)}s=s.sibling}}function Ps(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=s,m=r,E=m.flags;switch(m.tag){case 0:case 11:case 15:Ps(g,m,l),jl(4,m);break;case 1:if(Ps(g,m,l),u=m,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(q){ee(u,u.return,q)}if(u=m,g=u.updateQueue,g!==null){var S=u.stateNode;try{var k=g.shared.hiddenCallbacks;if(k!==null)for(g.shared.hiddenCallbacks=null,g=0;g<k.length;g++)Xy(k[g],S)}catch(q){ee(u,u.return,q)}}l&&E&64&&uv(m),Bl(m,m.return);break;case 27:gv(m);case 26:case 5:Ps(g,m,l),l&&u===null&&E&4&&fv(m),Bl(m,m.return);break;case 12:Ps(g,m,l);break;case 13:Ps(g,m,l),l&&E&4&&vv(g,m);break;case 22:m.memoizedState===null&&Ps(g,m,l),Bl(m,m.return);break;case 30:break;default:Ps(g,m,l)}r=r.sibling}}function _g(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&xl(l))}function vg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&xl(s))}function Ei(s,r,l,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ev(s,r,l,u),r=r.sibling}function Ev(s,r,l,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Ei(s,r,l,u),g&2048&&jl(9,r);break;case 1:Ei(s,r,l,u);break;case 3:Ei(s,r,l,u),g&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&xl(s)));break;case 12:if(g&2048){Ei(s,r,l,u),s=r.stateNode;try{var m=r.memoizedProps,E=m.id,S=m.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(k){ee(r,r.return,k)}}else Ei(s,r,l,u);break;case 13:Ei(s,r,l,u);break;case 23:break;case 22:m=r.stateNode,E=r.alternate,r.memoizedState!==null?m._visibility&2?Ei(s,r,l,u):Hl(s,r):m._visibility&2?Ei(s,r,l,u):(m._visibility|=2,ro(s,r,l,u,(r.subtreeFlags&10256)!==0)),g&2048&&_g(E,r);break;case 24:Ei(s,r,l,u),g&2048&&vg(r.alternate,r);break;default:Ei(s,r,l,u)}}function ro(s,r,l,u,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=s,E=r,S=l,k=u,q=E.flags;switch(E.tag){case 0:case 11:case 15:ro(m,E,S,k,g),jl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?ro(m,E,S,k,g):Hl(m,E):(W._visibility|=2,ro(m,E,S,k,g)),g&&q&2048&&_g(E.alternate,E);break;case 24:ro(m,E,S,k,g),g&&q&2048&&vg(E.alternate,E);break;default:ro(m,E,S,k,g)}r=r.sibling}}function Hl(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,u=r,g=u.flags;switch(u.tag){case 22:Hl(l,u),g&2048&&_g(u.alternate,u);break;case 24:Hl(l,u),g&2048&&vg(u.alternate,u);break;default:Hl(l,u)}r=r.sibling}}var Fl=8192;function ao(s){if(s.subtreeFlags&Fl)for(s=s.child;s!==null;)Sv(s),s=s.sibling}function Sv(s){switch(s.tag){case 26:ao(s),s.flags&Fl&&s.memoizedState!==null&&cx(Jn,s.memoizedState,s.memoizedProps);break;case 5:ao(s);break;case 3:case 4:var r=Jn;Jn=vh(s.stateNode.containerInfo),ao(s),Jn=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=Fl,Fl=16777216,ao(s),Fl=r):ao(s));break;default:ao(s)}}function Av(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function ql(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];Ue=u,xv(u,s)}Av(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wv(s),s=s.sibling}function wv(s){switch(s.tag){case 0:case 11:case 15:ql(s),s.flags&2048&&ks(9,s,s.return);break;case 3:ql(s);break;case 12:ql(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,oh(s)):ql(s);break;default:ql(s)}}function oh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];Ue=u,xv(u,s)}Av(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:ks(8,r,r.return),oh(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,oh(r));break;default:oh(r)}s=s.sibling}}function xv(s,r){for(;Ue!==null;){var l=Ue;switch(l.tag){case 0:case 11:case 15:ks(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:xl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ue=u;else t:for(l=s;Ue!==null;){u=Ue;var g=u.sibling,m=u.return;if(yv(u),u===l){Ue=null;break t}if(g!==null){g.return=m,Ue=g;break t}Ue=m}}}var ww={getCacheForType:function(s){var r=We(De),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l}},xw=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ie=null,Dt=null,Lt=0,$t=0,wn=null,Vs=!1,oo=!1,bg=!1,os=0,de=0,Ls=0,Jr=0,Tg=0,Bn=0,lo=0,Gl=null,gn=null,Eg=!1,Sg=0,lh=1/0,ch=null,Us=null,Ye=0,zs=null,co=null,uo=0,Ag=0,wg=null,Rv=null,Yl=0,xg=null;function xn(){if((Kt&2)!==0&&Lt!==0)return Lt&-Lt;if($.T!==null){var s=Wa;return s!==0?s:kg()}return bs()}function Cv(){Bn===0&&(Bn=(Lt&536870912)===0||Ft?el():536870912);var s=jn.current;return s!==null&&(s.flags|=32),Bn}function Rn(s,r,l){(s===ie&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(ho(s,0),js(s,Lt,Bn,!1)),zi(s,l),((Kt&2)===0||s!==ie)&&(s===ie&&((Kt&2)===0&&(Jr|=l),de===4&&js(s,Lt,Bn,!1)),Si(s))}function Iv(s,r,l){if((Kt&6)!==0)throw Error(i(327));var u=!l&&(r&124)===0&&(r&s.expiredLanes)===0||wr(s,r),g=u?Iw(s,r):Ig(s,r,!0),m=u;do{if(g===0){oo&&!u&&js(s,r,0,!1);break}else{if(l=s.current.alternate,m&&!Rw(l)){g=Ig(s,r,!1),m=!1;continue}if(g===2){if(m=r,s.errorRecoveryDisabledLanes&m)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var S=s;g=Gl;var k=S.current.memoizedState.isDehydrated;if(k&&(ho(S,E).flags|=256),E=Ig(S,E,!1),E!==2){if(bg&&!k){S.errorRecoveryDisabledLanes|=m,Jr|=m,g=4;break t}m=gn,gn=g,m!==null&&(gn===null?gn=m:gn.push.apply(gn,m))}g=E}if(m=!1,g!==2)continue}}if(g===1){ho(s,0),js(s,r,0,!0);break}t:{switch(u=s,m=g,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:js(u,r,Bn,!Vs);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=Sg+300-Dn(),10<g)){if(js(u,r,Bn,!Vs),Ca(u,0,!0)!==0)break t;u.timeoutHandle=s0(Dv.bind(null,u,l,gn,ch,Eg,r,Bn,Jr,lo,Vs,m,2,-0,0),g);break t}Dv(u,l,gn,ch,Eg,r,Bn,Jr,lo,Vs,m,0,-0,0)}}break}while(!0);Si(s)}function Dv(s,r,l,u,g,m,E,S,k,q,W,tt,Y,K){if(s.timeoutHandle=-1,tt=r.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Jl={stylesheets:null,count:0,unsuspend:lx},Sv(r),tt=ux(),tt!==null)){s.cancelPendingCommit=tt(Lv.bind(null,s,r,m,l,u,g,E,S,k,W,1,Y,K)),js(s,m,E,!q);return}Lv(s,r,m,l,u,g,E,S,k)}function Rw(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],m=g.getSnapshot;g=g.value;try{if(!Tn(m(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function js(s,r,l,u){r&=~Tg,r&=~Jr,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var g=r;0<g;){var m=31-Xe(g),E=1<<m;u[m]=-1,g&=~E}l!==0&&li(s,l,r)}function uh(){return(Kt&6)===0?(Kl(0),!1):!0}function Rg(){if(Dt!==null){if($t===0)var s=Dt.return;else s=Dt,Ji=Kr=null,qd(s),io=null,Ll=0,s=Dt;for(;s!==null;)cv(s.alternate,s),s=s.return;Dt=null}}function ho(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,Gw(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Rg(),ie=s,Dt=l=Xi(s.current,null),Lt=r,$t=0,wn=null,Vs=!1,oo=wr(s,r),bg=!1,lo=Bn=Tg=Jr=Ls=de=0,gn=Gl=null,Eg=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var g=31-Xe(u),m=1<<g;r|=s[g],u&=~m}return os=r,Mu(),l}function Ov(s,r){Ct=null,$.H=Wu,r===Cl||r===Bu?(r=$y(),$t=3):r===Gy?(r=$y(),$t=4):$t=r===Q_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,Dt===null&&(de=1,nh(s,Vn(r,s.current)))}function Mv(){var s=$.H;return $.H=Wu,s===null?Wu:s}function kv(){var s=$.A;return $.A=ww,s}function Cg(){de=4,Vs||(Lt&4194048)!==Lt&&jn.current!==null||(oo=!0),(Ls&134217727)===0&&(Jr&134217727)===0||ie===null||js(ie,Lt,Bn,!1)}function Ig(s,r,l){var u=Kt;Kt|=2;var g=Mv(),m=kv();(ie!==s||Lt!==r)&&(ch=null,ho(s,r)),r=!1;var E=de;t:do try{if($t!==0&&Dt!==null){var S=Dt,k=wn;switch($t){case 8:Rg(),E=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(r=!0);var q=$t;if($t=0,wn=null,fo(s,S,k,q),l&&oo){E=0;break t}break;default:q=$t,$t=0,wn=null,fo(s,S,k,q)}}Cw(),E=de;break}catch(W){Ov(s,W)}while(!0);return r&&s.shellSuspendCounter++,Ji=Kr=null,Kt=u,$.H=g,$.A=m,Dt===null&&(ie=null,Lt=0,Mu()),E}function Cw(){for(;Dt!==null;)Nv(Dt)}function Iw(s,r){var l=Kt;Kt|=2;var u=Mv(),g=kv();ie!==s||Lt!==r?(ch=null,lh=Dn()+500,ho(s,r)):oo=wr(s,r);t:do try{if($t!==0&&Dt!==null){r=Dt;var m=wn;e:switch($t){case 1:$t=0,wn=null,fo(s,r,m,1);break;case 2:case 9:if(Yy(m)){$t=0,wn=null,Pv(r);break}r=function(){$t!==2&&$t!==9||ie!==s||($t=7),Si(s)},m.then(r,r);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Yy(m)?($t=0,wn=null,Pv(r)):($t=0,wn=null,fo(s,r,m,7));break;case 5:var E=null;switch(Dt.tag){case 26:E=Dt.memoizedState;case 5:case 27:var S=Dt;if(!E||m0(E)){$t=0,wn=null;var k=S.sibling;if(k!==null)Dt=k;else{var q=S.return;q!==null?(Dt=q,hh(q)):Dt=null}break e}}$t=0,wn=null,fo(s,r,m,5);break;case 6:$t=0,wn=null,fo(s,r,m,6);break;case 8:Rg(),de=6;break t;default:throw Error(i(462))}}Dw();break}catch(W){Ov(s,W)}while(!0);return Ji=Kr=null,$.H=u,$.A=g,Kt=l,Dt!==null?0:(ie=null,Lt=0,Mu(),de)}function Dw(){for(;Dt!==null&&!Wo();)Nv(Dt)}function Nv(s){var r=ov(s.alternate,s,os);s.memoizedProps=s.pendingProps,r===null?hh(s):Dt=r}function Pv(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=ev(l,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=ev(l,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:qd(r);default:cv(l,r),r=Dt=Vy(r,os),r=ov(l,r,os)}s.memoizedProps=s.pendingProps,r===null?hh(s):Dt=r}function fo(s,r,l,u){Ji=Kr=null,qd(r),io=null,Ll=0;var g=r.return;try{if(vw(s,g,r,l,Lt)){de=1,nh(s,Vn(l,s.current)),Dt=null;return}}catch(m){if(g!==null)throw Dt=g,m;de=1,nh(s,Vn(l,s.current)),Dt=null;return}r.flags&32768?(Ft||u===1?s=!0:oo||(Lt&536870912)!==0?s=!1:(Vs=s=!0,(u===2||u===9||u===3||u===6)&&(u=jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Vv(r,s)):hh(r)}function hh(s){var r=s;do{if((r.flags&32768)!==0){Vv(r,Vs);return}s=r.return;var l=Tw(r.alternate,r,os);if(l!==null){Dt=l;return}if(r=r.sibling,r!==null){Dt=r;return}Dt=r=s}while(r!==null);de===0&&(de=5)}function Vv(s,r){do{var l=Ew(s.alternate,s);if(l!==null){l.flags&=32767,Dt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){Dt=s;return}Dt=s=l}while(s!==null);de=6,Dt=null}function Lv(s,r,l,u,g,m,E,S,k){s.cancelPendingCommit=null;do fh();while(Ye!==0);if((Kt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(m=r.lanes|r.childLanes,m|=vd,il(s,l,m,E,S,k),s===ie&&(Dt=ie=null,Lt=0),co=r,zs=s,uo=l,Ag=m,wg=g,Rv=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Nw(Tr,function(){return Hv(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,g=at.p,at.p=2,E=Kt,Kt|=4;try{Sw(s,r,l)}finally{Kt=E,at.p=g,$.T=u}}Ye=1,Uv(),zv(),jv()}}function Uv(){if(Ye===1){Ye=0;var s=zs,r=co,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=at.p;at.p=2;var g=Kt;Kt|=4;try{bv(r,s);var m=Bg,E=xy(s.containerInfo),S=m.focusedElem,k=m.selectionRange;if(E!==S&&S&&S.ownerDocument&&wy(S.ownerDocument.documentElement,S)){if(k!==null&&gd(S)){var q=k.start,W=k.end;if(W===void 0&&(W=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(W,S.value.length);else{var tt=S.ownerDocument||document,Y=tt&&tt.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),Et=S.textContent.length,_t=Math.min(k.start,Et),te=k.end===void 0?_t:Math.min(k.end,Et);!K.extend&&_t>te&&(E=te,te=_t,_t=E);var j=Ay(S,_t),U=Ay(S,te);if(j&&U&&(K.rangeCount!==1||K.anchorNode!==j.node||K.anchorOffset!==j.offset||K.focusNode!==U.node||K.focusOffset!==U.offset)){var F=tt.createRange();F.setStart(j.node,j.offset),K.removeAllRanges(),_t>te?(K.addRange(F),K.extend(U.node,U.offset)):(F.setEnd(U.node,U.offset),K.addRange(F))}}}}for(tt=[],K=S;K=K.parentNode;)K.nodeType===1&&tt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<tt.length;S++){var Z=tt[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Ah=!!jg,Bg=jg=null}finally{Kt=g,at.p=u,$.T=l}}s.current=r,Ye=2}}function zv(){if(Ye===2){Ye=0;var s=zs,r=co,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=at.p;at.p=2;var g=Kt;Kt|=4;try{mv(s,r.alternate,r)}finally{Kt=g,at.p=u,$.T=l}}Ye=3}}function jv(){if(Ye===4||Ye===3){Ye=0,ou();var s=zs,r=co,l=uo,u=Rv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ye=5:(Ye=0,co=zs=null,Bv(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Us=null),Ia(l),r=r.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(he,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=$.T,g=at.p,at.p=2,$.T=null;try{for(var m=s.onRecoverableError,E=0;E<u.length;E++){var S=u[E];m(S.value,{componentStack:S.stack})}}finally{$.T=r,at.p=g}}(uo&3)!==0&&fh(),Si(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===xg?Yl++:(Yl=0,xg=s):Yl=0,Kl(0)}}function Bv(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,xl(r)))}function fh(s){return Uv(),zv(),jv(),Hv()}function Hv(){if(Ye!==5)return!1;var s=zs,r=Ag;Ag=0;var l=Ia(uo),u=$.T,g=at.p;try{at.p=32>l?32:l,$.T=null,l=wg,wg=null;var m=zs,E=uo;if(Ye=0,co=zs=null,uo=0,(Kt&6)!==0)throw Error(i(331));var S=Kt;if(Kt|=4,wv(m.current),Ev(m,m.current,E,l),Kt=S,Kl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(he,m)}catch{}return!0}finally{at.p=g,$.T=u,Bv(s,r)}}function Fv(s,r,l){r=Vn(l,r),r=sg(s.stateNode,r,2),s=Is(s,r,2),s!==null&&(zi(s,2),Si(s))}function ee(s,r,l){if(s.tag===3)Fv(s,s,l);else for(;r!==null;){if(r.tag===3){Fv(r,s,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Us===null||!Us.has(u))){s=Vn(l,s),l=K_(2),u=Is(r,l,2),u!==null&&($_(l,u,r,s),zi(u,2),Si(u));break}}r=r.return}}function Dg(s,r,l){var u=s.pingCache;if(u===null){u=s.pingCache=new xw;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(l)||(bg=!0,g.add(l),s=Ow.bind(null,s,r,l),r.then(s,s))}function Ow(s,r,l){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ie===s&&(Lt&l)===l&&(de===4||de===3&&(Lt&62914560)===Lt&&300>Dn()-Sg?(Kt&2)===0&&ho(s,0):Tg|=l,lo===Lt&&(lo=0)),Si(s)}function qv(s,r){r===0&&(r=nl()),s=Ka(s,r),s!==null&&(zi(s,r),Si(s))}function Mw(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),qv(s,l)}function kw(s,r){var l=0;switch(s.tag){case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),qv(s,l)}function Nw(s,r){return vr(s,r)}var dh=null,go=null,Og=!1,gh=!1,Mg=!1,ta=0;function Si(s){s!==go&&s.next===null&&(go===null?dh=go=s:go=go.next=s),gh=!0,Og||(Og=!0,Vw())}function Kl(s,r){if(!Mg&&gh){Mg=!0;do for(var l=!1,u=dh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var m=0;else{var E=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-Xe(42|s)+1)-1,m&=g&~(E&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,$v(u,m))}else m=Lt,m=Ca(u,u===ie?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||wr(u,m)||(l=!0,$v(u,m));u=u.next}while(l);Mg=!1}}function Pw(){Gv()}function Gv(){gh=Og=!1;var s=0;ta!==0&&(qw()&&(s=ta),ta=0);for(var r=Dn(),l=null,u=dh;u!==null;){var g=u.next,m=Yv(u,r);m===0?(u.next=null,l===null?dh=g:l.next=g,g===null&&(go=l)):(l=u,(s!==0||(m&3)!==0)&&(gh=!0)),u=g}Kl(s)}function Yv(s,r){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,m=s.pendingLanes&-62914561;0<m;){var E=31-Xe(m),S=1<<E,k=g[E];k===-1?((S&l)===0||(S&u)!==0)&&(g[E]=tl(S,r)):k<=r&&(s.expiredLanes|=S),m&=~S}if(r=ie,l=Lt,l=Ca(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===r&&($t===2||$t===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&br(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||wr(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(u!==null&&br(u),Ia(l)){case 2:case 8:l=xa;break;case 32:l=Tr;break;case 268435456:l=Ra;break;default:l=Tr}return u=Kv.bind(null,s),l=vr(l,u),s.callbackPriority=r,s.callbackNode=l,r}return u!==null&&u!==null&&br(u),s.callbackPriority=2,s.callbackNode=null,2}function Kv(s,r){if(Ye!==0&&Ye!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(fh()&&s.callbackNode!==l)return null;var u=Lt;return u=Ca(s,s===ie?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Iv(s,u,r),Yv(s,Dn()),s.callbackNode!=null&&s.callbackNode===l?Kv.bind(null,s):null)}function $v(s,r){if(fh())return null;Iv(s,r,!0)}function Vw(){Yw(function(){(Kt&6)!==0?vr(Zo,Pw):Gv()})}function kg(){return ta===0&&(ta=el()),ta}function Qv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Pa(""+s)}function Xv(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function Lw(s,r,l,u,g){if(r==="submit"&&l&&l.stateNode===g){var m=Qv((g[be]||null).action),E=u.submitter;E&&(r=(r=E[be]||null)?Qv(r.formAction):E.getAttribute("formAction"),r!==null&&(m=r,E=null));var S=new Va("action","action",null,u,g);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ta!==0){var k=E?Xv(g,E):new FormData(g);Jd(l,{pending:!0,data:k,method:g.method,action:m},null,k)}}else typeof m=="function"&&(S.preventDefault(),k=E?Xv(g,E):new FormData(g),Jd(l,{pending:!0,data:k,method:g.method,action:m},m,k))},currentTarget:g}]})}}for(var Ng=0;Ng<_d.length;Ng++){var Pg=_d[Ng],Uw=Pg.toLowerCase(),zw=Pg[0].toUpperCase()+Pg.slice(1);Zn(Uw,"on"+zw)}Zn(Iy,"onAnimationEnd"),Zn(Dy,"onAnimationIteration"),Zn(Oy,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(nw,"onTransitionRun"),Zn(iw,"onTransitionStart"),Zn(sw,"onTransitionCancel"),Zn(My,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Wv(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var m=void 0;if(r)for(var E=u.length-1;0<=E;E--){var S=u[E],k=S.instance,q=S.currentTarget;if(S=S.listener,k!==m&&g.isPropagationStopped())break t;m=S,g.currentTarget=q;try{m(g)}catch(W){eh(W)}g.currentTarget=null,m=k}else for(E=0;E<u.length;E++){if(S=u[E],k=S.instance,q=S.currentTarget,S=S.listener,k!==m&&g.isPropagationStopped())break t;m=S,g.currentTarget=q;try{m(g)}catch(W){eh(W)}g.currentTarget=null,m=k}}}}function Ot(s,r){var l=r[rl];l===void 0&&(l=r[rl]=new Set);var u=s+"__bubble";l.has(u)||(Zv(r,s,2,!1),l.add(u))}function Vg(s,r,l){var u=0;r&&(u|=4),Zv(l,s,u,r)}var ph="_reactListening"+Math.random().toString(36).slice(2);function Lg(s){if(!s[ph]){s[ph]=!0,al.forEach(function(l){l!=="selectionchange"&&(jw.has(l)||Vg(l,!1,s),Vg(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[ph]||(r[ph]=!0,Vg("selectionchange",!1,r))}}function Zv(s,r,l,u){switch(E0(r)){case 2:var g=dx;break;case 8:g=gx;break;default:g=Wg}l=g.bind(null,r,l,s),g=void 0,!Nn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(r,l,{capture:!0,passive:g}):s.addEventListener(r,l,!0):g!==void 0?s.addEventListener(r,l,{passive:g}):s.addEventListener(r,l,!1)}function Ug(s,r,l,u,g){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===g)break;if(E===4)for(E=u.return;E!==null;){var k=E.tag;if((k===3||k===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;S!==null;){if(E=ji(S),E===null)return;if(k=E.tag,k===5||k===6||k===26||k===27){u=m=E;continue t}S=S.parentNode}}u=u.return}yu(function(){var q=m,W=kn(l),tt=[];t:{var Y=ky.get(s);if(Y!==void 0){var K=Va,Et=s;switch(s){case"keypress":if(gi(l)===0)break t;case"keydown":case"keyup":K=Ha;break;case"focusin":Et="focus",K=za;break;case"focusout":Et="blur",K=za;break;case"beforeblur":case"afterblur":K=za;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=ud;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=wu;break;case Iy:case Dy:case Oy:K=ja;break;case My:K=Ru;break;case"scroll":case"scrollend":K=_u;break;case"wheel":K=Fa;break;case"copy":case"cut":case"paste":K=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=_l;break;case"toggle":case"beforetoggle":K=Iu}var _t=(r&4)!==0,te=!_t&&(s==="scroll"||s==="scrollend"),j=_t?Y!==null?Y+"Capture":null:Y;_t=[];for(var U=q,F;U!==null;){var Z=U;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||j===null||(Z=kr(U,j),Z!=null&&_t.push(Ql(U,Z,F))),te)break;U=U.return}0<_t.length&&(Y=new K(Y,Et,null,l,W),tt.push({event:Y,listeners:_t}))}}if((r&7)===0){t:{if(Y=s==="mouseover"||s==="pointerover",K=s==="mouseout"||s==="pointerout",Y&&l!==qi&&(Et=l.relatedTarget||l.fromElement)&&(ji(Et)||Et[On]))break t;if((K||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(Et=l.relatedTarget||l.toElement,K=q,Et=Et?ji(Et):null,Et!==null&&(te=o(Et),_t=Et.tag,Et!==te||_t!==5&&_t!==27&&_t!==6)&&(Et=null)):(K=null,Et=q),K!==Et)){if(_t=Pn,Z="onMouseLeave",j="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(_t=_l,Z="onPointerLeave",j="onPointerEnter",U="pointer"),te=K==null?Y:ui(K),F=Et==null?Y:ui(Et),Y=new _t(Z,U+"leave",K,l,W),Y.target=te,Y.relatedTarget=F,Z=null,ji(W)===q&&(_t=new _t(j,U+"enter",Et,l,W),_t.target=F,_t.relatedTarget=te,Z=_t),te=Z,K&&Et)e:{for(_t=K,j=Et,U=0,F=_t;F;F=po(F))U++;for(F=0,Z=j;Z;Z=po(Z))F++;for(;0<U-F;)_t=po(_t),U--;for(;0<F-U;)j=po(j),F--;for(;U--;){if(_t===j||j!==null&&_t===j.alternate)break e;_t=po(_t),j=po(j)}_t=null}else _t=null;K!==null&&Jv(tt,Y,K,_t,!1),Et!==null&&te!==null&&Jv(tt,te,Et,_t,!0)}}t:{if(Y=q?ui(q):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var ht=_y;else if(Ie(Y))if(vy)ht=J1;else{ht=W1;var It=X1}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?q&&hl(q.elementType)&&(ht=_y):ht=Z1;if(ht&&(ht=ht(s,q))){Qi(tt,ht,l,W);break t}It&&It(s,Y,q),s==="focusout"&&q&&Y.type==="number"&&q.memoizedProps.value!=null&&As(Y,"number",Y.value)}switch(It=q?ui(q):window,s){case"focusin":(Ie(It)||It.contentEditable==="true")&&(qa=It,pd=q,Tl=null);break;case"focusout":Tl=pd=qa=null;break;case"mousedown":md=!0;break;case"contextmenu":case"mouseup":case"dragend":md=!1,Ry(tt,l,W);break;case"selectionchange":if(ew)break;case"keydown":case"keyup":Ry(tt,l,W)}var gt;if(yi)t:{switch(s){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else Pt?Q(s,l)&&(bt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(bt="onCompositionStart");bt&&(b&&l.locale!=="ko"&&(Pt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Pt&&(gt=dl()):(di=W,ws="value"in di?di.value:di.textContent,Pt=!0)),It=mh(q,bt),0<It.length&&(bt=new ml(bt,s,null,l,W),tt.push({event:bt,listeners:It}),gt?bt.data=gt:(gt=ot(l),gt!==null&&(bt.data=gt)))),(gt=_?Ce(s,l):Vt(s,l))&&(bt=mh(q,"onBeforeInput"),0<bt.length&&(It=new ml("onBeforeInput","beforeinput",null,l,W),tt.push({event:It,listeners:bt}),It.data=gt)),Lw(tt,s,q,l,W)}Wv(tt,r)})}function Ql(s,r,l){return{instance:s,listener:r,currentTarget:l}}function mh(s,r){for(var l=r+"Capture",u=[];s!==null;){var g=s,m=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||m===null||(g=kr(s,l),g!=null&&u.unshift(Ql(s,g,m)),g=kr(s,r),g!=null&&u.push(Ql(s,g,m))),s.tag===3)return u;s=s.return}return[]}function po(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Jv(s,r,l,u,g){for(var m=r._reactName,E=[];l!==null&&l!==u;){var S=l,k=S.alternate,q=S.stateNode;if(S=S.tag,k!==null&&k===u)break;S!==5&&S!==26&&S!==27||q===null||(k=q,g?(q=kr(l,m),q!=null&&E.unshift(Ql(l,q,k))):g||(q=kr(l,m),q!=null&&E.push(Ql(l,q,k)))),l=l.return}E.length!==0&&s.push({event:r,listeners:E})}var Bw=/\r\n?/g,Hw=/\u0000|\uFFFD/g;function t0(s){return(typeof s=="string"?s:""+s).replace(Bw,`
`).replace(Hw,"")}function e0(s,r){return r=t0(r),t0(s)===r}function yh(){}function Jt(s,r,l,u,g,m){switch(l){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Mn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Mn(s,""+u);break;case"className":hi(s,"class",u);break;case"tabIndex":hi(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(s,l,u);break;case"style":ul(s,u,m);break;case"data":if(r!=="object"){hi(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Pa(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(r!=="input"&&Jt(s,r,"name",g.name,g,null),Jt(s,r,"formEncType",g.formEncType,g,null),Jt(s,r,"formMethod",g.formMethod,g,null),Jt(s,r,"formTarget",g.formTarget,g,null)):(Jt(s,r,"encType",g.encType,g,null),Jt(s,r,"method",g.method,g,null),Jt(s,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Pa(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=yh);break;case"onScroll":u!=null&&Ot("scroll",s);break;case"onScrollEnd":u!=null&&Ot("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Pa(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Ot("beforetoggle",s),Ot("toggle",s),Ss(s,"popover",u);break;case"xlinkActuate":Fe(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Fe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Fe(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Fe(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Fe(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Fe(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ss(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ld.get(l)||l,Ss(s,l,u))}}function zg(s,r,l,u,g,m){switch(l){case"style":ul(s,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Mn(s,u):(typeof u=="number"||typeof u=="bigint")&&Mn(s,""+u);break;case"onScroll":u!=null&&Ot("scroll",s);break;case"onScrollEnd":u!=null&&Ot("scrollend",s);break;case"onClick":u!=null&&(s.onclick=yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),m=s[be]||null,m=m!=null?m[l]:null,typeof m=="function"&&s.removeEventListener(r,m,g),typeof u=="function")){typeof m!="function"&&m!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Ss(s,l,u)}}}function Ke(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",s),Ot("load",s);var u=!1,g=!1,m;for(m in l)if(l.hasOwnProperty(m)){var E=l[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Jt(s,r,m,E,l,null)}}g&&Jt(s,r,"srcSet",l.srcSet,l,null),u&&Jt(s,r,"src",l.src,l,null);return;case"input":Ot("invalid",s);var S=m=E=g=null,k=null,q=null;for(u in l)if(l.hasOwnProperty(u)){var W=l[u];if(W!=null)switch(u){case"name":g=W;break;case"type":E=W;break;case"checked":k=W;break;case"defaultChecked":q=W;break;case"value":m=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:Jt(s,r,u,W,l,null)}}Dr(s,m,S,k,q,E,g,!1),Na(s);return;case"select":Ot("invalid",s),u=E=m=null;for(g in l)if(l.hasOwnProperty(g)&&(S=l[g],S!=null))switch(g){case"value":m=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:Jt(s,r,g,S,l,null)}r=m,l=E,s.multiple=!!u,r!=null?Fi(s,!!u,r,!1):l!=null&&Fi(s,!!u,l,!0);return;case"textarea":Ot("invalid",s),m=g=u=null;for(E in l)if(l.hasOwnProperty(E)&&(S=l[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":g=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Jt(s,r,E,S,l,null)}Or(s,u,g,m),Na(s);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(u=l[k],u!=null))switch(k){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Jt(s,r,k,u,l,null)}return;case"dialog":Ot("beforetoggle",s),Ot("toggle",s),Ot("cancel",s),Ot("close",s);break;case"iframe":case"object":Ot("load",s);break;case"video":case"audio":for(u=0;u<$l.length;u++)Ot($l[u],s);break;case"image":Ot("error",s),Ot("load",s);break;case"details":Ot("toggle",s);break;case"embed":case"source":case"link":Ot("error",s),Ot("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(u=l[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Jt(s,r,q,u,l,null)}return;default:if(hl(r)){for(W in l)l.hasOwnProperty(W)&&(u=l[W],u!==void 0&&zg(s,r,W,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&Jt(s,r,S,u,l,null))}function Fw(s,r,l,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,m=null,E=null,S=null,k=null,q=null,W=null;for(K in l){var tt=l[K];if(l.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=tt;default:u.hasOwnProperty(K)||Jt(s,r,K,null,u,tt)}}for(var Y in u){var K=u[Y];if(tt=l[Y],u.hasOwnProperty(Y)&&(K!=null||tt!=null))switch(Y){case"type":m=K;break;case"name":g=K;break;case"checked":q=K;break;case"defaultChecked":W=K;break;case"value":E=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:K!==tt&&Jt(s,r,Y,K,u,tt)}}bn(s,E,S,k,q,W,m,g);return;case"select":K=E=S=Y=null;for(m in l)if(k=l[m],l.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":K=k;default:u.hasOwnProperty(m)||Jt(s,r,m,null,u,k)}for(g in u)if(m=u[g],k=l[g],u.hasOwnProperty(g)&&(m!=null||k!=null))switch(g){case"value":Y=m;break;case"defaultValue":S=m;break;case"multiple":E=m;default:m!==k&&Jt(s,r,g,m,u,k)}r=S,l=E,u=K,Y!=null?Fi(s,!!l,Y,!1):!!u!=!!l&&(r!=null?Fi(s,!!l,r,!0):Fi(s,!!l,l?[]:"",!1));return;case"textarea":K=Y=null;for(S in l)if(g=l[S],l.hasOwnProperty(S)&&g!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Jt(s,r,S,null,u,g)}for(E in u)if(g=u[E],m=l[E],u.hasOwnProperty(E)&&(g!=null||m!=null))switch(E){case"value":Y=g;break;case"defaultValue":K=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==m&&Jt(s,r,E,g,u,m)}Wt(s,Y,K);return;case"option":for(var Et in l)if(Y=l[Et],l.hasOwnProperty(Et)&&Y!=null&&!u.hasOwnProperty(Et))switch(Et){case"selected":s.selected=!1;break;default:Jt(s,r,Et,null,u,Y)}for(k in u)if(Y=u[k],K=l[k],u.hasOwnProperty(k)&&Y!==K&&(Y!=null||K!=null))switch(k){case"selected":s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Jt(s,r,k,Y,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in l)Y=l[_t],l.hasOwnProperty(_t)&&Y!=null&&!u.hasOwnProperty(_t)&&Jt(s,r,_t,null,u,Y);for(q in u)if(Y=u[q],K=l[q],u.hasOwnProperty(q)&&Y!==K&&(Y!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:Jt(s,r,q,Y,u,K)}return;default:if(hl(r)){for(var te in l)Y=l[te],l.hasOwnProperty(te)&&Y!==void 0&&!u.hasOwnProperty(te)&&zg(s,r,te,void 0,u,Y);for(W in u)Y=u[W],K=l[W],!u.hasOwnProperty(W)||Y===K||Y===void 0&&K===void 0||zg(s,r,W,Y,u,K);return}}for(var j in l)Y=l[j],l.hasOwnProperty(j)&&Y!=null&&!u.hasOwnProperty(j)&&Jt(s,r,j,null,u,Y);for(tt in u)Y=u[tt],K=l[tt],!u.hasOwnProperty(tt)||Y===K||Y==null&&K==null||Jt(s,r,tt,Y,u,K)}var jg=null,Bg=null;function _h(s){return s.nodeType===9?s:s.ownerDocument}function n0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i0(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Hg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fg=null;function qw(){var s=window.event;return s&&s.type==="popstate"?s===Fg?!1:(Fg=s,!0):(Fg=null,!1)}var s0=typeof setTimeout=="function"?setTimeout:void 0,Gw=typeof clearTimeout=="function"?clearTimeout:void 0,r0=typeof Promise=="function"?Promise:void 0,Yw=typeof queueMicrotask=="function"?queueMicrotask:typeof r0<"u"?function(s){return r0.resolve(null).then(s).catch(Kw)}:s0;function Kw(s){setTimeout(function(){throw s})}function Bs(s){return s==="head"}function a0(s,r){var l=r,u=0,g=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(0<u&&8>u){l=u;var E=s.ownerDocument;if(l&1&&Xl(E.documentElement),l&2&&Xl(E.body),l&4)for(l=E.head,Xl(l),E=l.firstChild;E;){var S=E.nextSibling,k=E.nodeName;E[xr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=S}}if(g===0){s.removeChild(m),sc(r);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:u=l.charCodeAt(0)-48;else u=0;l=m}while(l);sc(r)}function qg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qg(l),Es(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function $w(s,r,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[xr])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(m=s.getAttribute("rel"),m==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(m!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(m=s.getAttribute("src"),(m!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&m&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var m=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===m)return s}else return s;if(s=ti(s.nextSibling),s===null)break}return null}function Qw(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ti(s.nextSibling),s===null))return null;return s}function Gg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Xw(s,r){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")r();else{var u=function(){r(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ti(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Yg=null;function o0(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}function l0(s,r,l){switch(r=_h(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Xl(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Es(s)}var Hn=new Map,c0=new Set;function vh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ls=at.d;at.d={f:Ww,r:Zw,D:Jw,C:tx,L:ex,m:nx,X:sx,S:ix,M:rx};function Ww(){var s=ls.f(),r=uh();return s||r}function Zw(s){var r=ci(s);r!==null&&r.tag===5&&r.type==="form"?I_(r):ls.r(s)}var mo=typeof document>"u"?null:document;function u0(s,r,l){var u=mo;if(u&&typeof r=="string"&&r){var g=Te(r);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),c0.has(g)||(c0.add(g),s={rel:s,crossOrigin:l,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),Ke(r,"link",s),ge(r),u.head.appendChild(r)))}}function Jw(s){ls.D(s),u0("dns-prefetch",s,null)}function tx(s,r){ls.C(s,r),u0("preconnect",s,r)}function ex(s,r,l){ls.L(s,r,l);var u=mo;if(u&&s&&r){var g='link[rel="preload"][as="'+Te(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Te(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Te(l.imageSizes)+'"]')):g+='[href="'+Te(s)+'"]';var m=g;switch(r){case"style":m=yo(s);break;case"script":m=_o(s)}Hn.has(m)||(s=y({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),Hn.set(m,s),u.querySelector(g)!==null||r==="style"&&u.querySelector(Wl(m))||r==="script"&&u.querySelector(Zl(m))||(r=u.createElement("link"),Ke(r,"link",s),ge(r),u.head.appendChild(r)))}}function nx(s,r){ls.m(s,r);var l=mo;if(l&&s){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+Te(u)+'"][href="'+Te(s)+'"]',m=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=_o(s)}if(!Hn.has(m)&&(s=y({rel:"modulepreload",href:s},r),Hn.set(m,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Zl(m)))return}u=l.createElement("link"),Ke(u,"link",s),ge(u),l.head.appendChild(u)}}}function ix(s,r,l){ls.S(s,r,l);var u=mo;if(u&&s){var g=an(u).hoistableStyles,m=yo(s);r=r||"default";var E=g.get(m);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(Wl(m)))S.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":r},l),(l=Hn.get(m))&&Kg(s,l);var k=E=u.createElement("link");ge(k),Ke(k,"link",s),k._p=new Promise(function(q,W){k.onload=q,k.onerror=W}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,bh(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:S},g.set(m,E)}}}function sx(s,r){ls.X(s,r);var l=mo;if(l&&s){var u=an(l).hoistableScripts,g=_o(s),m=u.get(g);m||(m=l.querySelector(Zl(g)),m||(s=y({src:s,async:!0},r),(r=Hn.get(g))&&$g(s,r),m=l.createElement("script"),ge(m),Ke(m,"link",s),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(g,m))}}function rx(s,r){ls.M(s,r);var l=mo;if(l&&s){var u=an(l).hoistableScripts,g=_o(s),m=u.get(g);m||(m=l.querySelector(Zl(g)),m||(s=y({src:s,async:!0,type:"module"},r),(r=Hn.get(g))&&$g(s,r),m=l.createElement("script"),ge(m),Ke(m,"link",s),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(g,m))}}function h0(s,r,l,u){var g=(g=yt.current)?vh(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=yo(l.href),l=an(g).hoistableStyles,u=l.get(r),u||(u={type:"style",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=yo(l.href);var m=an(g).hoistableStyles,E=m.get(s);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(s,E),(m=g.querySelector(Wl(s)))&&!m._p&&(E.instance=m,E.state.loading=5),Hn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Hn.set(s,l),m||ax(g,s,l,E.state))),r&&u===null)throw Error(i(528,""));return E}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=_o(l),l=an(g).hoistableScripts,u=l.get(r),u||(u={type:"script",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function yo(s){return'href="'+Te(s)+'"'}function Wl(s){return'link[rel="stylesheet"]['+s+"]"}function f0(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function ax(s,r,l,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ke(r,"link",l),ge(r),s.head.appendChild(r))}function _o(s){return'[src="'+Te(s)+'"]'}function Zl(s){return"script[async]"+s}function d0(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+Te(l.href)+'"]');if(u)return r.instance=u,ge(u),u;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),ge(u),Ke(u,"style",g),bh(u,l.precedence,s),r.instance=u;case"stylesheet":g=yo(l.href);var m=s.querySelector(Wl(g));if(m)return r.state.loading|=4,r.instance=m,ge(m),m;u=f0(l),(g=Hn.get(g))&&Kg(u,g),m=(s.ownerDocument||s).createElement("link"),ge(m);var E=m;return E._p=new Promise(function(S,k){E.onload=S,E.onerror=k}),Ke(m,"link",u),r.state.loading|=4,bh(m,l.precedence,s),r.instance=m;case"script":return m=_o(l.src),(g=s.querySelector(Zl(m)))?(r.instance=g,ge(g),g):(u=l,(g=Hn.get(m))&&(u=y({},l),$g(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),ge(g),Ke(g,"link",u),s.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,bh(u,l.precedence,s));return r.instance}function bh(s,r,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,m=g,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===r)m=S;else if(m!==g)break}m?m.parentNode.insertBefore(s,m.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function Kg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function $g(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Th=null;function g0(s,r,l){if(Th===null){var u=new Map,g=Th=new Map;g.set(l,u)}else g=Th,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var m=l[g];if(!(m[xr]||m[Re]||s==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(r)||"";E=s+E;var S=u.get(E);S?S.push(m):u.set(E,[m])}}return u}function p0(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function ox(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function m0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Jl=null;function lx(){}function cx(s,r,l){if(Jl===null)throw Error(i(475));var u=Jl;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=yo(l.href),m=s.querySelector(Wl(g));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Eh.bind(u),s.then(u,u)),r.state.loading|=4,r.instance=m,ge(m);return}m=s.ownerDocument||s,l=f0(l),(g=Hn.get(g))&&Kg(l,g),m=m.createElement("link"),ge(m);var E=m;E._p=new Promise(function(S,k){E.onload=S,E.onerror=k}),Ke(m,"link",l),r.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Eh.bind(u),s.addEventListener("load",r),s.addEventListener("error",r))}}function ux(){if(Jl===null)throw Error(i(475));var s=Jl;return s.stylesheets&&s.count===0&&Qg(s,s.stylesheets),0<s.count?function(r){var l=setTimeout(function(){if(s.stylesheets&&Qg(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Eh(){if(this.count--,this.count===0){if(this.stylesheets)Qg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Sh=null;function Qg(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Sh=new Map,r.forEach(hx,s),Sh=null,Eh.call(s))}function hx(s,r){if(!(r.state.loading&4)){var l=Sh.get(s);if(l)var u=l.get(null);else{l=new Map,Sh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<g.length;m++){var E=g[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),u=E)}u&&l.set(null,u)}g=r.instance,E=g.getAttribute("data-precedence"),m=l.get(E)||u,m===u&&l.set(null,g),l.set(E,g),this.count++,u=Eh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),m?m.parentNode.insertBefore(g,m.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),r.state.loading|=4}}var tc={$$typeof:J,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function fx(s,r,l,u,g,m,E,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function y0(s,r,l,u,g,m,E,S,k,q,W,tt){return s=new fx(s,r,l,E,S,k,q,tt),r=1,m===!0&&(r|=24),m=En(3,null,null,r),s.current=m,m.stateNode=s,r=Dd(),r.refCount++,s.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:r},Nd(m),s}function _0(s){return s?(s=$a,s):$a}function v0(s,r,l,u,g,m){g=_0(g),u.context===null?u.context=g:u.pendingContext=g,u=Cs(r),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=Is(s,u,r),l!==null&&(Rn(l,s,r),Dl(l,s,r))}function b0(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Xg(s,r){b0(s,r),(s=s.alternate)&&b0(s,r)}function T0(s){if(s.tag===13){var r=Ka(s,67108864);r!==null&&Rn(r,s,67108864),Xg(s,67108864)}}var Ah=!0;function dx(s,r,l,u){var g=$.T;$.T=null;var m=at.p;try{at.p=2,Wg(s,r,l,u)}finally{at.p=m,$.T=g}}function gx(s,r,l,u){var g=$.T;$.T=null;var m=at.p;try{at.p=8,Wg(s,r,l,u)}finally{at.p=m,$.T=g}}function Wg(s,r,l,u){if(Ah){var g=Zg(u);if(g===null)Ug(s,r,u,wh,l),S0(s,u);else if(mx(g,s,r,l,u))u.stopPropagation();else if(S0(s,u),r&4&&-1<px.indexOf(s)){for(;g!==null;){var m=ci(g);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Qn(m.pendingLanes);if(E!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var k=1<<31-Xe(E);S.entanglements[1]|=k,E&=~k}Si(m),(Kt&6)===0&&(lh=Dn()+500,Kl(0))}}break;case 13:S=Ka(m,2),S!==null&&Rn(S,m,2),uh(),Xg(m,2)}if(m=Zg(u),m===null&&Ug(s,r,u,wh,l),m===g)break;g=m}g!==null&&u.stopPropagation()}else Ug(s,r,u,null,l)}}function Zg(s){return s=kn(s),Jg(s)}var wh=null;function Jg(s){if(wh=null,s=ji(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=c(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return wh=s,null}function E0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nd()){case Zo:return 2;case xa:return 8;case Tr:case id:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var tp=!1,Hs=null,Fs=null,qs=null,ec=new Map,nc=new Map,Gs=[],px="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S0(s,r){switch(s){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":ec.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(r.pointerId)}}function ic(s,r,l,u,g,m){return s===null||s.nativeEvent!==m?(s={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[g]},r!==null&&(r=ci(r),r!==null&&T0(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),s)}function mx(s,r,l,u,g){switch(r){case"focusin":return Hs=ic(Hs,s,r,l,u,g),!0;case"dragenter":return Fs=ic(Fs,s,r,l,u,g),!0;case"mouseover":return qs=ic(qs,s,r,l,u,g),!0;case"pointerover":var m=g.pointerId;return ec.set(m,ic(ec.get(m)||null,s,r,l,u,g)),!0;case"gotpointercapture":return m=g.pointerId,nc.set(m,ic(nc.get(m)||null,s,r,l,u,g)),!0}return!1}function A0(s){var r=ji(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){s.blockedOn=r,uu(s.priority,function(){if(l.tag===13){var u=xn();u=vs(u);var g=Ka(l,u);g!==null&&Rn(g,l,u),Xg(l,u)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function xh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Zg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);qi=u,l.target.dispatchEvent(u),qi=null}else return r=ci(l),r!==null&&T0(r),s.blockedOn=l,!1;r.shift()}return!0}function w0(s,r,l){xh(s)&&l.delete(r)}function yx(){tp=!1,Hs!==null&&xh(Hs)&&(Hs=null),Fs!==null&&xh(Fs)&&(Fs=null),qs!==null&&xh(qs)&&(qs=null),ec.forEach(w0),nc.forEach(w0)}function Rh(s,r){s.blockedOn===r&&(s.blockedOn=null,tp||(tp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,yx)))}var Ch=null;function x0(s){Ch!==s&&(Ch=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ch===s&&(Ch=null);for(var r=0;r<s.length;r+=3){var l=s[r],u=s[r+1],g=s[r+2];if(typeof u!="function"){if(Jg(u||l)===null)continue;break}var m=ci(l);m!==null&&(s.splice(r,3),r-=3,Jd(m,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function sc(s){function r(k){return Rh(k,s)}Hs!==null&&Rh(Hs,s),Fs!==null&&Rh(Fs,s),qs!==null&&Rh(qs,s),ec.forEach(r),nc.forEach(r);for(var l=0;l<Gs.length;l++){var u=Gs[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Gs.length&&(l=Gs[0],l.blockedOn===null);)A0(l),l.blockedOn===null&&Gs.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],m=l[u+1],E=g[be]||null;if(typeof m=="function")E||x0(l);else if(E){var S=null;if(m&&m.hasAttribute("formAction")){if(g=m,E=m[be]||null)S=E.formAction;else if(Jg(g)!==null)continue}else S=E.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),x0(l)}}}function ep(s){this._internalRoot=s}Ih.prototype.render=ep.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,u=xn();v0(l,u,s,r,null,null)},Ih.prototype.unmount=ep.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;v0(s.current,2,null,s,null,null),uh(),r[On]=null}};function Ih(s){this._internalRoot=s}Ih.prototype.unstable_scheduleHydration=function(s){if(s){var r=bs();s={blockedOn:null,target:s,priority:r};for(var l=0;l<Gs.length&&r!==0&&r<Gs[l].priority;l++);Gs.splice(l,0,s),l===0&&A0(s)}};var R0=t.version;if(R0!=="19.1.1")throw Error(i(527,R0,"19.1.1"));at.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(r),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var _x={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{he=Dh.inject(_x),Yt=Dh}catch{}}return ac.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,u="",g=F_,m=q_,E=G_,S=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=y0(s,1,!1,null,null,l,u,g,m,E,S,null),s[On]=r.current,Lg(s),new ep(r)},ac.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var u=!1,g="",m=F_,E=q_,S=G_,k=null,q=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(q=l.formState)),r=y0(s,1,!0,r,l??null,u,g,m,E,S,k,q),r.context=_0(null),l=r.current,u=xn(),u=vs(u),g=Cs(u),g.callback=null,Is(l,g,u),l=u,r.current.lanes=l,zi(r,l),Si(r),s[On]=r.current,Lg(s),new Ih(r)},ac.version="19.1.1",ac}var L0;function Cx(){if(L0)return sp.exports;L0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),sp.exports=Rx(),sp.exports}var Ix=Cx();const Dx=NE(Ix),Ox=()=>{};var U0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},Mx=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],c=n[e++],h=n[e++],d=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return t.join("")},VE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,d=a+2<n.length,p=d?n[a+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let T=(h&15)<<2|p>>6,A=p&63;d||(A=64,c||(T=64)),i.push(e[y],e[v],e[T],e[A])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(PE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):Mx(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const p=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||p==null||v==null)throw new kx;const T=o<<2|h>>4;if(i.push(T),p!==64){const A=h<<4&240|p>>2;if(i.push(A),v!==64){const O=p<<6&192|v;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nx=function(n){const t=PE(n);return VE.encodeByteArray(t,!0)},cf=function(n){return Nx(n).replace(/\./g,"")},LE=function(n){try{return VE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=()=>Px().__FIREBASE_DEFAULTS__,Lx=()=>{if(typeof process>"u"||typeof U0>"u")return;const n=U0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Ux=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&LE(n[1]);return t&&JSON.parse(t)},kf=()=>{try{return Ox()||Vx()||Lx()||Ux()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},UE=n=>kf()?.emulatorHosts?.[n],zx=n=>{const t=UE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},zE=()=>kf()?.config,jE=n=>kf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[cf(JSON.stringify(e)),cf(JSON.stringify(c)),""].join(".")}const Ec={};function Hx(){const n={prod:[],emulator:[]};for(const t of Object.keys(Ec))Ec[t]?n.emulator.push(t):n.prod.push(t);return n}function Fx(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let z0=!1;function HE(n,t){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||Ec[n]===t||Ec[n]||z0)return;Ec[n]=t;function e(T){return`__firebase__banner__${T}`}const i="__firebase__banner",o=Hx().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{z0=!0,c()},T}function y(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=Fx(i),A=e("text"),O=document.getElementById(A)||document.createElement("span"),D=e("learnmore"),R=document.getElementById(D)||document.createElement("a"),B=e("preprendIcon"),X=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const J=T.element;h(J),y(R,D);const st=p();d(X,B),J.append(X,O,R,st),document.body.appendChild(J)}o?(O.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function Gx(){const n=kf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Kx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $x(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Qx(){return!Gx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qE(){try{return typeof indexedDB=="object"}catch{return!1}}function GE(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}function Xx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="FirebaseError";class ai extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=Wx,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ba.prototype.create)}}class ba{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],c=o?Zx(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new ai(a,h,i)}}function Zx(n,t){return n.replace(Jx,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const Jx=/\{\$([^}]+)}/g;function tR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function cr(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=n[a],c=t[a];if(j0(o)&&j0(c)){if(!cr(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function j0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function fc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function dc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function eR(n,t){const e=new nR(n,t);return e.subscribe.bind(e)}class nR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");iR(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=lp),a.error===void 0&&(a.error=lp),a.complete===void 0&&(a.complete=lp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function lp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=1e3,rR=2,aR=14400*1e3,oR=.5;function B0(n,t=sR,e=rR){const i=t*Math.pow(e,n),a=Math.round(oR*i*(Math.random()-.5)*2);return Math.min(aR,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(n){return n&&n._delegate?n._delegate:n}class si{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new jx;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uR(t))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sa){return this.instances.has(t)}getOptions(t=sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:cR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=sa){return this.component?this.component.multipleInstances?t:sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cR(n){return n===sa?void 0:n}function uR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new lR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(kt||(kt={}));const fR={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},dR=kt.INFO,gR={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},pR=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=gR[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nf{constructor(t){this.name=t,this._logLevel=dR,this._logHandler=pR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const mR=(n,t)=>t.some(e=>n instanceof e);let H0,F0;function yR(){return H0||(H0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _R(){return F0||(F0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,kp=new WeakMap,KE=new WeakMap,cp=new WeakMap,ym=new WeakMap;function vR(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(nr(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&YE.set(e,n)}).catch(()=>{}),ym.set(t,n),t}function bR(n){if(kp.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});kp.set(n,t)}let Np={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return kp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||KE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return nr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function TR(n){Np=n(Np)}function ER(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(up(this),t,...e);return KE.set(i,t.sort?t.sort():[t]),nr(i)}:_R().includes(n)?function(...t){return n.apply(up(this),t),nr(YE.get(this))}:function(...t){return nr(n.apply(up(this),t))}}function SR(n){return typeof n=="function"?ER(n):(n instanceof IDBTransaction&&bR(n),mR(n,yR())?new Proxy(n,Np):n)}function nr(n){if(n instanceof IDBRequest)return vR(n);if(cp.has(n))return cp.get(n);const t=SR(n);return t!==n&&(cp.set(n,t),ym.set(t,n)),t}const up=n=>ym.get(n);function $E(n,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(n,t),h=nr(c);return i&&c.addEventListener("upgradeneeded",d=>{i(nr(c.result),d.oldVersion,d.newVersion,nr(c.transaction),d)}),e&&c.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const AR=["get","getKey","getAll","getAllKeys","count"],wR=["put","add","delete","clear"],hp=new Map;function q0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(hp.get(t))return hp.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=wR.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||AR.includes(e)))return;const o=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[e](...h),a&&d.done]))[0]};return hp.set(t,o),o}TR(n=>({...n,get:(t,e,i)=>q0(t,e)||n.get(t,e,i),has:(t,e)=>!!q0(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(RR(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function RR(n){return n.getComponent()?.type==="VERSION"}const Pp="@firebase/app",G0="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Nf("@firebase/app"),CR="@firebase/app-compat",IR="@firebase/analytics-compat",DR="@firebase/analytics",OR="@firebase/app-check-compat",MR="@firebase/app-check",kR="@firebase/auth",NR="@firebase/auth-compat",PR="@firebase/database",VR="@firebase/data-connect",LR="@firebase/database-compat",UR="@firebase/functions",zR="@firebase/functions-compat",jR="@firebase/installations",BR="@firebase/installations-compat",HR="@firebase/messaging",FR="@firebase/messaging-compat",qR="@firebase/performance",GR="@firebase/performance-compat",YR="@firebase/remote-config",KR="@firebase/remote-config-compat",$R="@firebase/storage",QR="@firebase/storage-compat",XR="@firebase/firestore",WR="@firebase/ai",ZR="@firebase/firestore-compat",JR="firebase",tC="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="[DEFAULT]",eC={[Pp]:"fire-core",[CR]:"fire-core-compat",[DR]:"fire-analytics",[IR]:"fire-analytics-compat",[MR]:"fire-app-check",[OR]:"fire-app-check-compat",[kR]:"fire-auth",[NR]:"fire-auth-compat",[PR]:"fire-rtdb",[VR]:"fire-data-connect",[LR]:"fire-rtdb-compat",[UR]:"fire-fn",[zR]:"fire-fn-compat",[jR]:"fire-iid",[BR]:"fire-iid-compat",[HR]:"fire-fcm",[FR]:"fire-fcm-compat",[qR]:"fire-perf",[GR]:"fire-perf-compat",[YR]:"fire-rc",[KR]:"fire-rc-compat",[$R]:"fire-gcs",[QR]:"fire-gcs-compat",[XR]:"fire-fst",[ZR]:"fire-fst-compat",[WR]:"fire-vertex","fire-js":"fire-js",[JR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Map,nC=new Map,Lp=new Map;function Y0(n,t){try{n.container.addComponent(t)}catch(e){ps.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ni(n){const t=n.name;if(Lp.has(t))return ps.debug(`There were multiple attempts to register component ${t}.`),!1;Lp.set(t,n);for(const e of uf.values())Y0(e,n);for(const e of nC.values())Y0(e,n);return!0}function Ta(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ei(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new ba("app","Firebase",iC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=tC;function QE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Vp,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw ir.create("bad-app-name",{appName:String(a)});if(e||(e=zE()),!e)throw ir.create("no-options");const o=uf.get(a);if(o){if(cr(e,o.options)&&cr(i,o.config))return o;throw ir.create("duplicate-app",{appName:a})}const c=new hR(a);for(const d of Lp.values())c.addComponent(d);const h=new sC(e,i,c);return uf.set(a,h),h}function _m(n=Vp){const t=uf.get(n);if(!t&&n===Vp&&zE())return QE();if(!t)throw ir.create("no-app",{appName:n});return t}function Yn(n,t,e){let i=eC[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ps.warn(c.join(" "));return}Ni(new si(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebase-heartbeat-database",aC=1,Vc="firebase-heartbeat-store";let fp=null;function XE(){return fp||(fp=$E(rC,aC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Vc)}catch(e){console.warn(e)}}}}).catch(n=>{throw ir.create("idb-open",{originalErrorMessage:n.message})})),fp}async function oC(n){try{const e=(await XE()).transaction(Vc),i=await e.objectStore(Vc).get(WE(n));return await e.done,i}catch(t){if(t instanceof ai)ps.warn(t.message);else{const e=ir.create("idb-get",{originalErrorMessage:t?.message});ps.warn(e.message)}}}async function K0(n,t){try{const i=(await XE()).transaction(Vc,"readwrite");await i.objectStore(Vc).put(t,WE(n)),await i.done}catch(e){if(e instanceof ai)ps.warn(e.message);else{const i=ir.create("idb-set",{originalErrorMessage:e?.message});ps.warn(i.message)}}}function WE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=1024,cC=30;class uC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new fC(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>cC){const a=dC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ps.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$0(),{heartbeatsToSend:e,unsentEntries:i}=hC(this._heartbeatsCache.heartbeats),a=cf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ps.warn(t),""}}}function $0(){return new Date().toISOString().substring(0,10)}function hC(n,t=lC){const e=[];let i=n.slice();for(const a of n){const o=e.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),Q0(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),Q0(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class fC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qE()?GE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await oC(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return K0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return K0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Q0(n){return cf(JSON.stringify({version:2,heartbeats:n})).length}function dC(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(n){Ni(new si("platform-logger",t=>new xR(t),"PRIVATE")),Ni(new si("heartbeat",t=>new uC(t),"PRIVATE")),Yn(Pp,G0,n),Yn(Pp,G0,"esm2020"),Yn("fire-js","")}gC("");function ZE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pC=ZE,JE=new ba("auth","Firebase",ZE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Nf("@firebase/auth");function mC(n,...t){hf.logLevel<=kt.WARN&&hf.warn(`Auth (${Fo}): ${n}`,...t)}function Wh(n,...t){hf.logLevel<=kt.ERROR&&hf.error(`Auth (${Fo}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(n,...t){throw vm(n,...t)}function Di(n,...t){return vm(n,...t)}function tS(n,t,e){const i={...pC(),[t]:e};return new ba("auth","Firebase",i).create(t,{appName:n.name})}function sr(n){return tS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vm(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return JE.create(n,...t)}function Tt(n,t,...e){if(!n)throw vm(t,...e)}function ds(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Wh(t),new Error(t)}function ms(n,t){n||ds(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(){return typeof self<"u"&&self.location?.href||""}function yC(){return X0()==="http:"||X0()==="https:"}function X0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yC()||FE()||"connection"in navigator)?navigator.onLine:!0}function vC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,e){this.shortDelay=t,this.longDelay=e,ms(e>t,"Short delay should be less than long delay!"),this.isMobile=qx()||Kx()}get(){return _C()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(n,t){ms(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EC=new Wc(3e4,6e4);function Ea(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function yr(n,t,e,i,a={}){return nS(n,a,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=Xc({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p={method:t,headers:d,...o};return Yx()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Ho(n.emulatorConfig.host)&&(p.credentials="include"),eS.fetch()(await iS(n,n.config.apiHost,e,h),p)})}async function nS(n,t,e){n._canInitEmulator=!1;const i={...bC,...t};try{const a=new AC(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Oh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oh(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Oh(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw Oh(n,"user-disabled",c);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw tS(n,y,p);ri(n,y)}}catch(a){if(a instanceof ai)throw a;ri(n,"network-request-failed",{message:String(a)})}}async function Pf(n,t,e,i,a={}){const o=await yr(n,t,e,i,a);return"mfaPendingCredential"in o&&ri(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function iS(n,t,e,i){const a=`${t}${e}?${i}`,o=n,c=o.config.emulator?bm(n.config,a):`${n.config.apiScheme}://${a}`;return TC.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function SC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Di(this.auth,"network-request-failed")),EC.get())})}}function Oh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=Di(n,t,i);return a.customData._tokenResponse=e,a}function W0(n){return n!==void 0&&n.enterprise!==void 0}class wC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return SC(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xC(n,t){return yr(n,"GET","/v2/recaptchaConfig",Ea(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(n,t){return yr(n,"POST","/v1/accounts:delete",t)}async function ff(n,t){return yr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(n,t=!1){return In(n).getIdToken(t)}async function IC(n,t=!1){const e=In(n),i=await e.getIdToken(t),a=Tm(i);Tt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:Sc(dp(a.auth_time)),issuedAtTime:Sc(dp(a.iat)),expirationTime:Sc(dp(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function dp(n){return Number(n)*1e3}function Tm(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Wh("JWT malformed, contained fewer than 3 sections"),null;try{const a=LE(e);return a?JSON.parse(a):(Wh("Failed to decode base64 JWT payload"),null)}catch(a){return Wh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Z0(n){const t=Tm(n);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof ai&&DC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function DC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(n){const t=n.auth,e=await n.getIdToken(),i=await Lc(n,ff(t,{idToken:e}));Tt(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?sS(a.providerUserInfo):[],c=kC(n.providerData,o),h=n.isAnonymous,d=!(n.email&&a.passwordHash)&&!c?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new zp(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function MC(n){const t=In(n);await df(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kC(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function sS(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(n,t){const e=await nS(n,{},async()=>{const i=Xc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await iS(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&Ho(n.emulatorConfig.host)&&(d.credentials="include"),eS.fetch()(c,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function PC(n,t){return yr(n,"POST","/v2/accounts:revokeToken",Ea(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Z0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const e=Z0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:o}=await NC(t,e);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:o}=e,c=new wo;return i&&(Tt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(Tt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),o&&(Tt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(n,t){Tt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new OC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new zp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Lc(this,this.stsTokenManager.getToken(this.auth,t));return Tt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return IC(this,t)}reload(){return MC(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await df(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(sr(this.auth));const t=await this.getIdToken();return await Lc(this,RC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,d=e._redirectEventId??void 0,p=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:A,providerData:O,stsTokenManager:D}=e;Tt(v&&D,t,"internal-error");const R=wo.fromJSON(this.name,D);Tt(typeof v=="string",t,"internal-error"),Ks(i,t.name),Ks(a,t.name),Tt(typeof T=="boolean",t,"internal-error"),Tt(typeof A=="boolean",t,"internal-error"),Ks(o,t.name),Ks(c,t.name),Ks(h,t.name),Ks(d,t.name),Ks(p,t.name),Ks(y,t.name);const B=new ni({uid:v,auth:t,email:a,emailVerified:T,displayName:i,isAnonymous:A,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:R,createdAt:p,lastLoginAt:y});return O&&Array.isArray(O)&&(B.providerData=O.map(X=>({...X}))),d&&(B._redirectEventId=d),B}static async _fromIdTokenResponse(t,e,i=!1){const a=new wo;a.updateFromServerResponse(e);const o=new ni({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await df(o),o}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];Tt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?sS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new wo;h.updateFromIdToken(i);const d=new ni({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new zp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;function gs(n){ms(n instanceof Function,"Expected a class definition");let t=J0.get(n);return t?(ms(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,J0.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}rS.type="NONE";const tb=rS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(n,t,e){return`firebase:${n}:${t}:${e}`}class xo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=Zh(this.userKey,a.apiKey,o),this.fullPersistenceKey=Zh("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await ff(this.auth,{idToken:t}).catch(()=>{});return e?ni._fromGetAccountInfoResponse(this.auth,e,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new xo(gs(tb),t,i);const a=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||gs(tb);const c=Zh(i,t.config.apiKey,t.name);let h=null;for(const p of e)try{const y=await p._get(c);if(y){let v;if(typeof y=="string"){const T=await ff(t,{idToken:y}).catch(()=>{});if(!T)break;v=await ni._fromGetAccountInfoResponse(t,T,y)}else v=ni._fromJSON(t,y);p!==o&&(h=v),o=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new xo(o,t,i):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new xo(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(aS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hS(t))return"Blackberry";if(fS(t))return"Webos";if(oS(t))return"Safari";if((t.includes("chrome/")||lS(t))&&!t.includes("edge/"))return"Chrome";if(uS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function aS(n=rn()){return/firefox\//i.test(n)}function oS(n=rn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function lS(n=rn()){return/crios\//i.test(n)}function cS(n=rn()){return/iemobile/i.test(n)}function uS(n=rn()){return/android/i.test(n)}function hS(n=rn()){return/blackberry/i.test(n)}function fS(n=rn()){return/webos/i.test(n)}function Em(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VC(n=rn()){return Em(n)&&!!window.navigator?.standalone}function LC(){return $x()&&document.documentMode===10}function dS(n=rn()){return Em(n)||uS(n)||fS(n)||hS(n)||/windows phone/i.test(n)||cS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(n,t=[]){let e;switch(n){case"Browser":e=eb(rn());break;case"Worker":e=`${eb(rn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Fo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const d=t(o);c(d)}catch(d){h(d)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(n,t={}){return yr(n,"GET","/v2/passwordPolicy",Ea(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=6;class BC{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??jC,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nb(this),this.idTokenSubscription=new nb(this),this.beforeStateQueue=new UC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=gs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await ff(this,{idToken:t}),i=await ni._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ei(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await df(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=vC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ei(this.app))return Promise.reject(sr(this));const e=t?In(t):null;return e&&Tt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ei(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await zC(this),e=new BC(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ba("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await PC(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&gs(t)||this._popupRedirectResolver;Tt(e,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[gs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,a);return()=>{c=!0,d()}}else{const d=t.addObserver(e);return()=>{c=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=gS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&mC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function qo(n){return In(n)}class nb{constructor(t){this.auth=t,this.observer=null,this.addObserver=eR(e=>this.observer=e)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FC(n){Vf=n}function pS(n){return Vf.loadJS(n)}function qC(){return Vf.recaptchaEnterpriseScript}function GC(){return Vf.gapiScript}function YC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class KC{constructor(){this.enterprise=new $C}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class $C{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const QC="recaptcha-enterprise",mS="NO_RECAPTCHA";class XC{constructor(t){this.type=QC,this.auth=qo(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{xC(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new wC(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(d=>{h(d)})})}function a(o,c,h){const d=window.grecaptcha;W0(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(p=>{c(p)}).catch(()=>{c(mS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KC().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&W0(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=qC();d.length!==0&&(d+=h),pS(d).then(()=>{a(h,o,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function ib(n,t,e,i=!1,a=!1){const o=new XC(n);let c;if(a)c=mS;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function sb(n,t,e,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ib(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await ib(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(n,t){const e=Ta(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(cr(o,t??{}))return a;ri(a,"already-initialized")}return e.initialize({options:t})}function ZC(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(gs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function JC(n,t,e){const i=qo(n);Tt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,o=yS(t),{host:c,port:h}=tI(t),d=h===null?"":`:${h}`,p={url:`${o}//${c}${d}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Tt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Tt(cr(p,i.config.emulator)&&cr(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Ho(c)?(BE(`${o}//${c}${d}`),HE("Auth",!0)):eI()}function yS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function tI(n){const t=yS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:rb(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:rb(c)}}}function rb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function eI(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ds("not implemented")}_getIdTokenResponse(t){return ds("not implemented")}_linkToIdToken(t,e){return ds("not implemented")}_getReauthenticationResolver(t){return ds("not implemented")}}async function nI(n,t){return yr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(n,t){return Pf(n,"POST","/v1/accounts:signInWithPassword",Ea(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(n,t){return Pf(n,"POST","/v1/accounts:signInWithEmailLink",Ea(n,t))}async function rI(n,t){return Pf(n,"POST","/v1/accounts:signInWithEmailLink",Ea(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Sm{constructor(t,e,i,a=null){super("password",i),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new Uc(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Uc(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sb(t,e,"signInWithPassword",iI);case"emailLink":return sI(t,{email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sb(t,i,"signUpPassword",nI);case"emailLink":return rI(t,{idToken:e,email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(n,t){return Pf(n,"POST","/v1/accounts:signInWithIdp",Ea(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="http://localhost";class pa extends Sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new pa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ri("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...o}=e;if(!i||!a)return null;const c=new pa(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Ro(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Ro(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ro(t,e)}buildRequest(){const t={requestUri:aI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Xc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lI(n){const t=fc(dc(n)).link,e=t?fc(dc(t)).deep_link_id:null,i=fc(dc(n)).deep_link_id;return(i?fc(dc(i)).link:null)||i||e||t||n}class Am{constructor(t){const e=fc(dc(t)),i=e.apiKey??null,a=e.oobCode??null,o=oI(e.mode??null);Tt(i&&a&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=lI(t);try{return new Am(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(t,e){return Uc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Am.parseLink(e);return Tt(i,"argument-error"),Uc._fromEmailAndCode(t,i.code,i.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends _S{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Zc{constructor(){super("facebook.com")}static credential(t){return pa._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Zc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return pa._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Xs.credential(e,i)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Zc{constructor(){super("github.com")}static credential(t){return pa._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Zc{constructor(){super("twitter.com")}static credential(t,e){return pa._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Zs.credential(e,i)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const o=await ni._fromIdTokenResponse(t,i,a),c=ab(i);return new Oo({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=ab(i);return new Oo({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function ab(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends ai{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,gf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new gf(t,e,i,a)}}function vS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gf._fromErrorAndOperation(n,o,t,i):o})}async function cI(n,t,e=!1){const i=await Lc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Oo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(n,t,e=!1){const{auth:i}=n;if(ei(i.app))return Promise.reject(sr(i));const a="reauthenticate";try{const o=await Lc(n,vS(i,a,t,n),e);Tt(o.idToken,i,"internal-error");const c=Tm(o.idToken);Tt(c,i,"internal-error");const{sub:h}=c;return Tt(n.uid===h,i,"user-mismatch"),Oo._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&ri(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(n,t,e=!1){if(ei(n.app))return Promise.reject(sr(n));const i="signIn",a=await vS(n,i,t),o=await Oo._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(o.user),o}async function hI(n,t){return bS(qo(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(n){const t=qo(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function dI(n,t,e){return ei(n.app)?Promise.reject(sr(n)):hI(In(n),Go.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&fI(n),i})}function gI(n,t,e,i){return In(n).onIdTokenChanged(t,e,i)}function pI(n,t,e){return In(n).beforeAuthStateChanged(t,e)}function mI(n,t,e,i){return In(n).onAuthStateChanged(t,e,i)}function yI(n){return In(n).signOut()}const pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=1e3,vI=10;class ES extends TS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);LC()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,vI):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},_I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}ES.type="LOCAL";const bI=ES;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends TS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}SS.type="SESSION";const AS=SS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new Lf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:o}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async p=>p(e.origin,o)),d=await TI(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const p=wm("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function SI(n){Oi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function AI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wI(){return navigator?.serviceWorker?.controller||null}function xI(){return wS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="firebaseLocalStorageDb",RI=1,mf="firebaseLocalStorage",RS="fbase_key";class Jc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Uf(n,t){return n.transaction([mf],t?"readwrite":"readonly").objectStore(mf)}function CI(){const n=indexedDB.deleteDatabase(xS);return new Jc(n).toPromise()}function jp(){const n=indexedDB.open(xS,RI);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(mf,{keyPath:RS})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(mf)?t(i):(i.close(),await CI(),t(await jp()))})})}async function ob(n,t,e){const i=Uf(n,!0).put({[RS]:t,value:e});return new Jc(i).toPromise()}async function II(n,t){const e=Uf(n,!1).get(t),i=await new Jc(e).toPromise();return i===void 0?null:i.value}function lb(n,t){const e=Uf(n,!0).delete(t);return new Jc(e).toPromise()}const DI=800,OI=3;class CS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>OI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(xI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AI(),!this.activeServiceWorker)return;this.sender=new EI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||wI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jp();return await ob(t,pf,"1"),await lb(t,pf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>ob(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>II(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>lb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=Uf(a,!1).getAll();return new Jc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CS.type="LOCAL";const MI=CS;new Wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(n,t){return t?gs(t):(Tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends Sm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ro(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ro(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function NI(n){return bS(n.auth,new xm(n),n.bypassAuthState)}function PI(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),uI(e,new xm(n),n.bypassAuthState)}async function VI(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),cI(e,new xm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t,e,i,a,o=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return NI;case"linkViaPopup":case"linkViaRedirect":return VI;case"reauthViaPopup":case"reauthViaRedirect":return PI;default:ri(this.auth,"internal-error")}}resolve(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new Wc(2e3,1e4);class Ao extends IS{constructor(t,e,i,a,o){super(t,e,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const t=wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,LI.get())};t()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="pendingRedirect",Jh=new Map;class zI extends IS{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Jh.get(this.auth._key());if(!t){try{const i=await jI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Jh.set(this.auth._key(),t)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jI(n,t){const e=FI(t),i=HI(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function BI(n,t){Jh.set(n._key(),t)}function HI(n){return gs(n._redirectPersistence)}function FI(n){return Zh(UI,n.config.apiKey,n.name)}async function qI(n,t,e=!1){if(ei(n.app))return Promise.reject(sr(n));const i=qo(n),a=kI(i,t),c=await new zI(i,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=600*1e3;class YI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!KI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!DS(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Di(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=GI&&this.cachedEventUids.clear(),this.cachedEventUids.has(cb(t))}saveEventToCache(t){this.cachedEventUids.add(cb(t)),this.lastProcessedEventTime=Date.now()}}function cb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function DS({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function KI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(n,t={}){return yr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XI=/^https?/;async function WI(n){if(n.config.emulator)return;const{authorizedDomains:t}=await $I(n);for(const e of t)try{if(ZI(e))return}catch{}ri(n,"unauthorized-domain")}function ZI(n){const t=Up(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!XI.test(e))return!1;if(QI.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new Wc(3e4,6e4);function ub(){const n=Oi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function t2(n){return new Promise((t,e)=>{function i(){ub(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ub(),e(Di(n,"network-request-failed"))},timeout:JI.get()})}if(Oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Oi().gapi?.load)i();else{const a=YC("iframefcb");return Oi()[a]=()=>{gapi.load?i():e(Di(n,"network-request-failed"))},pS(`${GC()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw tf=null,t})}let tf=null;function e2(n){return tf=tf||t2(n),tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Wc(5e3,15e3),i2="__/auth/iframe",s2="emulator/auth/iframe",r2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o2(n){const t=n.config;Tt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?bm(t,s2):`https://${n.config.authDomain}/${i2}`,i={apiKey:t.apiKey,appName:n.name,v:Fo},a=a2.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Xc(i).slice(1)}`}async function l2(n){const t=await e2(n),e=Oi().gapi;return Tt(e,n,"internal-error"),t.open({where:document.body,url:o2(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r2,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=Di(n,"network-request-failed"),h=Oi().setTimeout(()=>{o(c)},n2.get());function d(){Oi().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u2=500,h2=600,f2="_blank",d2="http://localhost";class hb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g2(n,t,e,i=u2,a=h2){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...c2,width:i.toString(),height:a.toString(),top:o,left:c},p=rn().toLowerCase();e&&(h=lS(p)?f2:e),aS(p)&&(t=t||d2,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[A,O])=>`${T}${A}=${O},`,"");if(VC(p)&&h!=="_self")return p2(t||"",h),new hb(null);const v=window.open(t||"",h,y);Tt(v,n,"popup-blocked");try{v.focus()}catch{}return new hb(v)}function p2(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="__/auth/handler",y2="emulator/auth/handler",_2=encodeURIComponent("fac");async function fb(n,t,e,i,a,o){Tt(n.config.authDomain,n,"auth-domain-config-required"),Tt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Fo,eventId:a};if(t instanceof _S){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",tR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(t instanceof Zc){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),p=d?`#${_2}=${encodeURIComponent(d)}`:"";return`${v2(n)}?${Xc(h).slice(1)}${p}`}function v2({config:n}){return n.emulator?bm(n,y2):`https://${n.authDomain}/${m2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="webStorageSupport";class b2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AS,this._completeRedirectFn=qI,this._overrideRedirectResult=BI}async _openPopup(t,e,i,a){ms(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await fb(t,e,i,Up(),a);return g2(t,o,wm())}async _openRedirect(t,e,i,a){await this._originValidation(t);const o=await fb(t,e,i,Up(),a);return SI(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(ms(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await l2(t),i=new YI(t);return e.register("authEvent",a=>(Tt(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(gp,{type:gp},a=>{const o=a?.[0]?.[gp];o!==void 0&&e(!!o),ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=WI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return dS()||oS()||Em()}}const T2=b2;var db="@firebase/auth",gb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A2(n){Ni(new si("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gS(n)},p=new HC(i,a,o,d);return ZC(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ni(new si("auth-internal",t=>{const e=qo(t.getProvider("auth").getImmediate());return(i=>new E2(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(db,gb,S2(n)),Yn(db,gb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=300,x2=jE("authIdTokenMaxAge")||w2;let pb=null;const R2=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>x2)return;const a=e?.token;pb!==a&&(pb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function OS(n=_m()){const t=Ta(n,"auth");if(t.isInitialized())return t.getImmediate();const e=WC(n,{popupRedirectResolver:T2,persistence:[MI,bI,AS]}),i=jE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=R2(o.toString());pI(e,c,()=>c(e.currentUser)),gI(e,h=>c(h))}}const a=UE("auth");return a&&JC(e,`http://${a}`),e}function C2(){return document.getElementsByTagName("head")?.[0]??document}FC({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const o=Di("internal-error");o.customData=a,e(o)},i.type="text/javascript",i.charset="UTF-8",C2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A2("Browser");function I2({products:n,fetchProducts:t}){const[e,i]=pt.useState([]),[a,o]=pt.useState("Dinheiro"),[c,h]=pt.useState("avista"),[d,p]=pt.useState(1),y=OS(),v=D=>{i(R=>R.find(X=>X.id===D.id)?R.map(X=>X.id===D.id?{...X,quantidade:X.quantidade+1}:X):[...R,{...D,quantidade:1}])},T=(D,R)=>{R<=0?i(B=>B.filter(X=>X.id!==D)):i(B=>B.map(X=>X.id===D?{...X,quantidade:R}:X))},A=async()=>{if(e.length===0){alert("O carrinho est vazio!");return}const D={pagamento:{metodo:a,parcelas:a==="Crdito"&&c==="parcelado"?d:1,tipoCredito:a==="Crdito"?c:null},itens:e.map(R=>({produtoId:R.id,quantidade:R.quantidade}))};try{const R=await y.currentUser.getIdToken(),B=await fetch("http://localhost:5000/api/vendas",{method:"POST",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(D)});if(!B.ok){const X=await B.json();throw new Error(X.message)}await B.json(),alert("Venda registrada com sucesso!"),i([]),o("Dinheiro"),h("avista"),p(1),t()}catch(R){alert(`Erro ao finalizar a venda: ${R.message}`)}},O=e.reduce((D,R)=>D+(R.precoVenda??R.preco??0)*R.quantidade,0);return z.jsxs("main",{className:"sales-view",children:[z.jsxs("div",{className:"product-selection",children:[z.jsx("h3",{children:"Produtos"}),z.jsx("div",{className:"product-list-sales",children:n.map(D=>{const R=e.find(st=>st.id===D.id),B=R?R.quantidade:0,X=(D.quantidadeEstoque??D.estoque??0)-B,J=D.precoVenda??D.preco??0;return z.jsxs("div",{className:"product-item-sales",children:[z.jsxs("span",{children:[D.nome," (Estoque: ",X,")  R$ ",J.toFixed(2)]}),z.jsx("button",{onClick:()=>v(D),disabled:X<=0,children:"Adicionar"})]},D.id)})})]}),z.jsxs("div",{className:"cart-section",children:[z.jsx("h3",{children:" Carrinho"}),z.jsx("div",{className:"cart-items",children:e.length===0?z.jsx("p",{children:"O carrinho est vazio."}):e.map(D=>z.jsxs("div",{className:"cart-item",children:[z.jsxs("span",{className:"cart-item-name",children:[D.nome,"  R$ ",(D.precoVenda??D.preco??0).toFixed(2)]}),z.jsxs("div",{className:"quantity-selector",children:[z.jsx("button",{onClick:()=>T(D.id,D.quantidade-1),children:"-"}),z.jsx("span",{children:D.quantidade}),z.jsx("button",{onClick:()=>T(D.id,D.quantidade+1),children:"+"})]})]},D.id))}),z.jsx("div",{className:"cart-total",children:z.jsxs("strong",{children:["Total: R$ ",O.toFixed(2)]})}),z.jsxs("div",{className:"payment-section",children:[z.jsx("label",{htmlFor:"paymentMethod",children:"Forma de Pagamento:"}),z.jsxs("select",{id:"paymentMethod",value:a,onChange:D=>o(D.target.value),children:[z.jsx("option",{value:"Dinheiro",children:"Dinheiro"}),z.jsx("option",{value:"Dbito",children:"Dbito"}),z.jsx("option",{value:"Crdito",children:"Crdito"}),z.jsx("option",{value:"Pix",children:"Pix"})]}),a==="Crdito"&&z.jsxs("div",{className:"credit-options",children:[z.jsxs("label",{children:["Tipo:",z.jsxs("select",{value:c,onChange:D=>h(D.target.value),children:[z.jsx("option",{value:"avista",children:" vista"}),z.jsx("option",{value:"parcelado",children:"Parcelado"})]})]}),c==="parcelado"&&z.jsxs("label",{children:["Parcelas:",z.jsx("input",{type:"number",min:"2",max:"12",value:d,onChange:D=>p(Number(D.target.value))})]})]})]}),z.jsx("button",{className:"finalize-sale-button",disabled:e.length===0,onClick:A,children:"Finalizar Venda"})]})]})}var D2="firebase",O2="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn(D2,O2,"app");const MS="@firebase/installations",Rm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=1e4,NS=`w:${Rm}`,PS="FIS_v2",M2="https://firebaseinstallations.googleapis.com/v1",k2=3600*1e3,N2="installations",P2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ma=new ba(N2,P2,V2);function VS(n){return n instanceof ai&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS({projectId:n}){return`${M2}/projects/${n}/installations`}function US(n){return{token:n.token,requestStatus:2,expiresIn:U2(n.expiresIn),creationTime:Date.now()}}async function zS(n,t){const i=(await t.json()).error;return ma.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function jS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function L2(n,{refreshToken:t}){const e=jS(n);return e.append("Authorization",z2(t)),e}async function BS(n){const t=await n();return t.status>=500&&t.status<600?n():t}function U2(n){return Number(n.replace("s","000"))}function z2(n){return`${PS} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const i=LS(n),a=jS(n),o=t.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={fid:e,authVersion:PS,appId:n.appId,sdkVersion:NS},h={method:"POST",headers:a,body:JSON.stringify(c)},d=await BS(()=>fetch(i,h));if(d.ok){const p=await d.json();return{fid:p.fid||e,registrationStatus:2,refreshToken:p.refreshToken,authToken:US(p.authToken)}}else throw await zS("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=/^[cdef][\w-]{21}$/,Bp="";function F2(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=q2(n);return H2.test(e)?e:Bp}catch{return Bp}}function q2(n){return B2(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=new Map;function qS(n,t){const e=zf(n);GS(e,t),G2(e,t)}function GS(n,t){const e=FS.get(n);if(e)for(const i of e)i(t)}function G2(n,t){const e=Y2();e&&e.postMessage({key:n,fid:t}),K2()}let oa=null;function Y2(){return!oa&&"BroadcastChannel"in self&&(oa=new BroadcastChannel("[Firebase] FID Change"),oa.onmessage=n=>{GS(n.data.key,n.data.fid)}),oa}function K2(){FS.size===0&&oa&&(oa.close(),oa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="firebase-installations-database",Q2=1,ya="firebase-installations-store";let pp=null;function Cm(){return pp||(pp=$E($2,Q2,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(ya)}}})),pp}async function yf(n,t){const e=zf(n),a=(await Cm()).transaction(ya,"readwrite"),o=a.objectStore(ya),c=await o.get(e);return await o.put(t,e),await a.done,(!c||c.fid!==t.fid)&&qS(n,t.fid),t}async function YS(n){const t=zf(n),i=(await Cm()).transaction(ya,"readwrite");await i.objectStore(ya).delete(t),await i.done}async function jf(n,t){const e=zf(n),a=(await Cm()).transaction(ya,"readwrite"),o=a.objectStore(ya),c=await o.get(e),h=t(c);return h===void 0?await o.delete(e):await o.put(h,e),await a.done,h&&(!c||c.fid!==h.fid)&&qS(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Im(n){let t;const e=await jf(n.appConfig,i=>{const a=X2(i),o=W2(n,a);return t=o.registrationPromise,o.installationEntry});return e.fid===Bp?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function X2(n){const t=n||{fid:F2(),registrationStatus:0};return KS(t)}function W2(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(ma.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=Z2(n,e);return{installationEntry:e,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:J2(n)}:{installationEntry:t}}async function Z2(n,t){try{const e=await j2(n,t);return yf(n.appConfig,e)}catch(e){throw VS(e)&&e.customData.serverCode===409?await YS(n.appConfig):await yf(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function J2(n){let t=await mb(n.appConfig);for(;t.registrationStatus===1;)await HS(100),t=await mb(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:i}=await Im(n);return i||e}return t}function mb(n){return jf(n,t=>{if(!t)throw ma.create("installation-not-found");return KS(t)})}function KS(n){return tD(n)?{fid:n.fid,registrationStatus:0}:n}function tD(n){return n.registrationStatus===1&&n.registrationTime+kS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD({appConfig:n,heartbeatServiceProvider:t},e){const i=nD(n,e),a=L2(n,e),o=t.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={installation:{sdkVersion:NS,appId:n.appId}},h={method:"POST",headers:a,body:JSON.stringify(c)},d=await BS(()=>fetch(i,h));if(d.ok){const p=await d.json();return US(p)}else throw await zS("Generate Auth Token",d)}function nD(n,{fid:t}){return`${LS(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dm(n,t=!1){let e;const i=await jf(n.appConfig,o=>{if(!$S(o))throw ma.create("not-registered");const c=o.authToken;if(!t&&rD(c))return o;if(c.requestStatus===1)return e=iD(n,t),o;{if(!navigator.onLine)throw ma.create("app-offline");const h=oD(o);return e=sD(n,h),h}});return e?await e:i.authToken}async function iD(n,t){let e=await yb(n.appConfig);for(;e.authToken.requestStatus===1;)await HS(100),e=await yb(n.appConfig);const i=e.authToken;return i.requestStatus===0?Dm(n,t):i}function yb(n){return jf(n,t=>{if(!$S(t))throw ma.create("not-registered");const e=t.authToken;return lD(e)?{...t,authToken:{requestStatus:0}}:t})}async function sD(n,t){try{const e=await eD(n,t),i={...t,authToken:e};return await yf(n.appConfig,i),e}catch(e){if(VS(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await YS(n.appConfig);else{const i={...t,authToken:{requestStatus:0}};await yf(n.appConfig,i)}throw e}}function $S(n){return n!==void 0&&n.registrationStatus===2}function rD(n){return n.requestStatus===2&&!aD(n)}function aD(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+k2}function oD(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function lD(n){return n.requestStatus===1&&n.requestTime+kS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n){const t=n,{installationEntry:e,registrationPromise:i}=await Im(t);return i?i.catch(console.error):Dm(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(n,t=!1){const e=n;return await hD(e),(await Dm(e,t)).token}async function hD(n){const{registrationPromise:t}=await Im(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(n){if(!n||!n.options)throw mp("App Configuration");if(!n.name)throw mp("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw mp(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function mp(n){return ma.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="installations",dD="installations-internal",gD=n=>{const t=n.getProvider("app").getImmediate(),e=fD(t),i=Ta(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},pD=n=>{const t=n.getProvider("app").getImmediate(),e=Ta(t,QS).getImmediate();return{getId:()=>cD(e),getToken:a=>uD(e,a)}};function mD(){Ni(new si(QS,gD,"PUBLIC")),Ni(new si(dD,pD,"PRIVATE"))}mD();Yn(MS,Rm);Yn(MS,Rm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="analytics",yD="firebase_id",_D="origin",vD=60*1e3,bD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Om="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Nf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Cn=new ba("analytics","Analytics",TD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(n){if(!n.startsWith(Om)){const t=Cn.create("invalid-gtag-resource",{gtagURL:n});return _n.warn(t.message),""}return n}function XS(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function SD(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function AD(n,t){const e=SD("firebase-js-sdk-policy",{createScriptURL:ED}),i=document.createElement("script"),a=`${Om}?l=${n}&id=${t}`;i.src=e?e?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function wD(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function xD(n,t,e,i,a,o){const c=i[a];try{if(c)await t[c];else{const d=(await XS(e)).find(p=>p.measurementId===a);d&&await t[d.appId]}}catch(h){_n.error(h)}n("config",a,o)}async function RD(n,t,e,i,a){try{let o=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const h=await XS(e);for(const d of c){const p=h.find(v=>v.measurementId===d),y=p&&t[p.appId];if(y)o.push(y);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),n("event",i,a||{})}catch(o){_n.error(o)}}function CD(n,t,e,i){async function a(o,...c){try{if(o==="event"){const[h,d]=c;await RD(n,t,e,h,d)}else if(o==="config"){const[h,d]=c;await xD(n,t,e,i,h,d)}else if(o==="consent"){const[h,d]=c;n("consent",h,d)}else if(o==="get"){const[h,d,p]=c;n("get",h,d,p)}else if(o==="set"){const[h]=c;n("set",h)}else n(o,...c)}catch(h){_n.error(h)}}return a}function ID(n,t,e,i,a){let o=function(...c){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(o=window[a]),window[a]=CD(o,n,t,e),{gtagCore:o,wrappedGtag:window[a]}}function DD(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Om)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=30,MD=1e3;class kD{constructor(t={},e=MD){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const WS=new kD;function ND(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function PD(n){const{appId:t,apiKey:e}=n,i={method:"GET",headers:ND(e)},a=bD.replace("{app-id}",t),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let c="";try{const h=await o.json();h.error?.message&&(c=h.error.message)}catch{}throw Cn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function VD(n,t=WS,e){const{appId:i,apiKey:a,measurementId:o}=n.options;if(!i)throw Cn.create("no-app-id");if(!a){if(o)return{measurementId:o,appId:i};throw Cn.create("no-api-key")}const c=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new zD;return setTimeout(async()=>{h.abort()},vD),ZS({appId:i,apiKey:a,measurementId:o},c,h,t)}async function ZS(n,{throttleEndTimeMillis:t,backoffCount:e},i,a=WS){const{appId:o,measurementId:c}=n;try{await LD(i,t)}catch(h){if(c)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:o,measurementId:c};throw h}try{const h=await PD(n);return a.deleteThrottleMetadata(o),h}catch(h){const d=h;if(!UD(d)){if(a.deleteThrottleMetadata(o),c)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:o,measurementId:c};throw h}const p=Number(d?.customData?.httpStatus)===503?B0(e,a.intervalMillis,OD):B0(e,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:e+1};return a.setThrottleMetadata(o,y),_n.debug(`Calling attemptFetch again in ${p} millis`),ZS(n,y,i,a)}}function LD(n,t){return new Promise((e,i)=>{const a=Math.max(t-Date.now(),0),o=setTimeout(e,a);n.addEventListener(()=>{clearTimeout(o),i(Cn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function UD(n){if(!(n instanceof ai)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class zD{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function jD(n,t,e,i,a){if(a&&a.global){n("event",e,i);return}else{const o=await t,c={...i,send_to:o};n("event",e,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(){if(qE())try{await GE()}catch(n){return _n.warn(Cn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return _n.warn(Cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function HD(n,t,e,i,a,o,c){const h=VD(n);h.then(T=>{e[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>_n.error(T)),t.push(h);const d=BD().then(T=>{if(T)return i.getId()}),[p,y]=await Promise.all([h,d]);DD(o)||AD(o,p.measurementId),a("js",new Date);const v=c?.config??{};return v[_D]="firebase",v.update=!0,y!=null&&(v[yD]=y),a("config",p.measurementId,v),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t){this.app=t}_delete(){return delete Ac[this.app.options.appId],Promise.resolve()}}let Ac={},_b=[];const vb={};let yp="dataLayer",qD="gtag",bb,JS,Tb=!1;function GD(){const n=[];if(FE()&&n.push("This is a browser extension environment."),Xx()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,a)=>`(${a+1}) ${i}`).join(" "),e=Cn.create("invalid-analytics-context",{errorInfo:t});_n.warn(e.message)}}function YD(n,t,e){GD();const i=n.options.appId;if(!i)throw Cn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Cn.create("no-api-key");if(Ac[i]!=null)throw Cn.create("already-exists",{id:i});if(!Tb){wD(yp);const{wrappedGtag:o,gtagCore:c}=ID(Ac,_b,vb,yp,qD);JS=o,bb=c,Tb=!0}return Ac[i]=HD(n,_b,vb,t,bb,yp,e),new FD(n)}function KD(n=_m()){n=In(n);const t=Ta(n,_f);return t.isInitialized()?t.getImmediate():$D(n)}function $D(n,t={}){const e=Ta(n,_f);if(e.isInitialized()){const a=e.getImmediate();if(cr(t,e.getOptions()))return a;throw Cn.create("already-initialized")}return e.initialize({options:t})}function QD(n,t,e,i){n=In(n),jD(JS,Ac[n.app.options.appId],t,e,i).catch(a=>_n.error(a))}const Eb="@firebase/analytics",Sb="0.10.18";function XD(){Ni(new si(_f,(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return YD(i,a,e)},"PUBLIC")),Ni(new si("analytics-internal",n,"PRIVATE")),Yn(Eb,Sb),Yn(Eb,Sb,"esm2020");function n(t){try{const e=t.getProvider(_f).getImmediate();return{logEvent:(i,a,o)=>QD(e,i,a,o)}}catch(e){throw Cn.create("interop-component-reg-failed",{reason:e})}}}XD();var Ab=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rr,tA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,w){function I(){}I.prototype=w.prototype,C.D=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(P,N,L){for(var M=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)M[Xt-2]=arguments[Xt];return w.prototype[N].apply(P,M)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,w,I){I||(I=0);var P=Array(16);if(typeof w=="string")for(var N=0;16>N;++N)P[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;16>N;++N)P[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],N=C.g[2];var L=C.g[3],M=w+(L^I&(N^L))+P[0]+3614090360&4294967295;w=I+(M<<7&4294967295|M>>>25),M=L+(N^w&(I^N))+P[1]+3905402710&4294967295,L=w+(M<<12&4294967295|M>>>20),M=N+(I^L&(w^I))+P[2]+606105819&4294967295,N=L+(M<<17&4294967295|M>>>15),M=I+(w^N&(L^w))+P[3]+3250441966&4294967295,I=N+(M<<22&4294967295|M>>>10),M=w+(L^I&(N^L))+P[4]+4118548399&4294967295,w=I+(M<<7&4294967295|M>>>25),M=L+(N^w&(I^N))+P[5]+1200080426&4294967295,L=w+(M<<12&4294967295|M>>>20),M=N+(I^L&(w^I))+P[6]+2821735955&4294967295,N=L+(M<<17&4294967295|M>>>15),M=I+(w^N&(L^w))+P[7]+4249261313&4294967295,I=N+(M<<22&4294967295|M>>>10),M=w+(L^I&(N^L))+P[8]+1770035416&4294967295,w=I+(M<<7&4294967295|M>>>25),M=L+(N^w&(I^N))+P[9]+2336552879&4294967295,L=w+(M<<12&4294967295|M>>>20),M=N+(I^L&(w^I))+P[10]+4294925233&4294967295,N=L+(M<<17&4294967295|M>>>15),M=I+(w^N&(L^w))+P[11]+2304563134&4294967295,I=N+(M<<22&4294967295|M>>>10),M=w+(L^I&(N^L))+P[12]+1804603682&4294967295,w=I+(M<<7&4294967295|M>>>25),M=L+(N^w&(I^N))+P[13]+4254626195&4294967295,L=w+(M<<12&4294967295|M>>>20),M=N+(I^L&(w^I))+P[14]+2792965006&4294967295,N=L+(M<<17&4294967295|M>>>15),M=I+(w^N&(L^w))+P[15]+1236535329&4294967295,I=N+(M<<22&4294967295|M>>>10),M=w+(N^L&(I^N))+P[1]+4129170786&4294967295,w=I+(M<<5&4294967295|M>>>27),M=L+(I^N&(w^I))+P[6]+3225465664&4294967295,L=w+(M<<9&4294967295|M>>>23),M=N+(w^I&(L^w))+P[11]+643717713&4294967295,N=L+(M<<14&4294967295|M>>>18),M=I+(L^w&(N^L))+P[0]+3921069994&4294967295,I=N+(M<<20&4294967295|M>>>12),M=w+(N^L&(I^N))+P[5]+3593408605&4294967295,w=I+(M<<5&4294967295|M>>>27),M=L+(I^N&(w^I))+P[10]+38016083&4294967295,L=w+(M<<9&4294967295|M>>>23),M=N+(w^I&(L^w))+P[15]+3634488961&4294967295,N=L+(M<<14&4294967295|M>>>18),M=I+(L^w&(N^L))+P[4]+3889429448&4294967295,I=N+(M<<20&4294967295|M>>>12),M=w+(N^L&(I^N))+P[9]+568446438&4294967295,w=I+(M<<5&4294967295|M>>>27),M=L+(I^N&(w^I))+P[14]+3275163606&4294967295,L=w+(M<<9&4294967295|M>>>23),M=N+(w^I&(L^w))+P[3]+4107603335&4294967295,N=L+(M<<14&4294967295|M>>>18),M=I+(L^w&(N^L))+P[8]+1163531501&4294967295,I=N+(M<<20&4294967295|M>>>12),M=w+(N^L&(I^N))+P[13]+2850285829&4294967295,w=I+(M<<5&4294967295|M>>>27),M=L+(I^N&(w^I))+P[2]+4243563512&4294967295,L=w+(M<<9&4294967295|M>>>23),M=N+(w^I&(L^w))+P[7]+1735328473&4294967295,N=L+(M<<14&4294967295|M>>>18),M=I+(L^w&(N^L))+P[12]+2368359562&4294967295,I=N+(M<<20&4294967295|M>>>12),M=w+(I^N^L)+P[5]+4294588738&4294967295,w=I+(M<<4&4294967295|M>>>28),M=L+(w^I^N)+P[8]+2272392833&4294967295,L=w+(M<<11&4294967295|M>>>21),M=N+(L^w^I)+P[11]+1839030562&4294967295,N=L+(M<<16&4294967295|M>>>16),M=I+(N^L^w)+P[14]+4259657740&4294967295,I=N+(M<<23&4294967295|M>>>9),M=w+(I^N^L)+P[1]+2763975236&4294967295,w=I+(M<<4&4294967295|M>>>28),M=L+(w^I^N)+P[4]+1272893353&4294967295,L=w+(M<<11&4294967295|M>>>21),M=N+(L^w^I)+P[7]+4139469664&4294967295,N=L+(M<<16&4294967295|M>>>16),M=I+(N^L^w)+P[10]+3200236656&4294967295,I=N+(M<<23&4294967295|M>>>9),M=w+(I^N^L)+P[13]+681279174&4294967295,w=I+(M<<4&4294967295|M>>>28),M=L+(w^I^N)+P[0]+3936430074&4294967295,L=w+(M<<11&4294967295|M>>>21),M=N+(L^w^I)+P[3]+3572445317&4294967295,N=L+(M<<16&4294967295|M>>>16),M=I+(N^L^w)+P[6]+76029189&4294967295,I=N+(M<<23&4294967295|M>>>9),M=w+(I^N^L)+P[9]+3654602809&4294967295,w=I+(M<<4&4294967295|M>>>28),M=L+(w^I^N)+P[12]+3873151461&4294967295,L=w+(M<<11&4294967295|M>>>21),M=N+(L^w^I)+P[15]+530742520&4294967295,N=L+(M<<16&4294967295|M>>>16),M=I+(N^L^w)+P[2]+3299628645&4294967295,I=N+(M<<23&4294967295|M>>>9),M=w+(N^(I|~L))+P[0]+4096336452&4294967295,w=I+(M<<6&4294967295|M>>>26),M=L+(I^(w|~N))+P[7]+1126891415&4294967295,L=w+(M<<10&4294967295|M>>>22),M=N+(w^(L|~I))+P[14]+2878612391&4294967295,N=L+(M<<15&4294967295|M>>>17),M=I+(L^(N|~w))+P[5]+4237533241&4294967295,I=N+(M<<21&4294967295|M>>>11),M=w+(N^(I|~L))+P[12]+1700485571&4294967295,w=I+(M<<6&4294967295|M>>>26),M=L+(I^(w|~N))+P[3]+2399980690&4294967295,L=w+(M<<10&4294967295|M>>>22),M=N+(w^(L|~I))+P[10]+4293915773&4294967295,N=L+(M<<15&4294967295|M>>>17),M=I+(L^(N|~w))+P[1]+2240044497&4294967295,I=N+(M<<21&4294967295|M>>>11),M=w+(N^(I|~L))+P[8]+1873313359&4294967295,w=I+(M<<6&4294967295|M>>>26),M=L+(I^(w|~N))+P[15]+4264355552&4294967295,L=w+(M<<10&4294967295|M>>>22),M=N+(w^(L|~I))+P[6]+2734768916&4294967295,N=L+(M<<15&4294967295|M>>>17),M=I+(L^(N|~w))+P[13]+1309151649&4294967295,I=N+(M<<21&4294967295|M>>>11),M=w+(N^(I|~L))+P[4]+4149444226&4294967295,w=I+(M<<6&4294967295|M>>>26),M=L+(I^(w|~N))+P[11]+3174756917&4294967295,L=w+(M<<10&4294967295|M>>>22),M=N+(w^(L|~I))+P[2]+718787259&4294967295,N=L+(M<<15&4294967295|M>>>17),M=I+(L^(N|~w))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(N+(M<<21&4294967295|M>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+L&4294967295}i.prototype.u=function(C,w){w===void 0&&(w=C.length);for(var I=w-this.blockSize,P=this.B,N=this.h,L=0;L<w;){if(N==0)for(;L<=I;)a(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(P[N++]=C.charCodeAt(L++),N==this.blockSize){a(this,P),N=0;break}}else for(;L<w;)if(P[N++]=C[L++],N==this.blockSize){a(this,P),N=0;break}}this.h=N,this.o+=w},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;var I=8*this.o;for(w=C.length-8;w<C.length;++w)C[w]=I&255,I/=256;for(this.u(C),C=Array(16),w=I=0;4>w;++w)for(var P=0;32>P;P+=8)C[I++]=this.g[w]>>>P&255;return C};function o(C,w){var I=h;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function c(C,w){this.h=w;for(var I=[],P=!0,N=C.length-1;0<=N;N--){var L=C[N]|0;P&&L==w||(I[N]=L,P=!1)}this.g=I}var h={};function d(C){return-128<=C&&128>C?o(C,function(w){return new c([w|0],0>w?-1:0)}):new c([C|0],0>C?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return v;if(0>C)return R(p(-C));for(var w=[],I=1,P=0;C>=I;P++)w[P]=C/I|0,I*=4294967296;return new c(w,0)}function y(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return R(y(C.substring(1),w));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(w,8)),P=v,N=0;N<C.length;N+=8){var L=Math.min(8,C.length-N),M=parseInt(C.substring(N,N+L),w);8>L?(L=p(Math.pow(w,L)),P=P.j(L).add(p(M))):(P=P.j(I),P=P.add(p(M)))}return P}var v=d(0),T=d(1),A=d(16777216);n=c.prototype,n.m=function(){if(D(this))return-R(this).m();for(var C=0,w=1,I=0;I<this.g.length;I++){var P=this.i(I);C+=(0<=P?P:4294967296+P)*w,w*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O(this))return"0";if(D(this))return"-"+R(this).toString(C);for(var w=p(Math.pow(C,6)),I=this,P="";;){var N=st(I,w).g;I=B(I,N.j(w));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=N,O(I))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function O(C){if(C.h!=0)return!1;for(var w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function D(C){return C.h==-1}n.l=function(C){return C=B(this,C),D(C)?-1:O(C)?0:1};function R(C){for(var w=C.g.length,I=[],P=0;P<w;P++)I[P]=~C.g[P];return new c(I,~C.h).add(T)}n.abs=function(){return D(this)?R(this):this},n.add=function(C){for(var w=Math.max(this.g.length,C.g.length),I=[],P=0,N=0;N<=w;N++){var L=P+(this.i(N)&65535)+(C.i(N)&65535),M=(L>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);P=M>>>16,L&=65535,M&=65535,I[N]=M<<16|L}return new c(I,I[I.length-1]&-2147483648?-1:0)};function B(C,w){return C.add(R(w))}n.j=function(C){if(O(this)||O(C))return v;if(D(this))return D(C)?R(this).j(R(C)):R(R(this).j(C));if(D(C))return R(this.j(R(C)));if(0>this.l(A)&&0>C.l(A))return p(this.m()*C.m());for(var w=this.g.length+C.g.length,I=[],P=0;P<2*w;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<C.g.length;N++){var L=this.i(P)>>>16,M=this.i(P)&65535,Xt=C.i(N)>>>16,St=C.i(N)&65535;I[2*P+2*N]+=M*St,X(I,2*P+2*N),I[2*P+2*N+1]+=L*St,X(I,2*P+2*N+1),I[2*P+2*N+1]+=M*Xt,X(I,2*P+2*N+1),I[2*P+2*N+2]+=L*Xt,X(I,2*P+2*N+2)}for(P=0;P<w;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=w;P<2*w;P++)I[P]=0;return new c(I,0)};function X(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function J(C,w){this.g=C,this.h=w}function st(C,w){if(O(w))throw Error("division by zero");if(O(C))return new J(v,v);if(D(C))return w=st(R(C),w),new J(R(w.g),R(w.h));if(D(w))return w=st(C,R(w)),new J(R(w.g),w.h);if(30<C.g.length){if(D(C)||D(w))throw Error("slowDivide_ only works with positive integers.");for(var I=T,P=w;0>=P.l(C);)I=G(I),P=G(P);var N=it(I,1),L=it(P,1);for(P=it(P,2),I=it(I,2);!O(P);){var M=L.add(P);0>=M.l(C)&&(N=N.add(I),L=M),P=it(P,1),I=it(I,1)}return w=B(C,N.j(w)),new J(N,w)}for(N=v;0<=C.l(w);){for(I=Math.max(1,Math.floor(C.m()/w.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=p(I),M=L.j(w);D(M)||0<M.l(C);)I-=P,L=p(I),M=L.j(w);O(L)&&(L=T),N=N.add(L),C=B(C,M)}return new J(N,C)}n.A=function(C){return st(this,C).h},n.and=function(C){for(var w=Math.max(this.g.length,C.g.length),I=[],P=0;P<w;P++)I[P]=this.i(P)&C.i(P);return new c(I,this.h&C.h)},n.or=function(C){for(var w=Math.max(this.g.length,C.g.length),I=[],P=0;P<w;P++)I[P]=this.i(P)|C.i(P);return new c(I,this.h|C.h)},n.xor=function(C){for(var w=Math.max(this.g.length,C.g.length),I=[],P=0;P<w;P++)I[P]=this.i(P)^C.i(P);return new c(I,this.h^C.h)};function G(C){for(var w=C.g.length+1,I=[],P=0;P<w;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new c(I,C.h)}function it(C,w){var I=w>>5;w%=32;for(var P=C.g.length-I,N=[],L=0;L<P;L++)N[L]=0<w?C.i(L+I)>>>w|C.i(L+I+1)<<32-w:C.i(L+I);return new c(N,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,tA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,rr=c}).apply(typeof Ab<"u"?Ab:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eA,gc,nA,ef,Hp,iA,sA,rA;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,b){return f==Array.prototype||f==Object.prototype||(f[_]=b.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=e(this);function a(f,_){if(_)t:{var b=i;f=f.split(".");for(var x=0;x<f.length-1;x++){var H=f[x];if(!(H in b))break t;b=b[H]}f=f[f.length-1],x=b[f],_=_(x),_!=x&&_!=null&&t(b,f,{configurable:!0,writable:!0,value:_})}}function o(f,_){f instanceof String&&(f+="");var b=0,x=!1,H={next:function(){if(!x&&b<f.length){var Q=b++;return{value:_(Q,f[Q]),done:!1}}return x=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}a("Array.prototype.values",function(f){return f||function(){return o(this,function(_,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function d(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function p(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function y(f,_,b){return f.call.apply(f.bind,arguments)}function v(f,_,b){if(!f)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,x),f.apply(_,H)}}return function(){return f.apply(_,arguments)}}function T(f,_,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,T.apply(null,arguments)}function A(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),f.apply(this,x)}}function O(f,_){function b(){}b.prototype=_.prototype,f.aa=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(x,H,Q){for(var ot=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)ot[Pt-2]=arguments[Pt];return _.prototype[H].apply(x,ot)}}function D(f){const _=f.length;if(0<_){const b=Array(_);for(let x=0;x<_;x++)b[x]=f[x];return b}return[]}function R(f,_){for(let b=1;b<arguments.length;b++){const x=arguments[b];if(d(x)){const H=f.length||0,Q=x.length||0;f.length=H+Q;for(let ot=0;ot<Q;ot++)f[H+ot]=x[ot]}else f.push(x)}}class B{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function X(f){return/^[\s\xa0]*$/.test(f)}function J(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function st(f){return st[" "](f),f}st[" "]=function(){};var G=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function it(f,_,b){for(const x in f)_.call(b,f[x],x,f)}function C(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function w(f){const _={};for(const b in f)_[b]=f[b];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(f,_){let b,x;for(let H=1;H<arguments.length;H++){x=arguments[H];for(b in x)f[b]=x[b];for(let Q=0;Q<I.length;Q++)b=I[Q],Object.prototype.hasOwnProperty.call(x,b)&&(f[b]=x[b])}}function N(f){var _=1;f=f.split(":");const b=[];for(;0<_&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function L(f){h.setTimeout(()=>{throw f},0)}function M(){var f=Mt;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class Xt{constructor(){this.h=this.g=null}add(_,b){const x=St.get();x.set(_,b),this.h?this.h.next=x:this.g=x,this.h=x}}var St=new B(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let at,dt=!1,Mt=new Xt,V=()=>{const f=h.Promise.resolve(void 0);at=()=>{f.then(nt)}};var nt=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(b){L(b)}var _=St;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}dt=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var ft=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};h.addEventListener("test",b,_),h.removeEventListener("test",b,_)}catch{}return f})();function At(f,_){if(rt.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,x=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(G){t:{try{st(_.nodeName);var H=!0;break t}catch{}H=!1}H||(_=null)}}else b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement);this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:yt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&At.aa.h.call(this)}}O(At,rt);var yt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),ne=0;function oi(f,_,b,x,H){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!x,this.ha=H,this.key=++ne,this.da=this.fa=!1}function _s(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Li(f){this.src=f,this.g={},this.h=0}Li.prototype.add=function(f,_,b,x,H){var Q=f.toString();f=this.g[Q],f||(f=this.g[Q]=[],this.h++);var ot=vr(f,_,x,H);return-1<ot?(_=f[ot],b||(_.fa=!1)):(_=new oi(_,this.src,Q,!!x,H),_.fa=b,f.push(_)),_};function _r(f,_){var b=_.type;if(b in f.g){var x=f.g[b],H=Array.prototype.indexOf.call(x,_,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(x,H,1),Q&&(_s(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function vr(f,_,b,x){for(var H=0;H<f.length;++H){var Q=f[H];if(!Q.da&&Q.listener==_&&Q.capture==!!b&&Q.ha==x)return H}return-1}var br="closure_lm_"+(1e6*Math.random()|0),Wo={};function ou(f,_,b,x,H){if(Array.isArray(_)){for(var Q=0;Q<_.length;Q++)ou(f,_[Q],b,x,H);return null}return b=lu(b),f&&f[Ne]?f.K(_,b,p(x)?!!x.capture:!1,H):Dn(f,_,b,!1,x,H)}function Dn(f,_,b,x,H,Q){if(!_)throw Error("Invalid event type");var ot=p(H)?!!H.capture:!!H,Pt=Ra(f);if(Pt||(f[br]=Pt=new Li(f)),b=Pt.add(_,b,x,ot,Q),b.proxy)return b;if(x=nd(),b.proxy=x,x.src=f,x.listener=b,f.addEventListener)ft||(H=ot),H===void 0&&(H=!1),f.addEventListener(_.toString(),x,H);else if(f.attachEvent)f.attachEvent(Tr(_.toString()),x);else if(f.addListener&&f.removeListener)f.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function nd(){function f(b){return _.call(f.src,f.listener,b)}const _=id;return f}function Zo(f,_,b,x,H){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)Zo(f,_[Q],b,x,H);else x=p(x)?!!x.capture:!!x,b=lu(b),f&&f[Ne]?(f=f.i,_=String(_).toString(),_ in f.g&&(Q=f.g[_],b=vr(Q,b,x,H),-1<b&&(_s(Q[b]),Array.prototype.splice.call(Q,b,1),Q.length==0&&(delete f.g[_],f.h--)))):f&&(f=Ra(f))&&(_=f.g[_.toString()],f=-1,_&&(f=vr(_,b,x,H)),(b=-1<f?_[f]:null)&&xa(b))}function xa(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Ne])_r(_.i,f);else{var b=f.type,x=f.proxy;_.removeEventListener?_.removeEventListener(b,x,f.capture):_.detachEvent?_.detachEvent(Tr(b),x):_.addListener&&_.removeListener&&_.removeListener(x),(b=Ra(_))?(_r(b,f),b.h==0&&(b.src=null,_[br]=null)):_s(f)}}}function Tr(f){return f in Wo?Wo[f]:Wo[f]="on"+f}function id(f,_){if(f.da)f=!0;else{_=new At(_,this);var b=f.listener,x=f.ha||f.src;f.fa&&xa(f),f=b.call(x,_)}return f}function Ra(f){return f=f[br],f instanceof Li?f:null}var Jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function lu(f){return typeof f=="function"?f:(f[Jo]||(f[Jo]=function(_){return f.handleEvent(_)}),f[Jo])}function he(){lt.call(this),this.i=new Li(this),this.M=this,this.F=null}O(he,lt),he.prototype[Ne]=!0,he.prototype.removeEventListener=function(f,_,b,x){Zo(this,f,_,b,x)};function Yt(f,_){var b,x=f.F;if(x)for(b=[];x;x=x.F)b.push(x);if(f=f.M,x=_.type||_,typeof _=="string")_=new rt(_,f);else if(_ instanceof rt)_.target=_.target||f;else{var H=_;_=new rt(x,f),P(_,H)}if(H=!0,b)for(var Q=b.length-1;0<=Q;Q--){var ot=_.g=b[Q];H=vn(ot,x,!0,_)&&H}if(ot=_.g=f,H=vn(ot,x,!0,_)&&H,H=vn(ot,x,!1,_)&&H,b)for(Q=0;Q<b.length;Q++)ot=_.g=b[Q],H=vn(ot,x,!1,_)&&H}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var b=f.g[_],x=0;x<b.length;x++)_s(b[x]);delete f.g[_],f.h--}}this.F=null},he.prototype.K=function(f,_,b,x){return this.i.add(String(f),_,!1,b,x)},he.prototype.L=function(f,_,b,x){return this.i.add(String(f),_,!0,b,x)};function vn(f,_,b,x){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var H=!0,Q=0;Q<_.length;++Q){var ot=_[Q];if(ot&&!ot.da&&ot.capture==b){var Pt=ot.listener,Ce=ot.ha||ot.src;ot.fa&&_r(f.i,ot),H=Pt.call(Ce,x)!==!1&&H}}return H&&!x.defaultPrevented}function Xe(f,_,b){if(typeof f=="function")b&&(f=T(f,b));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(f,_||0)}function cu(f){f.g=Xe(()=>{f.g=null,f.i&&(f.i=!1,cu(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class sd extends lt{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(f){lt.call(this),this.h=f,this.g={}}O(Er,lt);var Sr=[];function Ar(f){it(f.g,function(_,b){this.g.hasOwnProperty(b)&&xa(_)},f),f.g={}}Er.prototype.N=function(){Er.aa.N.call(this),Ar(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=h.JSON.stringify,Ca=h.JSON.parse,wr=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function tl(){}tl.prototype.h=null;function el(f){return f.h||(f.h=f.i())}function nl(){}var Ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){rt.call(this,"d")}O(zi,rt);function il(){rt.call(this,"c")}O(il,rt);var li={},sl=null;function vs(){return sl=sl||new he}li.La="serverreachability";function Ia(f){rt.call(this,li.La,f)}O(Ia,rt);function bs(f){const _=vs();Yt(_,new Ia(_))}li.STAT_EVENT="statevent";function uu(f,_){rt.call(this,li.STAT_EVENT,f),this.stat=_}O(uu,rt);function ae(f){const _=vs();Yt(_,new uu(_,f))}li.Ma="timingevent";function Re(f,_){rt.call(this,li.Ma,f),this.size=_}O(Re,rt);function be(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},_)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function rl(f,_,b,x,H,Q){f.info(function(){if(f.g)if(Q)for(var ot="",Pt=Q.split("&"),Ce=0;Ce<Pt.length;Ce++){var Vt=Pt[Ce].split("=");if(1<Vt.length){var Ve=Vt[0];Vt=Vt[1];var Ie=Ve.split("_");ot=2<=Ie.length&&Ie[1]=="type"?ot+(Ve+"="+Vt+"&"):ot+(Ve+"=redacted&")}}else ot=null;else ot=Q;return"XMLHTTP REQ ("+x+") [attempt "+H+"]: "+_+`
`+b+`
`+ot})}function rd(f,_,b,x,H,Q,ot){f.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+H+"]: "+_+`
`+b+`
`+Q+" "+ot})}function Ts(f,_,b,x){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+xr(f,b)+(x?" "+x:"")})}function hu(f,_){f.info(function(){return"TIMEOUT: "+_})}On.prototype.info=function(){};function xr(f,_){if(!f.g)return _;if(!_)return null;try{var b=JSON.parse(_);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var x=b[f];if(!(2>x.length)){var H=x[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ot=1;ot<H.length;ot++)H[ot]=""}}}}return Qn(b)}catch{return _}}var Es={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function ui(){}O(ui,tl),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},ci=new ui;function an(f,_,b,x){this.j=f,this.i=_,this.l=b,this.R=x||1,this.U=new Er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}var al={},Da={};function Xn(f,_,b){f.L=1,f.v=Or(bn(_)),f.m=b,f.P=!0,Bi(f,null)}function Bi(f,_){f.F=Date.now(),Rr(f),f.A=bn(f.v);var b=f.A,x=f.R;Array.isArray(x)||(x=[String(x)]),fl(b.i,"t",x),f.C=0,b=f.j.J,f.h=new ge,f.g=Ru(f.j,b?_:null,!f.m),0<f.O&&(f.M=new sd(T(f.Y,f,f.g),f.O)),_=f.U,b=f.g,x=f.ca;var H="readystatechange";Array.isArray(H)||(H&&(Sr[0]=H.toString()),H=Sr);for(var Q=0;Q<H.length;Q++){var ot=ou(b,H[Q],x||_.handleEvent,!1,_.h||_);if(!ot)break;_.g[ot.key]=ot}_=f.H?w(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),bs(),rl(f.i,f.u,f.A,f.l,f.R,f.m)}an.prototype.ca=function(f){f=f.target;const _=this.M;_&&Pn(f)==3?_.j():this.Y(f)},an.prototype.Y=function(f){try{if(f==this.g)t:{const Ie=Pn(this.g);var _=this.g.Ba();const Qi=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||vu(this.g)))){this.J||Ie!=4||_==7||(_==8||0>=Qi?bs(3):bs(2)),Ss(this);var b=this.g.Z();this.X=b;e:if(fu(this)){var x=vu(this.g);f="";var H=x.length,Q=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fe(this),hi(this);var ot="";break e}this.h.i=new h.TextDecoder}for(_=0;_<H;_++)this.h.h=!0,f+=this.h.i.decode(x[_],{stream:!(Q&&_==H-1)});x.length=0,this.h.g+=f,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=b==200,rd(this.i,this.u,this.A,this.l,this.R,Ie,b),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Ce=this.g;if((Pt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Pt)){var Vt=Pt;break e}}Vt=null}if(b=Vt)Ts(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cr(this,b);else{this.o=!1,this.s=3,ae(12),Fe(this),hi(this);break t}}if(this.P){b=!0;let qe;for(;!this.J&&this.C<ot.length;)if(qe=du(this,ot),qe==Da){Ie==4&&(this.s=4,ae(14),b=!1),Ts(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==al){this.s=4,ae(15),Ts(this.i,this.l,ot,"[Invalid Chunk]"),b=!1;break}else Ts(this.i,this.l,qe,null),Cr(this,qe);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||ot.length!=0||this.h.h||(this.s=1,ae(16),b=!1),this.o=this.o&&b,!b)Ts(this.i,this.l,ot,"[Invalid Chunked Response]"),Fe(this),hi(this);else if(0<ot.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),zr(Ve),Ve.M=!0,ae(11))}}else Ts(this.i,this.l,ot,null),Cr(this,ot);Ie==4&&Fe(this),this.o&&!this.J&&(Ie==4?Au(this.j,this):(this.o=!1,Rr(this)))}else ud(this.g),b==400&&0<ot.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),Fe(this),hi(this)}}}catch{}finally{}};function fu(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function du(f,_){var b=f.C,x=_.indexOf(`
`,b);return x==-1?Da:(b=Number(_.substring(b,x)),isNaN(b)?al:(x+=1,x+b>_.length?Da:(_=_.slice(x,x+b),f.C=x+b,_)))}an.prototype.cancel=function(){this.J=!0,Fe(this)};function Rr(f){f.S=Date.now()+f.I,gu(f,f.I)}function gu(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=be(T(f.ba,f),_)}function Ss(f){f.B&&(h.clearTimeout(f.B),f.B=null)}an.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(hu(this.i,this.A),this.L!=2&&(bs(),ae(17)),Fe(this),this.s=2,hi(this)):gu(this,this.S-f)};function hi(f){f.j.G==0||f.J||Au(f.j,f)}function Fe(f){Ss(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,Ar(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function Cr(f,_){try{var b=f.j;if(b.G!=0&&(b.g==f||ol(b.h,f))){if(!f.K&&ol(b.h,f)&&b.G==3){try{var x=b.Da.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var H=x;if(H[0]==0){t:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)Ha(b),ja(b);else break t;yl(b),ae(18)}}else b.za=H[1],0<b.za-b.T&&37500>H[2]&&b.F&&b.v==0&&!b.C&&(b.C=be(T(b.Za,b),6e3));if(1>=Ma(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else $i(b,11)}else if((f.K||b.g==f)&&Ha(b),!X(_))for(H=b.Da.g.parse(_),_=0;_<H.length;_++){let Vt=H[_];if(b.T=Vt[0],Vt=Vt[1],b.G==2)if(Vt[0]=="c"){b.K=Vt[1],b.ia=Vt[2];const Ve=Vt[3];Ve!=null&&(b.la=Ve,b.j.info("VER="+b.la));const Ie=Vt[4];Ie!=null&&(b.Aa=Ie,b.j.info("SVER="+b.Aa));const Qi=Vt[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(x=1.5*Qi,b.L=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const qe=f.g;if(qe){const _i=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var Q=x.h;Q.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ka(Q,Q.h),Q.h=null))}if(x.D){const vl=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;vl&&(x.ya=vl,Wt(x.I,x.D,vl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),x=b;var ot=f;if(x.qa=xu(x,x.J?x.ia:null,x.W),ot.K){on(x.h,ot);var Pt=ot,Ce=x.L;Ce&&(Pt.I=Ce),Pt.B&&(Ss(Pt),Rr(Pt)),x.g=ot}else Eu(x);0<b.i.length&&Ba(b)}else Vt[0]!="stop"&&Vt[0]!="close"||$i(b,7);else b.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?$i(b,7):pl(b):Vt[0]!="noop"&&b.l&&b.l.ta(Vt),b.v=0)}}bs(4)}catch{}}var pu=class{constructor(f,_){this.g=f,this.map=_}};function Hi(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ma(f){return f.h?1:f.g?f.g.size:0}function ol(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function ka(f,_){f.g?f.g.add(_):f.h=_}function on(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Hi.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ll(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.D);return _}return D(f.i)}function ad(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var _=[],b=f.length,x=0;x<b;x++)_.push(f[x]);return _}_=[],b=0;for(x in f)_[b++]=f[x];return _}function Na(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var _=[];f=f.length;for(var b=0;b<f;b++)_.push(b);return _}_=[],b=0;for(const x in f)_[b++]=x;return _}}}function cl(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var b=Na(f),x=ad(f),H=x.length,Q=0;Q<H;Q++)_.call(void 0,x[Q],b&&b[Q],f)}var Ir=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function od(f,_){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var x=f[b].indexOf("="),H=null;if(0<=x){var Q=f[b].substring(0,x);H=f[b].substring(x+1)}else Q=f[b];_(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Te(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Te){this.h=f.h,Dr(this,f.j),this.o=f.o,this.g=f.g,As(this,f.s),this.l=f.l;var _=f.i,b=new qi;b.i=_.i,_.g&&(b.g=new Map(_.g),b.h=_.h),Fi(this,b),this.m=f.m}else f&&(_=String(f).match(Ir))?(this.h=!1,Dr(this,_[1]||"",!0),this.o=Mn(_[2]||""),this.g=Mn(_[3]||"",!0),As(this,_[4]),this.l=Mn(_[5]||"",!0),Fi(this,_[6]||"",!0),this.m=Mn(_[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}Te.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Mr(_,ul,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Mr(_,ul,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Mr(b,b.charAt(0)=="/"?ld:hl,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Mr(b,Pa)),f.join("")};function bn(f){return new Te(f)}function Dr(f,_,b){f.j=b?Mn(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function As(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function Fi(f,_,b){_ instanceof qi?(f.i=_,yu(f.i,f.h)):(b||(_=Mr(_,cd)),f.i=new qi(_,f.h))}function Wt(f,_,b){f.i.set(_,b)}function Or(f){return Wt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Mn(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Mr(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,mu),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function mu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ul=/[#\/\?@]/g,hl=/[#\?:]/g,ld=/[#\?]/g,cd=/[#\?@]/g,Pa=/#/g;function qi(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function kn(f){f.g||(f.g=new Map,f.h=0,f.i&&od(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=qi.prototype,n.add=function(f,_){kn(this),this.i=null,f=fi(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function Gi(f,_){kn(f),_=fi(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Yi(f,_){return kn(f),_=fi(f,_),f.g.has(_)}n.forEach=function(f,_){kn(this),this.g.forEach(function(b,x){b.forEach(function(H){f.call(_,H,x,this)},this)},this)},n.na=function(){kn(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),b=[];for(let x=0;x<_.length;x++){const H=f[x];for(let Q=0;Q<H.length;Q++)b.push(_[x])}return b},n.V=function(f){kn(this);let _=[];if(typeof f=="string")Yi(this,f)&&(_=_.concat(this.g.get(fi(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)_=_.concat(f[b])}return _},n.set=function(f,_){return kn(this),this.i=null,f=fi(this,f),Yi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function fl(f,_,b){Gi(f,_),0<b.length&&(f.i=null,f.g.set(fi(f,_),D(b)),f.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var b=0;b<_.length;b++){var x=_[b];const Q=encodeURIComponent(String(x)),ot=this.V(x);for(x=0;x<ot.length;x++){var H=Q;ot[x]!==""&&(H+="="+encodeURIComponent(String(ot[x]))),f.push(H)}}return this.i=f.join("&")};function fi(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function yu(f,_){_&&!f.j&&(kn(f),f.i=null,f.g.forEach(function(b,x){var H=x.toLowerCase();x!=H&&(Gi(this,x),fl(this,H,b))},f)),f.j=_}function kr(f,_){const b=new On;if(h.Image){const x=new Image;x.onload=A(Nn,b,"TestLoadImage: loaded",!0,_,x),x.onerror=A(Nn,b,"TestLoadImage: error",!1,_,x),x.onabort=A(Nn,b,"TestLoadImage: abort",!1,_,x),x.ontimeout=A(Nn,b,"TestLoadImage: timeout",!1,_,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=f}else _(!1)}function Wn(f,_){const b=new On,x=new AbortController,H=setTimeout(()=>{x.abort(),Nn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:x.signal}).then(Q=>{clearTimeout(H),Q.ok?Nn(b,"TestPingServer: ok",!0,_):Nn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),Nn(b,"TestPingServer: error",!1,_)})}function Nn(f,_,b,x,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),x(b)}catch{}}function Nr(){this.g=new wr}function di(f,_,b){const x=b||"";try{cl(f,function(H,Q){let ot=H;p(H)&&(ot=Qn(H)),_.push(x+Q+"="+encodeURIComponent(ot))})}catch(H){throw _.push(x+"type="+encodeURIComponent("_badmap")),H}}function ws(f){this.l=f.Ub||null,this.j=f.eb||!1}O(ws,tl),ws.prototype.g=function(){return new Ki(this.l,this.j)},ws.prototype.i=(function(f){return function(){return f}})({});function Ki(f,_){he.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ki,he),n=Ki.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,pi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function dl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?gi(this):pi(this),this.readyState==3&&dl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,gi(this))},n.Qa=function(f){this.g&&(this.response=f,gi(this))},n.ga=function(){this.g&&gi(this)};function gi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,pi(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function pi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function gl(f){let _="";return it(f,function(b,x){_+=x,_+=":",_+=b,_+=`\r
`}),_}function Pe(f,_,b){t:{for(x in b){var x=!1;break t}x=!0}x||(b=gl(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):Wt(f,_,b))}function Gt(f){he.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Gt,he);var Va=/^https?$/i,Pr=["POST","PUT"];n=Gt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?el(this.o):el(ci),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Q){_u(this,Q);return}if(f=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var H in x)b.set(H,x[H]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Q of x.keys())b.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Pr,_,void 0))||x||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ot]of b)this.g.setRequestHeader(Q,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vr(this),this.u=!0,this.g.send(f),this.u=!1}catch(Q){_u(this,Q)}};function _u(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,La(f),mi(f)}function La(f){f.A||(f.A=!0,Yt(f,"complete"),Yt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Yt(this,"complete"),Yt(this,"abort"),mi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),Gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},n.bb=function(){Ua(this)};function Ua(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Pn(f)!=4||f.Z()!=2)){if(f.u&&Pn(f)==4)Xe(f.Ea,0,f);else if(Yt(f,"readystatechange"),Pn(f)==4){f.h=!1;try{const ot=f.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var b;if(!(b=_)){var x;if(x=ot===0){var H=String(f.D).match(Ir)[1]||null;!H&&h.self&&h.self.location&&(H=h.self.location.protocol.slice(0,-1)),x=!Va.test(H?H.toLowerCase():"")}b=x}if(b)Yt(f,"complete"),Yt(f,"success");else{f.m=6;try{var Q=2<Pn(f)?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.Z()+"]",La(f)}}finally{mi(f)}}}}function mi(f,_){if(f.g){Vr(f);const b=f.g,x=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||Yt(f,"ready");try{b.onreadystatechange=x}catch{}}}function Vr(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Pn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Ca(_)}};function vu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ud(f){const _={};f=(f.g&&2<=Pn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<f.length;x++){if(X(f[x]))continue;var b=N(f[x]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=_[H]||[];_[H]=Q,Q.push(b)}C(_,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lr(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function za(f){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lr("baseRetryDelayMs",5e3,f),this.cb=Lr("retryDelaySeedMs",1e4,f),this.Wa=Lr("forwardChannelMaxRetries",2,f),this.wa=Lr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Hi(f&&f.concurrentRequestLimit),this.Da=new Nr,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=za.prototype,n.la=8,n.G=1,n.connect=function(f,_,b,x){ae(0),this.W=f,this.H=_||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.I=xu(this,null,this.W),Ba(this)};function pl(f){if(bu(f),f.G==3){var _=f.U++,b=bn(f.I);if(Wt(b,"SID",f.K),Wt(b,"RID",_),Wt(b,"TYPE","terminate"),Ur(f,b),_=new an(f,f.j,_),_.L=2,_.v=Or(bn(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!b&&h.Image&&(new Image().src=_.v,b=!0),b||(_.g=Ru(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Rr(_)}wu(f)}function ja(f){f.g&&(zr(f),f.g.cancel(),f.g=null)}function bu(f){ja(f),f.u&&(h.clearTimeout(f.u),f.u=null),Ha(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Ba(f){if(!Oa(f.h)&&!f.s){f.s=!0;var _=f.Ga;at||V(),dt||(at(),dt=!0),Mt.add(_,f),f.B=0}}function hd(f,_){return Ma(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=be(T(f.Ga,f,_),_l(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const H=new an(this,this.j,f);let Q=this.o;if(this.S&&(Q?(Q=w(Q),P(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)t:{for(var _=0,b=0;b<this.i.length;b++){e:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(_+=x,4096<_){_=b;break t}if(_===4096||b===this.i.length-1){_=b+1;break t}}_=1e3}else _=1e3;_=Tu(this,H,_),b=bn(this.I),Wt(b,"RID",f),Wt(b,"CVER",22),this.D&&Wt(b,"X-HTTP-Session-Id",this.D),Ur(this,b),Q&&(this.O?_="headers="+encodeURIComponent(String(gl(Q)))+"&"+_:this.m&&Pe(b,this.m,Q)),ka(this.h,H),this.Ua&&Wt(b,"TYPE","init"),this.P?(Wt(b,"$req",_),Wt(b,"SID","null"),H.T=!0,Xn(H,b,null)):Xn(H,b,_),this.G=2}}else this.G==3&&(f?ml(this,f):this.i.length==0||Oa(this.h)||ml(this))};function ml(f,_){var b;_?b=_.l:b=f.U++;const x=bn(f.I);Wt(x,"SID",f.K),Wt(x,"RID",b),Wt(x,"AID",f.T),Ur(f,x),f.m&&f.o&&Pe(x,f.m,f.o),b=new an(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),_&&(f.i=_.D.concat(f.i)),_=Tu(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ka(f.h,b),Xn(b,x,_)}function Ur(f,_){f.H&&it(f.H,function(b,x){Wt(_,x,b)}),f.l&&cl({},function(b,x){Wt(_,x,b)})}function Tu(f,_,b){b=Math.min(f.i.length,b);var x=f.l?T(f.l.Na,f.l,f):null;t:{var H=f.i;let Q=-1;for(;;){const ot=["count="+b];Q==-1?0<b?(Q=H[0].g,ot.push("ofs="+Q)):Q=0:ot.push("ofs="+Q);let Pt=!0;for(let Ce=0;Ce<b;Ce++){let Vt=H[Ce].g;const Ve=H[Ce].map;if(Vt-=Q,0>Vt)Q=Math.max(0,H[Ce].g-100),Pt=!1;else try{di(Ve,ot,"req"+Vt+"_")}catch{x&&x(Ve)}}if(Pt){x=ot.join("&");break t}}}return f=f.i.splice(0,b),_.D=f,x}function Eu(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;at||V(),dt||(at(),dt=!0),Mt.add(_,f),f.v=0}}function yl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=be(T(f.Fa,f),_l(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=be(T(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),ja(this),Su(this))};function zr(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Su(f){f.g=new an(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=bn(f.qa);Wt(_,"RID","rpc"),Wt(_,"SID",f.K),Wt(_,"AID",f.T),Wt(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Wt(_,"TO",f.ja),Wt(_,"TYPE","xmlhttp"),Ur(f,_),f.m&&f.o&&Pe(_,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=Or(bn(_)),b.m=null,b.P=!0,Bi(b,f)}n.Za=function(){this.C!=null&&(this.C=null,ja(this),yl(this),ae(19))};function Ha(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Au(f,_){var b=null;if(f.g==_){Ha(f),zr(f),f.g=null;var x=2}else if(ol(f.h,_))b=_.D,on(f.h,_),x=1;else return;if(f.G!=0){if(_.o)if(x==1){b=_.m?_.m.length:0,_=Date.now()-_.F;var H=f.B;x=vs(),Yt(x,new Re(x,b)),Ba(f)}else Eu(f);else if(H=_.s,H==3||H==0&&0<_.X||!(x==1&&hd(f,_)||x==2&&yl(f)))switch(b&&0<b.length&&(_=f.h,_.i=_.i.concat(b)),H){case 1:$i(f,5);break;case 4:$i(f,10);break;case 3:$i(f,6);break;default:$i(f,2)}}}function _l(f,_){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*_}function $i(f,_){if(f.j.info("Error code "+_),_==2){var b=T(f.fb,f),x=f.Xa;const H=!x;x=new Te(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Dr(x,"https"),Or(x),H?kr(x.toString(),b):Wn(x.toString(),b)}else ae(2);f.G=0,f.l&&f.l.sa(_),wu(f),bu(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function wu(f){if(f.G=0,f.ka=[],f.l){const _=ll(f.h);(_.length!=0||f.i.length!=0)&&(R(f.ka,_),R(f.ka,f.i),f.h.i.length=0,D(f.i),f.i.length=0),f.l.ra()}}function xu(f,_,b){var x=b instanceof Te?bn(b):new Te(b);if(x.g!="")_&&(x.g=_+"."+x.g),As(x,x.s);else{var H=h.location;x=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;var Q=new Te(null);x&&Dr(Q,x),_&&(Q.g=_),H&&As(Q,H),b&&(Q.l=b),x=Q}return b=f.D,_=f.ya,b&&_&&Wt(x,b,_),Wt(x,"VER",f.la),Ur(f,x),x}function Ru(f,_,b){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new Gt(new ws({eb:b})):new Gt(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}n=Cu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fa(){}Fa.prototype.g=function(f,_){return new ln(f,_)};function ln(f,_){he.call(this),this.g=new za(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!X(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!X(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new yi(this)}O(ln,he),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){pl(this.g)},ln.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=Qn(f),f=b);_.i.push(new pu(_.Ya++,f)),_.G==3&&Ba(_)},ln.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,ln.aa.N.call(this)};function Iu(f){zi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const b in _){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}O(Iu,zi);function Du(){il.call(this),this.status=1}O(Du,il);function yi(f){this.g=f}O(yi,Cu),yi.prototype.ua=function(){Yt(this.g,"a")},yi.prototype.ta=function(f){Yt(this.g,new Iu(f))},yi.prototype.sa=function(f){Yt(this.g,new Du)},yi.prototype.ra=function(){Yt(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,rA=function(){return new Fa},sA=function(){return vs()},iA=li,Hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Es.NO_ERROR=0,Es.TIMEOUT=8,Es.HTTP_ERROR=6,ef=Es,ji.COMPLETE="complete",nA=ji,nl.EventType=Ui,Ui.OPEN="a",Ui.CLOSE="b",Ui.ERROR="c",Ui.MESSAGE="d",he.prototype.listen=he.prototype.K,gc=nl,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,eA=Gt}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});const wb="@firebase/firestore",xb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Nf("@firebase/firestore");function bo(){return _a.logLevel}function ut(n,...t){if(_a.logLevel<=kt.DEBUG){const e=t.map(Mm);_a.debug(`Firestore (${Yo}): ${n}`,...e)}}function ys(n,...t){if(_a.logLevel<=kt.ERROR){const e=t.map(Mm);_a.error(`Firestore (${Yo}): ${n}`,...e)}}function Mo(n,...t){if(_a.logLevel<=kt.WARN){const e=t.map(Mm);_a.warn(`Firestore (${Yo}): ${n}`,...e)}}function Mm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,aA(n,i,e)}function aA(n,t,e){let i=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw ys(i),new Error(i)}function ue(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||aA(t,a,i)}function jt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends ai{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class WD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(en.UNAUTHENTICATED)))}shutdown(){}}class ZD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class JD{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ue(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ha,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=o;t.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ha)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ue(typeof i.accessToken=="string",31837,{l:i}),new oA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ue(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class tO{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eO{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new tO(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nO{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ue(this.o===void 0,3512);const i=o=>{o.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ut("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const a=o=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(ue(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Rb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=iO(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<e&&(i+=t.charAt(a[o]%62))}return i}}function Nt(n,t){return n<t?-1:n>t?1:0}function Fp(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),o=t.charAt(i);if(a!==o)return _p(a)===_p(o)?Nt(a,o):_p(a)?1:-1}return Nt(n.length,t.length)}const sO=55296,rO=57343;function _p(n){const t=n.charCodeAt(0);return t>=sO&&t<=rO}function ko(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="__name__";class Ri{constructor(t,e,i){e===void 0?e=0:e>t.length&&xt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&xt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const o=Ri.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return Nt(t.length,e.length)}static compareSegments(t,e){const i=Ri.isNumericId(t),a=Ri.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?Ri.extractNumericId(t).compare(Ri.extractNumericId(e)):Fp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rr.fromString(t.substring(4,t.length-2))}}class ce extends Ri{construct(t,e,i){return new ce(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new mt(ct.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new ce(e)}static emptyPath(){return new ce([])}}const aO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Ri{construct(t,e,i){return new un(t,e,i)}static isValidIdentifier(t){return aO.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cb}static keyField(){return new un([Cb])}static fromServerFormat(t){const e=[];let i="",a=0;const o=()=>{if(i.length===0)throw new mt(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new mt(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new mt(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(o(),a++)}if(o(),c)throw new mt(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new un(e)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ce.fromString(t))}static fromName(t){return new vt(ce.fromString(t).popFirst(5))}static empty(){return new vt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ce.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ce(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(n,t,e){if(!e)throw new mt(ct.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function lO(n,t,e,i){if(t===!0&&i===!0)throw new mt(ct.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Ib(n){if(!vt.isDocumentKey(n))throw new mt(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cO(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function uO(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":xt(12329,{type:typeof n})}function qp(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=uO(n);throw new mt(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n,t){const e={typeString:n};return t&&(e.value=t),e}function tu(n,t){if(!cO(n))throw new mt(ct.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new mt(ct.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=-62135596800,Ob=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(t){return we.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Ob);return new we(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Db)throw new mt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ob}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:we._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(tu(t,we._jsonSchema))return new we(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Db;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}we._jsonSchemaVersion="firestore/timestamp/1.0",we._jsonSchema={type:xe("string",we._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new we(0,0))}static max(){return new wt(new we(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=-1;function hO(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=wt.fromTimestamp(i===1e9?new we(e+1,0):new we(e,i));return new ur(a,vt.empty(),t)}function fO(n){return new ur(n.readTime,n.key,zc)}class ur{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ur(wt.min(),vt.empty(),zc)}static max(){return new ur(wt.max(),vt.empty(),zc)}}function dO(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=vt.comparator(n.documentKey,t.documentKey),e!==0?e:Nt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(n){if(n.code!==ct.FAILED_PRECONDITION||n.message!==gO)throw n;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):et.reject(e)}static resolve(t){return new et(((e,i)=>{e(t)}))}static reject(t){return new et(((e,i)=>{i(t)}))}static waitFor(t){return new et(((e,i)=>{let a=0,o=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&e()}),(d=>i(d)))})),c=!0,o===a&&e()}))}static or(t){let e=et.resolve(!1);for(const i of t)e=e.next((a=>a?et.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,o)=>{i.push(e.call(this,a,o))})),this.waitFor(i)}static mapArray(t,e){return new et(((i,a)=>{const o=t.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const p=d;e(t[p]).next((y=>{c[p]=y,++h,h===o&&i(c)}),(y=>a(y)))}}))}static doWhile(t,e){return new et(((i,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):i()};o()}))}}function mO(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ko(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Hf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=-1;function Ff(n){return n==null}function Gp(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="";function _O(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Mb(t)),t=vO(n.get(e),t);return Mb(t)}function vO(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case lA:e+="";break;default:e+=o}}return e}function Mb(n){return n+lA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function eu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function bO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,e){this.comparator=t,this.root=e||$e.EMPTY}insert(t,e){return new ve(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kh(this.root,t,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kh(this.root,t,this.comparator,!0)}}class kh{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??$e.RED,this.left=a??$e.EMPTY,this.right=o??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,o){return new $e(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return $e.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(t,e,i,a,o){return this}insert(t,e,i){return new $e(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Nb(this.data.getIterator())}getIteratorFrom(t){return new Nb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ke(this.comparator);return e.data=t,e}}class Nb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t){this.fields=t,t.sort(un.comparator)}static empty(){return new Js([])}unionWith(t){let e=new ke(un.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Js(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ko(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cA("Invalid base64 string: "+o):o}})(t);return new Qe(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(t);return new Qe(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const TO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(n){if(ue(!!n,39018),typeof n=="string"){let t=0;const e=TO.exec(n);if(ue(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ye(n.seconds),nanos:ye(n.nanos)}}function ye(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fr(n){return typeof n=="string"?Qe.fromBase64String(n):Qe.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="server_timestamp",hA="__type__",fA="__previous_value__",dA="__local_write_time__";function Nm(n){return(n?.mapValue?.fields||{})[hA]?.stringValue===uA}function qf(n){const t=n.mapValue.fields[fA];return Nm(t)?qf(t):t}function jc(n){const t=hr(n.mapValue.fields[dA].timestampValue);return new we(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(t,e,i,a,o,c,h,d,p,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const vf="(default)";class Bc{constructor(t,e){this.projectId=t,this.database=e||vf}static empty(){return new Bc("","")}get isDefaultDatabase(){return this.database===vf}isEqual(t){return t instanceof Bc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="__type__",AO="__max__",Nh={mapValue:{}},wO="__vector__",Yp="value";function dr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nm(n)?4:RO(n)?9007199254740991:xO(n)?10:11:xt(28295,{value:n})}function Pi(n,t){if(n===t)return!0;const e=dr(n);if(e!==dr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return jc(n).isEqual(jc(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=hr(a.timestampValue),h=hr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return fr(a.bytesValue).isEqual(fr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return ye(a.geoPointValue.latitude)===ye(o.geoPointValue.latitude)&&ye(a.geoPointValue.longitude)===ye(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return ye(a.integerValue)===ye(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=ye(a.doubleValue),h=ye(o.doubleValue);return c===h?Gp(c)===Gp(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return ko(n.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(kb(c)!==kb(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!Pi(c[d],h[d])))return!1;return!0})(n,t);default:return xt(52216,{left:n})}}function Hc(n,t){return(n.values||[]).find((e=>Pi(e,t)))!==void 0}function No(n,t){if(n===t)return 0;const e=dr(n),i=dr(t);if(e!==i)return Nt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=ye(o.integerValue||o.doubleValue),d=ye(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,t);case 3:return Pb(n.timestampValue,t.timestampValue);case 4:return Pb(jc(n),jc(t));case 5:return Fp(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=fr(o),d=fr(c);return h.compareTo(d)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),d=c.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=Nt(h[p],d[p]);if(y!==0)return y}return Nt(h.length,d.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=Nt(ye(o.latitude),ye(c.latitude));return h!==0?h:Nt(ye(o.longitude),ye(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return Vb(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},d=c.fields||{},p=h[Yp]?.arrayValue,y=d[Yp]?.arrayValue,v=Nt(p?.values?.length||0,y?.values?.length||0);return v!==0?v:Vb(p,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Nh.mapValue&&c===Nh.mapValue)return 0;if(o===Nh.mapValue)return 1;if(c===Nh.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),p=c.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=Fp(d[v],y[v]);if(T!==0)return T;const A=No(h[d[v]],p[y[v]]);if(A!==0)return A}return Nt(d.length,y.length)})(n.mapValue,t.mapValue);default:throw xt(23264,{he:e})}}function Pb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Nt(n,t);const e=hr(n),i=hr(t),a=Nt(e.seconds,i.seconds);return a!==0?a:Nt(e.nanos,i.nanos)}function Vb(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const o=No(e[a],i[a]);if(o)return o}return Nt(e.length,i.length)}function Po(n){return Kp(n)}function Kp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=hr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return fr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return vt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const o of e.values||[])a?a=!1:i+=",",i+=Kp(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const c of i)o?o=!1:a+=",",a+=`${c}:${Kp(e.fields[c])}`;return a+"}"})(n.mapValue):xt(61005,{value:n})}function nf(n){switch(dr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qf(n);return t?16+nf(t):16;case 5:return 2*n.stringValue.length;case 6:return fr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+nf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return eu(i.fields,((o,c)=>{a+=o.length+nf(c)})),a})(n.mapValue);default:throw xt(13486,{value:n})}}function $p(n){return!!n&&"integerValue"in n}function Pm(n){return!!n&&"arrayValue"in n}function Lb(n){return!!n&&"nullValue"in n}function Ub(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vp(n){return!!n&&"mapValue"in n}function xO(n){return(n?.mapValue?.fields||{})[SO]?.stringValue===wO}function wc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return eu(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=wc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=wc(n.arrayValue.values[e]);return t}return{...n}}function RO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===AO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this.value=t}static empty(){return new Ci({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!vp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=wc(e)}setAll(t){let e=un.emptyPath(),i={},a=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const d=this.getFieldsMap(e);this.applyChanges(d,i,a),i={},a=[],e=h.popLast()}c?i[h.lastSegment()]=wc(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,a)}delete(t){const e=this.field(t.popLast());vp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];vp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){eu(e,((a,o)=>t[a]=o));for(const a of i)delete t[a]}clone(){return new Ci(wc(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,e,i,a,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new nn(t,0,wt.min(),wt.min(),wt.min(),Ci.empty(),0)}static newFoundDocument(t,e,i,a){return new nn(t,1,e,wt.min(),i,a,0)}static newNoDocument(t,e){return new nn(t,2,e,wt.min(),wt.min(),Ci.empty(),0)}static newUnknownDocument(t,e){return new nn(t,3,e,wt.min(),wt.min(),Ci.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,e){this.position=t,this.inclusive=e}}function zb(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const o=t[a],c=n.position[a];if(o.field.isKeyField()?i=vt.comparator(vt.fromName(c.referenceValue),e.key):i=No(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function jb(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Pi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,e="asc"){this.field=t,this.dir=e}}function CO(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{}class Me extends gA{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new DO(t,e,i):e==="array-contains"?new kO(t,i):e==="in"?new NO(t,i):e==="not-in"?new PO(t,i):e==="array-contains-any"?new VO(t,i):new Me(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new OO(t,i):new MO(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(No(e,this.value)):e!==null&&dr(this.value)===dr(e)&&this.matchesComparison(No(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends gA{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Vi(t,e)}matches(t){return pA(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pA(n){return n.op==="and"}function mA(n){return IO(n)&&pA(n)}function IO(n){for(const t of n.filters)if(t instanceof Vi)return!1;return!0}function Qp(n){if(n instanceof Me)return n.field.canonicalString()+n.op.toString()+Po(n.value);if(mA(n))return n.filters.map((t=>Qp(t))).join(",");{const t=n.filters.map((e=>Qp(e))).join(",");return`${n.op}(${t})`}}function yA(n,t){return n instanceof Me?(function(i,a){return a instanceof Me&&i.op===a.op&&i.field.isEqual(a.field)&&Pi(i.value,a.value)})(n,t):n instanceof Vi?(function(i,a){return a instanceof Vi&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,c,h)=>o&&yA(c,a.filters[h])),!0):!1})(n,t):void xt(19439)}function _A(n){return n instanceof Me?(function(e){return`${e.field.canonicalString()} ${e.op} ${Po(e.value)}`})(n):n instanceof Vi?(function(e){return e.op.toString()+" {"+e.getFilters().map(_A).join(" ,")+"}"})(n):"Filter"}class DO extends Me{constructor(t,e,i){super(t,e,i),this.key=vt.fromName(i.referenceValue)}matches(t){const e=vt.comparator(t.key,this.key);return this.matchesComparison(e)}}class OO extends Me{constructor(t,e){super(t,"in",e),this.keys=vA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class MO extends Me{constructor(t,e){super(t,"not-in",e),this.keys=vA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function vA(n,t){return(t.arrayValue?.values||[]).map((e=>vt.fromName(e.referenceValue)))}class kO extends Me{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Pm(e)&&Hc(e.arrayValue,this.value)}}class NO extends Me{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Hc(this.value.arrayValue,e)}}class PO extends Me{constructor(t,e){super(t,"not-in",e)}matches(t){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Hc(this.value.arrayValue,e)}}class VO extends Me{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Pm(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Hc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t,e=null,i=[],a=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function Bb(n,t=null,e=[],i=[],a=null,o=null,c=null){return new LO(n,t,e,i,a,o,c)}function Vm(n){const t=jt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Qp(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Ff(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Po(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Po(i))).join(",")),t.Te=e}return t.Te}function Lm(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!CO(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!yA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!jb(n.startAt,t.startAt)&&jb(n.endAt,t.endAt)}function Xp(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,e=null,i=[],a=[],o=null,c="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UO(n,t,e,i,a,o,c,h){return new Gf(n,t,e,i,a,o,c,h)}function Um(n){return new Gf(n)}function Hb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zO(n){return n.collectionGroup!==null}function xc(n){const t=jt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new ke(un.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Tf(o,i))})),e.has(un.keyField().canonicalString())||t.Ie.push(new Tf(un.keyField(),i))}return t.Ie}function Mi(n){const t=jt(n);return t.Ee||(t.Ee=jO(t,xc(n))),t.Ee}function jO(n,t){if(n.limitType==="F")return Bb(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Tf(a.field,o)}));const e=n.endAt?new bf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new bf(n.startAt.position,n.startAt.inclusive):null;return Bb(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Wp(n,t,e){return new Gf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Yf(n,t){return Lm(Mi(n),Mi(t))&&n.limitType===t.limitType}function bA(n){return`${Vm(Mi(n))}|lt:${n.limitType}`}function To(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>_A(a))).join(", ")}]`),Ff(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Po(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Po(a))).join(",")),`Target(${i})`})(Mi(n))}; limitType=${n.limitType})`}function Kf(n,t){return t.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):vt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,a){for(const o of xc(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(c,h,d){const p=zb(c,h,d);return c.inclusive?p<=0:p<0})(i.startAt,xc(i),a)||i.endAt&&!(function(c,h,d){const p=zb(c,h,d);return c.inclusive?p>=0:p>0})(i.endAt,xc(i),a))})(n,t)}function BO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function TA(n){return(t,e)=>{let i=!1;for(const a of xc(n)){const o=HO(a,t,e);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function HO(n,t,e){const i=n.field.isKeyField()?vt.comparator(t.key,e.key):(function(o,c,h){const d=c.data.field(o),p=h.data.field(o);return d!==null&&p!==null?No(d,p):xt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){eu(this.inner,((e,i)=>{for(const[a,o]of i)t(a,o)}))}isEmpty(){return bO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new ve(vt.comparator);function gr(){return FO}const EA=new ve(vt.comparator);function pc(...n){let t=EA;for(const e of n)t=t.insert(e.key,e);return t}function qO(n){let t=EA;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function la(){return Rc()}function SA(){return Rc()}function Rc(){return new Sa((n=>n.toString()),((n,t)=>n.isEqual(t)))}const GO=new ke(vt.comparator);function Bt(...n){let t=GO;for(const e of n)t=t.add(e);return t}const YO=new ke(Nt);function KO(){return YO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gp(t)?"-0":t}}function QO(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this._=void 0}}function XO(n,t,e){return n instanceof Zp?(function(a,o){const c={fields:{[hA]:{stringValue:uA},[dA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Nm(o)&&(o=qf(o)),o&&(c.fields[fA]=o),{mapValue:c}})(e,t):n instanceof Ef?AA(n,t):n instanceof Sf?wA(n,t):(function(a,o){const c=ZO(a,o),h=Fb(c)+Fb(a.Ae);return $p(c)&&$p(a.Ae)?QO(h):$O(a.serializer,h)})(n,t)}function WO(n,t,e){return n instanceof Ef?AA(n,t):n instanceof Sf?wA(n,t):e}function ZO(n,t){return n instanceof Jp?(function(i){return $p(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Zp extends $f{}class Ef extends $f{constructor(t){super(),this.elements=t}}function AA(n,t){const e=xA(t);for(const i of n.elements)e.some((a=>Pi(a,i)))||e.push(i);return{arrayValue:{values:e}}}class Sf extends $f{constructor(t){super(),this.elements=t}}function wA(n,t){let e=xA(t);for(const i of n.elements)e=e.filter((a=>!Pi(a,i)));return{arrayValue:{values:e}}}class Jp extends $f{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Fb(n){return ye(n.integerValue||n.doubleValue)}function xA(n){return Pm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function JO(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof Ef&&a instanceof Ef||i instanceof Sf&&a instanceof Sf?ko(i.elements,a.elements,Pi):i instanceof Jp&&a instanceof Jp?Pi(i.Ae,a.Ae):i instanceof Zp&&a instanceof Zp})(n.transform,t.transform)}class fa{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new fa}static exists(t){return new fa(void 0,t)}static updateTime(t){return new fa(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class zm{}function RA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new eM(n.key,fa.none()):new jm(n.key,n.data,fa.none());{const e=n.data,i=Ci.empty();let a=new ke(un.comparator);for(let o of t.fields)if(!a.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),a=a.add(o)}return new Qf(n.key,i,new Js(a.toArray()),fa.none())}}function tM(n,t,e){n instanceof jm?(function(a,o,c){const h=a.value.clone(),d=Gb(a.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Qf?(function(a,o,c){if(!sf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=Gb(a.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(CA(a)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,e):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Cc(n,t,e,i){return n instanceof jm?(function(o,c,h,d){if(!sf(o.precondition,c))return h;const p=o.value.clone(),y=Yb(o.fieldTransforms,d,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,t,e,i):n instanceof Qf?(function(o,c,h,d){if(!sf(o.precondition,c))return h;const p=Yb(o.fieldTransforms,d,c),y=c.data;return y.setAll(CA(o)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,t,e,i):(function(o,c,h){return sf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function qb(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ko(i,a,((o,c)=>JO(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class jm extends zm{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Qf extends zm{constructor(t,e,i,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function CA(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function Gb(n,t,e){const i=new Map;ue(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const o=n[a],c=o.transform,h=t.data.field(o.field);i.set(o.field,WO(c,h,e[a]))}return i}function Yb(n,t,e){const i=new Map;for(const a of n){const o=a.transform,c=e.data.field(a.field);i.set(a.field,XO(o,c,t))}return i}class eM extends zm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&tM(o,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Cc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Cc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=SA();return this.mutations.forEach((a=>{const o=t.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(a.key)?null:h;const d=RA(c,h);d!==null&&i.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(wt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&ko(this.mutations,t.mutations,((e,i)=>qb(e,i)))&&ko(this.baseMutations,t.baseMutations,((e,i)=>qb(e,i)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Ut;function IA(n){if(n===void 0)return ys("GRPC error has no .code"),ct.UNKNOWN;switch(n){case Ae.OK:return ct.OK;case Ae.CANCELLED:return ct.CANCELLED;case Ae.UNKNOWN:return ct.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return ct.INTERNAL;case Ae.UNAVAILABLE:return ct.UNAVAILABLE;case Ae.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case Ae.NOT_FOUND:return ct.NOT_FOUND;case Ae.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case Ae.ABORTED:return ct.ABORTED;case Ae.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case Ae.DATA_LOSS:return ct.DATA_LOSS;default:return xt(39323,{code:n})}}(Ut=Ae||(Ae={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new rr([4294967295,4294967295],0);function Kb(n){const t=rM().encode(n),e=new tA;return e.update(t),new Uint8Array(e.digest())}function $b(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new rr([e,i],0),new rr([a,o],0)]}class Bm{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new mc(`Invalid padding: ${e}`);if(i<0)throw new mc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new mc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=rr.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(rr.fromNumber(i)));return a.compare(aM)===1&&(a=new rr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Kb(t),[i,a]=$b(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Bm(o,a,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=Kb(t),[i,a]=$b(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(t,e,i,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,nu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Xf(wt.min(),a,new ve(Nt),gr(),Bt())}}class nu{constructor(t,e,i,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new nu(i,e,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,e,i,a){this.be=t,this.removedTargetIds=e,this.key=i,this.De=a}}class DA{constructor(t,e){this.targetId=t,this.Ce=e}}class OA{constructor(t,e,i=Qe.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class Qb{constructor(){this.ve=0,this.Fe=Xb(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),e=Bt(),i=Bt();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:xt(38017,{changeType:o})}})),new nu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=Xb()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oM{constructor(t){this.Ge=t,this.ze=new Map,this.je=gr(),this.Je=Ph(),this.He=Ph(),this.Ye=new ve(Nt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:xt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(Xp(o))if(i===0){const c=new vt(o.path);this.et(e,c,nn.newNoDocument(c,wt.min()))}else ue(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),d=h?this.ct(h,t,c):1;if(d!==0){this.it(e);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,p)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=e;let c,h;try{c=fr(i).toUint8Array()}catch(d){if(d instanceof cA)return Mo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Bm(c,a,o)}catch(d){return Mo(d instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Xp(h.target)){const d=new vt(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,nn.newNoDocument(d,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Bt();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const a=new Xf(t,e,this.Ye,this.je,i);return this.je=gr(),this.Je=Ph(),this.He=Ph(),this.Ye=new ve(Nt),a}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Qb,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new ke(Nt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new ke(Nt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ut("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Qb),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ph(){return new ve(vt.comparator)}function Xb(){return new ve(vt.comparator)}const lM={asc:"ASCENDING",desc:"DESCENDING"},cM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uM={and:"AND",or:"OR"};class hM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function tm(n,t){return n.useProto3Json||Ff(t)?t:{value:t}}function fM(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dM(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Co(n){return ue(!!n,49232),wt.fromTimestamp((function(e){const i=hr(e);return new we(i.seconds,i.nanos)})(n))}function gM(n,t){return em(n,t).canonicalString()}function em(n,t){const e=(function(a){return new ce(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function MA(n){const t=ce.fromString(n);return ue(LA(t),10190,{key:t.toString()}),t}function bp(n,t){const e=MA(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new vt(NA(e))}function kA(n,t){return gM(n.databaseId,t)}function pM(n){const t=MA(n);return t.length===4?ce.emptyPath():NA(t)}function Wb(n){return new ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NA(n){return ue(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mM(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(p,y){return p.useProto3Json?(ue(y===void 0||typeof y=="string",58123),Qe.fromBase64String(y||"")):(ue(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Qe.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(p){const y=p.code===void 0?ct.UNKNOWN:IA(p.code);return new mt(y,p.message||"")})(c);e=new OA(i,a,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=bp(n,i.document.name),o=Co(i.document.updateTime),c=i.document.createTime?Co(i.document.createTime):wt.min(),h=new Ci({mapValue:{fields:i.document.fields}}),d=nn.newFoundDocument(a,o,c,h),p=i.targetIds||[],y=i.removedTargetIds||[];e=new rf(p,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=bp(n,i.document),o=i.readTime?Co(i.readTime):wt.min(),c=nn.newNoDocument(a,o),h=i.removedTargetIds||[];e=new rf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=bp(n,i.document),o=i.removedTargetIds||[];e=new rf([],o,a,null)}else{if(!("filter"in t))return xt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,c=new sM(a,o),h=i.targetId;e=new DA(h,c)}}return e}function yM(n,t){return{documents:[kA(n,t.path)]}}function _M(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=kA(n,a);const o=(function(p){if(p.length!==0)return VA(Vi.create(p,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:Eo(T.field),direction:TM(T.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=tm(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:e,parent:a}}function vM(n){let t=pM(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){ue(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(v){const T=PA(v);return T instanceof Vi&&mA(T)?T.getFilters():[T]})(e.where));let c=[];e.orderBy&&(c=(function(v){return v.map((T=>(function(O){return new Tf(So(O.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(T)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let T;return T=typeof v=="object"?v.value:v,Ff(T)?null:T})(e.limit));let d=null;e.startAt&&(d=(function(v){const T=!!v.before,A=v.values||[];return new bf(A,T)})(e.startAt));let p=null;return e.endAt&&(p=(function(v){const T=!v.before,A=v.values||[];return new bf(A,T)})(e.endAt)),UO(t,a,c,o,h,"F",d,p)}function bM(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function PA(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=So(e.unaryFilter.field);return Me.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=So(e.unaryFilter.field);return Me.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=So(e.unaryFilter.field);return Me.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=So(e.unaryFilter.field);return Me.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Me.create(So(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Vi.create(e.compositeFilter.filters.map((i=>PA(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xt(1026)}})(e.compositeFilter.op))})(n):xt(30097,{filter:n})}function TM(n){return lM[n]}function EM(n){return cM[n]}function SM(n){return uM[n]}function Eo(n){return{fieldPath:n.canonicalString()}}function So(n){return un.fromServerFormat(n.fieldPath)}function VA(n){return n instanceof Me?(function(e){if(e.op==="=="){if(Ub(e.value))return{unaryFilter:{field:Eo(e.field),op:"IS_NAN"}};if(Lb(e.value))return{unaryFilter:{field:Eo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Ub(e.value))return{unaryFilter:{field:Eo(e.field),op:"IS_NOT_NAN"}};if(Lb(e.value))return{unaryFilter:{field:Eo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(e.field),op:EM(e.op),value:e.value}}})(n):n instanceof Vi?(function(e){const i=e.getFilters().map((a=>VA(a)));return i.length===1?i[0]:{compositeFilter:{op:SM(e.op),filters:i}}})(n):xt(54877,{filter:n})}function LA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t,e,i,a,o=wt.min(),c=wt.min(),h=Qe.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new tr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t){this.yt=t}}function wM(n){const t=vM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.Cn=new RM}addToCollectionParentIndex(t,e){return this.Cn.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(ur.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(ur.min())}updateCollectionGroup(t,e,i){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class RM{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new ke(ce.comparator),o=!a.has(i);return this.index[e]=a.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new ke(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UA=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(UA,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Vo(0)}static cr(){return new Vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="LruGarbageCollector",CM=1048576;function tT([n,t],[e,i]){const a=Nt(n,e);return a===0?Nt(t,i):a}class IM{constructor(t){this.Ir=t,this.buffer=new ke(tT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();tT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class DM{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(Jb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ko(e)?ut(Jb,"Ignoring IndexedDB error during garbage collection: ",e):await Bf(e)}await this.Vr(3e5)}))}}class OM{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return et.resolve(Hf.ce);const i=new IM(e);return this.mr.forEachTarget(t,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(Zb)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zb):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,a,o,c,h,d,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(t,i,e)))).next((v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(p=Date.now(),bo()<=kt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v}))))}}function MM(n,t){return new OM(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.changes=new Sa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?et.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&Cc(i.mutation,a,Js.empty(),we.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Bt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Bt()){const a=la();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((o=>{let c=pc();return o.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=la();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Bt())))}populateOverlays(t,e,i){const a=[];return i.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,a){let o=gr();const c=Rc(),h=(function(){return Rc()})();return e.forEach(((d,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Qf)?o=o.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Cc(y.mutation,p,y.mutation.getFieldMask(),we.now())):c.set(p.key,Js.empty())})),this.recalculateAndSaveOverlays(t,o).next((d=>(d.forEach(((p,y)=>c.set(p,y))),e.forEach(((p,y)=>h.set(p,new NM(y,c.get(p)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Rc();let a=new ve(((c,h)=>c-h)),o=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((d=>{const p=e.get(d);if(p===null)return;let y=i.get(d)||Js.empty();y=h.applyToLocalView(p,y),i.set(d,y);const v=(a.get(h.batchId)||Bt()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=SA();y.forEach((T=>{if(!o.has(T)){const A=RA(e.get(T),i.get(T));A!==null&&v.set(T,A),o=o.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,v))}return et.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return(function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):zO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-o.size):et.resolve(la());let h=zc,d=o;return c.next((p=>et.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?et.resolve():this.remoteDocumentCache.getEntry(t,y).next((T=>{d=d.insert(y,T)}))))).next((()=>this.populateOverlays(t,p,o))).next((()=>this.computeViews(t,d,p,Bt()))).next((y=>({batchId:h,changes:qO(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new vt(e)).next((i=>{let a=pc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const o=e.collectionGroup;let c=pc();return this.indexManager.getCollectionParents(t,o).next((h=>et.forEach(h,(d=>{const p=(function(v,T){return new Gf(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,p,i,a).next((y=>{y.forEach(((v,T)=>{c=c.insert(v,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,a)))).next((c=>{o.forEach(((d,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,nn.newInvalidDocument(y)))}));let h=pc();return c.forEach(((d,p)=>{const y=o.get(d);y!==void 0&&Cc(y.mutation,p,Js.empty(),we.now()),Kf(e,p)&&(h=h.insert(d,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return et.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Co(a.createTime)}})(e)),et.resolve()}getNamedQuery(t,e){return et.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:wM(a.bundledQuery),readTime:Co(a.readTime)}})(e)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.overlays=new ve(vt.comparator),this.qr=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const i=la();return et.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,o)=>{this.St(t,e,o)})),et.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),et.resolve()}getOverlaysForCollection(t,e,i){const a=la(),o=e.length+1,c=new vt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>i&&a.set(d.getKey(),d)}return et.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let o=new ve(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>i){let y=o.get(p.largestBatchId);y===null&&(y=la(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=la(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return et.resolve(h)}St(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new iM(e,i));let o=this.qr.get(e);o===void 0&&(o=Bt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(){this.Qr=new ke(je.$r),this.Ur=new ke(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new je(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new je(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new vt(new ce([])),i=new je(e,t),a=new je(e,t+1),o=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new vt(new ce([])),i=new je(e,t),a=new je(e,t+1);let o=Bt();return this.Ur.forEachInRange([i,a],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new je(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class je{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return vt.comparator(t.key,e.key)||Nt(t.Yr,e.Yr)}static Kr(t,e){return Nt(t.Yr,e.Yr)||vt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new ke(je.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new nM(o,e,i,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new je(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return et.resolve(c)}lookupMutationBatch(t,e){return et.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.ei(i),o=a<0?0:a;return et.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?yO:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new je(e,0),a=new je(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),et.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ke(Nt);return e.forEach((a=>{const o=new je(a,0),c=new je(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),et.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let o=i;vt.isDocumentKey(o)||(o=o.child(""));const c=new je(new vt(o),0);let h=new ke(Nt);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),c),et.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const a=this.Xr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){ue(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return et.forEach(e.mutations,(a=>{const o=new je(a.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new je(e,0),a=this.Zr.firstAfterOrEqual(i);return et.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(t){this.ri=t,this.docs=(function(){return new ve(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),o=a?a.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return et.resolve(i?i.document.mutableCopy():nn.newInvalidDocument(e))}getEntries(t,e){let i=gr();return e.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():nn.newInvalidDocument(a))})),et.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let o=gr();const c=e.path,h=new vt(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||dO(fO(y),i)<=0||(a.has(y.key)||Kf(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return et.resolve(o)}getAllFromCollectionGroup(t,e,i,a){xt(9500)}ii(t,e){return et.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new BM(this)}getSize(t){return et.resolve(this.size)}}class BM extends kM{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)})),et.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t){this.persistence=t,this.si=new Sa((e=>Vm(e)),Lm),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=Vo.ur()}forEachTarget(t,e){return this.si.forEach(((i,a)=>e(a))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),et.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Vo(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.Pr(e),et.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,i){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),et.waitFor(o).next((()=>a))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return et.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),et.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((c=>{o.push(a.markPotentiallyOrphaned(t,c))})),et.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),et.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return et.resolve(i)}containsKey(t,e){return et.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t,e){this.ui={},this.overlays={},this.ci=new Hf(0),this.li=!1,this.li=!0,this.hi=new UM,this.referenceDelegate=t(this),this.Pi=new HM(this),this.indexManager=new xM,this.remoteDocumentCache=(function(a){return new jM(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new AM(e),this.Ii=new VM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new LM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new zM(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ut("MemoryPersistence","Starting transaction:",t);const a=new FM(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(t,e){return et.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class FM extends pO{constructor(t){super(),this.currentSequenceNumber=t}}class Fm{constructor(t){this.persistence=t,this.Ri=new Hm,this.Vi=null}static mi(t){return new Fm(t)}get fi(){if(this.Vi)return this.Vi;throw xt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),et.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),et.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(i=>{const a=vt.fromPath(i);return this.gi(t,a).next((o=>{o||e.removeEntry(a,wt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return et.or([()=>et.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Af{constructor(t,e){this.persistence=t,this.pi=new Sa((i=>_O(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=MM(this,e)}static mi(t,e){return new Af(t,e)}Ei(){}di(t){return et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return et.forEach(this.pi,((i,a)=>this.br(t,i,a).next((o=>o?et.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,wt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),et.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),et.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),et.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=nf(t.data.value)),e}br(t,e,i){return et.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return et.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=a}static As(t,e){let i=Bt(),a=Bt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new qm(t,e.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Qx()?8:mO(rn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,a,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new qM;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,a){return i.documentReadCount<this.fs?(bo()<=kt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",To(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(bo()<=kt.DEBUG&&ut("QueryEngine","Query:",To(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(bo()<=kt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",To(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(e))):et.resolve())}ys(t,e){if(Hb(e))return et.resolve(null);let i=Mi(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Wp(e,null,"F"),i=Mi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Bt(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((d=>{const p=this.Ds(e,h);return this.Cs(e,p,c,d.readTime)?this.ys(t,Wp(e,null,"F")):this.vs(t,p,e,d)}))))})))))}ws(t,e,i,a){return Hb(e)||a.isEqual(wt.min())?et.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,a)?et.resolve(null):(bo()<=kt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),To(e)),this.vs(t,c,e,hO(a,zc)).next((h=>h)))}))}Ds(t,e){let i=new ke(TA(t));return e.forEach(((a,o)=>{Kf(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(t,e,i){return bo()<=kt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",To(e)),this.ps.getDocumentsMatchingQuery(t,e,ur.min(),i)}vs(t,e,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="LocalStore",YM=3e8;class KM{constructor(t,e,i,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new ve(Nt),this.xs=new Sa((o=>Vm(o)),Lm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new PM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function $M(n,t,e,i){return new KM(n,t,e,i)}async function jA(n,t){const e=jt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let d=Bt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of o){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return e.localDocuments.getDocuments(i,d).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function BA(n){const t=jt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function QM(n,t){const e=jt(n),i=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const h=[];t.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;h.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,v).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,v))));let A=T.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?A=A.withResumeToken(Qe.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),a=a.insert(v,A),(function(D,R,B){return D.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=YM?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(T,A,y)&&h.push(e.Pi.updateTargetData(o,A))}));let d=gr(),p=Bt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(XM(o,c,t.documentUpdates).next((y=>{d=y.ks,p=y.qs}))),!i.isEqual(wt.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((v=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return et.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(e.Ms=a,o)))}function XM(n,t,e){let i=Bt(),a=Bt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=gr();return e.forEach(((h,d)=>{const p=o.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(wt.min())?(t.removeEntry(h,d.readTime),c=c.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d),c=c.insert(h,d)):ut(Gm,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:c,qs:a}}))}function WM(n,t){const e=jt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.Pi.getTargetData(i,t).next((o=>o?(a=o,et.resolve(a)):e.Pi.allocateTargetId(i).next((c=>(a=new tr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function nm(n,t,e){const i=jt(n),a=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Ko(c))throw c;ut(Gm,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function eT(n,t,e){const i=jt(n);let a=wt.min(),o=Bt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,p,y){const v=jt(d),T=v.xs.get(y);return T!==void 0?et.resolve(v.Ms.get(T)):v.Pi.getTargetData(p,y)})(i,c,Mi(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((d=>{o=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?a:wt.min(),e?o:Bt()))).next((h=>(ZM(i,BO(t),h),{documents:h,Qs:o})))))}function ZM(n,t,e){let i=n.Os.get(t)||wt.min();e.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class nT{constructor(){this.activeTargetIds=KO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JM{constructor(){this.Mo=new nT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new nT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="ConnectivityMonitor";class sT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(iT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(iT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh=null;function im(){return Vh===null?Vh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vh++,"0x"+Vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="RestConnection",ek={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nk{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===vf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,e,i,a,o){const c=im(),h=this.zo(t,e.toUriEncodedString());ut(Tp,`Sending RPC '${t}' ${c}:`,h,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:p}=new URL(h),y=Ho(p);return this.Jo(t,h,d,i,y).then((v=>(ut(Tp,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw Mo(Tp,`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(t,e,i,a,o,c){return this.Go(t,e,i,a,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),i&&i.headers.forEach(((a,o)=>t[o]=a))}zo(t,e){const i=ek[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class sk extends nk{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,a,o){const c=im();return new Promise(((h,d)=>{const p=new eA;p.setWithCredentials(!0),p.listenOnce(nA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case ef.NO_ERROR:const v=p.getResponseJson();ut(Je,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),h(v);break;case ef.TIMEOUT:ut(Je,`RPC '${t}' ${c} timed out`),d(new mt(ct.DEADLINE_EXCEEDED,"Request time out"));break;case ef.HTTP_ERROR:const T=p.getStatus();if(ut(Je,`RPC '${t}' ${c} failed with status:`,T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A?.error;if(O&&O.status&&O.message){const D=(function(B){const X=B.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(X)>=0?X:ct.UNKNOWN})(O.status);d(new mt(D,O.message))}else d(new mt(ct.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new mt(ct.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ut(Je,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ut(Je,`RPC '${t}' ${c} sending request:`,a),p.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=im(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=rA(),h=sA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const y=o.join("");ut(Je,`Creating RPC '${t}' stream ${a}: ${y}`,d);const v=c.createWebChannel(y,d);this.I_(v);let T=!1,A=!1;const O=new ik({Yo:R=>{A?ut(Je,`Not sending because RPC '${t}' stream ${a} is closed:`,R):(T||(ut(Je,`Opening RPC '${t}' stream ${a} transport.`),v.open(),T=!0),ut(Je,`RPC '${t}' stream ${a} sending:`,R),v.send(R))},Zo:()=>v.close()}),D=(R,B,X)=>{R.listen(B,(J=>{try{X(J)}catch(st){setTimeout((()=>{throw st}),0)}}))};return D(v,gc.EventType.OPEN,(()=>{A||(ut(Je,`RPC '${t}' stream ${a} transport opened.`),O.o_())})),D(v,gc.EventType.CLOSE,(()=>{A||(A=!0,ut(Je,`RPC '${t}' stream ${a} transport closed`),O.a_(),this.E_(v))})),D(v,gc.EventType.ERROR,(R=>{A||(A=!0,Mo(Je,`RPC '${t}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),O.a_(new mt(ct.UNAVAILABLE,"The operation could not be completed")))})),D(v,gc.EventType.MESSAGE,(R=>{if(!A){const B=R.data[0];ue(!!B,16349);const X=B,J=X?.error||X[0]?.error;if(J){ut(Je,`RPC '${t}' stream ${a} received error:`,J);const st=J.status;let G=(function(w){const I=Ae[w];if(I!==void 0)return IA(I)})(st),it=J.message;G===void 0&&(G=ct.INTERNAL,it="Unknown error status: "+st+" with message "+J.message),A=!0,O.a_(new mt(G,it)),v.close()}else ut(Je,`RPC '${t}' stream ${a} received:`,B),O.u_(B)}})),D(h,iA.STAT_EVENT,(R=>{R.stat===Hp.PROXY?ut(Je,`RPC '${t}' stream ${a} detected buffering proxy`):R.stat===Hp.NOPROXY&&ut(Je,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(n){return new hM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(t,e,i=1e3,a=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&ut("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="PersistentStream";class rk{constructor(t,e,i,a,o,c,h,d){this.Mi=t,this.S_=i,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ct.RESOURCE_EXHAUSTED?(ys(e.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new mt(ct.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(rT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ut(rT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ak extends rk{constructor(t,e,i,a,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=mM(this.serializer,t),i=(function(o){if(!("targetChange"in o))return wt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?Co(c.readTime):wt.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Wb(this.serializer),e.addTarget=(function(o,c){let h;const d=c.target;if(h=Xp(d)?{documents:yM(o,d)}:{query:_M(o,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=dM(o,c.resumeToken);const p=tm(o,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(wt.min())>0){h.readTime=fM(o,c.snapshotVersion.toTimestamp());const p=tm(o,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,t);const i=bM(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Wb(this.serializer),e.removeTarget=t,this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{}class lk extends ok{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new mt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,em(e,i),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new mt(ct.UNKNOWN,o.toString())}))}Ho(t,e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,em(e,i),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(ct.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ck{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(e),this.aa=!1):ut("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="RemoteStore";class uk{constructor(t,e,i,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{su(this)&&(ut(Lo,"Restarting streams for network reachability change."),await(async function(d){const p=jt(d);p.Ea.add(4),await iu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Wf(p)})(this))}))})),this.Ra=new ck(i,a)}}async function Wf(n){if(su(n))for(const t of n.da)await t(!0)}async function iu(n){for(const t of n.da)await t(!1)}function qA(n,t){const e=jt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Qm(e)?$m(e):$o(e).O_()&&Km(e,t))}function Ym(n,t){const e=jt(n),i=$o(e);e.Ia.delete(t),i.O_()&&GA(e,t),e.Ia.size===0&&(i.O_()?i.L_():su(e)&&e.Ra.set("Unknown"))}function Km(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}$o(n).Y_(t)}function GA(n,t){n.Va.Ue(t),$o(n).Z_(t)}function $m(n){n.Va=new oM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),$o(n).start(),n.Ra.ua()}function Qm(n){return su(n)&&!$o(n).x_()&&n.Ia.size>0}function su(n){return jt(n).Ea.size===0}function YA(n){n.Va=void 0}async function hk(n){n.Ra.set("Online")}async function fk(n){n.Ia.forEach(((t,e)=>{Km(n,t)}))}async function dk(n,t){YA(n),Qm(n)?(n.Ra.ha(t),$m(n)):n.Ra.set("Unknown")}async function gk(n,t,e){if(n.Ra.set("Online"),t instanceof OA&&t.state===2&&t.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,t)}catch(i){ut(Lo,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await aT(n,i)}else if(t instanceof rf?n.Va.Ze(t):t instanceof DA?n.Va.st(t):n.Va.tt(t),!e.isEqual(wt.min()))try{const i=await BA(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ia.get(p);y&&o.Ia.set(p,y.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,p)=>{const y=o.Ia.get(d);if(!y)return;o.Ia.set(d,y.withResumeToken(Qe.EMPTY_BYTE_STRING,y.snapshotVersion)),GA(o,d);const v=new tr(y.target,d,p,y.sequenceNumber);Km(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ut(Lo,"Failed to raise snapshot:",i),await aT(n,i)}}async function aT(n,t,e){if(!Ko(t))throw t;n.Ea.add(1),await iu(n),n.Ra.set("Offline"),e||(e=()=>BA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ut(Lo,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Wf(n)}))}async function oT(n,t){const e=jt(n);e.asyncQueue.verifyOperationInProgress(),ut(Lo,"RemoteStore received new credentials");const i=su(e);e.Ea.add(3),await iu(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Wf(e)}async function pk(n,t){const e=jt(n);t?(e.Ea.delete(2),await Wf(e)):t||(e.Ea.add(2),await iu(e),e.Ra.set("Unknown"))}function $o(n){return n.ma||(n.ma=(function(e,i,a){const o=jt(e);return o.sa(),new ak(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:hk.bind(null,n),t_:fk.bind(null,n),r_:dk.bind(null,n),H_:gk.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Qm(n)?$m(n):n.Ra.set("Unknown")):(await n.ma.stop(),YA(n))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,e,i,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,o){const c=Date.now()+i,h=new Xm(t,e,c,a,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function KA(n,t){if(ys("AsyncQueue",`${t}: ${n}`),Ko(n))return new mt(ct.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{static emptySet(t){return new Io(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||vt.comparator(e.key,i.key):(e,i)=>vt.comparator(e.key,i.key),this.keyedMap=pc(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Io)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Io;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.ga=new ve(vt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):xt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Uo{constructor(t,e,i,a,o,c,h,d,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(t,e,i,a,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new Uo(t,e,Io.emptySet(e),c,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Yf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class yk{constructor(){this.queries=cT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=jt(e),o=a.queries;a.queries=cT(),o.forEach(((c,h)=>{for(const d of h.Sa)d.onError(i)}))})(this,new mt(ct.ABORTED,"Firestore shutting down"))}}function cT(){return new Sa((n=>bA(n)),Yf)}async function _k(n,t){const e=jt(n);let i=3;const a=t.query;let o=e.queries.get(a);o?!o.ba()&&t.Da()&&(i=2):(o=new mk,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const h=KA(c,`Initialization of query '${To(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&Wm(e)}async function vk(n,t){const e=jt(n),i=t.query;let a=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=t.Da()?0:1:!o.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function bk(n,t){const e=jt(n);let i=!1;for(const a of t){const o=a.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(i=!0);c.wa=a}}i&&Wm(e)}function Tk(n,t,e){const i=jt(n),a=i.queries.get(t);if(a)for(const o of a.Sa)o.onError(e);i.queries.delete(t)}function Wm(n){n.Ca.forEach((t=>{t.next()}))}var sm,uT;(uT=sm||(sm={})).Ma="default",uT.Cache="cache";class Ek{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Uo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(t){this.key=t}}class QA{constructor(t){this.key=t}}class Sk{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=TA(t),this.tu=new Io(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new lT,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const T=a.get(y),A=Kf(this.query,v)?v:null,O=!!T&&this.mutatedKeys.has(T.key),D=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let R=!1;T&&A?T.data.isEqual(A.data)?O!==D&&(i.track({type:3,doc:A}),R=!0):this.su(T,A)||(i.track({type:2,doc:A}),R=!0,(d&&this.eu(A,d)>0||p&&this.eu(A,p)<0)&&(h=!0)):!T&&A?(i.track({type:0,doc:A}),R=!0):T&&!A&&(i.track({type:1,doc:T}),R=!0,(d||p)&&(h=!0)),R&&(A?(c=c.add(A),o=D?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(A,O){const D=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Rt:R})}};return D(A)-D(O)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,c.length!==0||p?{snapshot:new Uo(this.query,t.tu,o,c,t.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Bt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new QA(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new $A(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Bt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zm="SyncEngine";class Ak{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class wk{constructor(t){this.key=t,this.hu=!1}}class xk{constructor(t,e,i,a,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Sa((h=>bA(h)),Yf),this.Iu=new Map,this.Eu=new Set,this.du=new ve(vt.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=Vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Rk(n,t,e=!0){const i=t1(n);let a;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await XA(i,t,e,!0),a}async function Ck(n,t){const e=t1(n);await XA(e,t,!0,!1)}async function XA(n,t,e,i){const a=await WM(n.localStore,Mi(t)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await Ik(n,t,o,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&qA(n.remoteStore,a),h}async function Ik(n,t,e,i,a){n.pu=(v,T,A)=>(async function(D,R,B,X){let J=R.view.ru(B);J.Cs&&(J=await eT(D.localStore,R.query,!1).then((({documents:C})=>R.view.ru(C,J))));const st=X&&X.targetChanges.get(R.targetId),G=X&&X.targetMismatches.get(R.targetId)!=null,it=R.view.applyChanges(J,D.isPrimaryClient,st,G);return fT(D,R.targetId,it.au),it.snapshot})(n,v,T,A);const o=await eT(n.localStore,t,!0),c=new Sk(t,o.Qs),h=c.ru(o.documents),d=nu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),p=c.applyChanges(h,n.isPrimaryClient,d);fT(n,e,p.au);const y=new Ak(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),p.snapshot}async function Dk(n,t,e){const i=jt(n),a=i.Tu.get(t),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((c=>!Yf(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await nm(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&Ym(i.remoteStore,a.targetId),rm(i,a.targetId)})).catch(Bf)):(rm(i,a.targetId),await nm(i.localStore,a.targetId,!0))}async function Ok(n,t){const e=jt(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Ym(e.remoteStore,i.targetId))}async function WA(n,t){const e=jt(n);try{const i=await QM(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const c=e.Au.get(o);c&&(ue(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ue(c.hu,14607):a.removedDocuments.size>0&&(ue(c.hu,42227),c.hu=!1))})),await JA(e,i,t)}catch(i){await Bf(i)}}function hT(n,t,e){const i=jt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=jt(c);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const T of v.Sa)T.va(h)&&(p=!0)})),p&&Wm(d)})(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Mk(n,t,e){const i=jt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),o=a&&a.key;if(o){let c=new ve(vt.comparator);c=c.insert(o,nn.newNoDocument(o,wt.min()));const h=Bt().add(o),d=new Xf(wt.min(),new Map,new ve(Nt),c,h);await WA(i,d),i.du=i.du.remove(o),i.Au.delete(t),Jm(i)}else await nm(i.localStore,t,!1).then((()=>rm(i,t,e))).catch(Bf)}function rm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||ZA(n,i)}))}function ZA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Ym(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Jm(n))}function fT(n,t,e){for(const i of e)i instanceof $A?(n.Ru.addReference(i.key,t),kk(n,i)):i instanceof QA?(ut(Zm,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||ZA(n,i.key)):xt(19791,{wu:i})}function kk(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ut(Zm,"New document in limbo: "+e),n.Eu.add(i),Jm(n))}function Jm(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new vt(ce.fromString(t)),i=n.fu.next();n.Au.set(i,new wk(e)),n.du=n.du.insert(e,i),qA(n.remoteStore,new tr(Mi(Um(e.path)),i,"TargetPurposeLimboResolution",Hf.ce))}}async function JA(n,t,e){const i=jt(n),a=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{c.push(i.pu(d,t,e).then((p=>{if((p||e)&&i.isPrimaryClient){const y=p?!p.fromCache:e?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=qm.As(d.targetId,p);o.push(y)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(d,p){const y=jt(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>et.forEach(p,(T=>et.forEach(T.Es,(A=>y.persistence.referenceDelegate.addReference(v,T.targetId,A))).next((()=>et.forEach(T.ds,(A=>y.persistence.referenceDelegate.removeReference(v,T.targetId,A)))))))))}catch(v){if(!Ko(v))throw v;ut(Gm,"Failed to update sequence numbers: "+v)}for(const v of p){const T=v.targetId;if(!v.fromCache){const A=y.Ms.get(T),O=A.snapshotVersion,D=A.withLastLimboFreeSnapshotVersion(O);y.Ms=y.Ms.insert(T,D)}}})(i.localStore,o))}async function Nk(n,t){const e=jt(n);if(!e.currentUser.isEqual(t)){ut(Zm,"User change. New user:",t.toKey());const i=await jA(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new mt(ct.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await JA(e,i.Ls)}}function Pk(n,t){const e=jt(n),i=e.Au.get(t);if(i&&i.hu)return Bt().add(i.key);{let a=Bt();const o=e.Iu.get(t);if(!o)return a;for(const c of o){const h=e.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function t1(n){const t=jt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=WA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Mk.bind(null,t),t.Pu.H_=bk.bind(null,t.eventManager),t.Pu.yu=Tk.bind(null,t.eventManager),t}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=HA(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return $M(this.persistence,new GM,t.initialUser,this.serializer)}Cu(t){return new zA(Fm.mi,this.serializer)}Du(t){return new JM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class Vk extends wf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ue(this.persistence.referenceDelegate instanceof Af,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new DM(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new zA((i=>Af.mi(i,e)),this.serializer)}}class am{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nk.bind(null,this.syncEngine),await pk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new yk})()}createDatastore(t){const e=HA(t.databaseInfo.databaseId),i=(function(o){return new sk(o)})(t.databaseInfo);return(function(o,c,h,d){return new lk(o,c,h,d)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,o,c,h){return new uk(i,a,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>hT(this.syncEngine,e,0)),(function(){return sT.v()?new sT:new tk})())}createSyncEngine(t,e){return(function(a,o,c,h,d,p,y){const v=new xk(a,o,c,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=jt(e);ut(Lo,"RemoteStore shutting down."),i.Ea.add(5),await iu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ys("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="FirestoreClient";class Uk{constructor(t,e,i,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=en.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ut(pr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ut(pr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=KA(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Sp(n,t){n.asyncQueue.verifyOperationInProgress(),ut(pr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await jA(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function dT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await zk(n);ut(pr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>oT(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>oT(t.remoteStore,a))),n._onlineComponents=t}async function zk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ut(pr,"Using user provided OfflineComponentProvider");try{await Sp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===ct.FAILED_PRECONDITION||a.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Mo("Error using user provided cache. Falling back to memory cache: "+e),await Sp(n,new wf)}}else ut(pr,"Using default OfflineComponentProvider"),await Sp(n,new Vk(void 0));return n._offlineComponents}async function jk(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ut(pr,"Using user provided OnlineComponentProvider"),await dT(n,n._uninitializedComponentsProvider._online)):(ut(pr,"Using default OnlineComponentProvider"),await dT(n,new am))),n._onlineComponents}async function Bk(n){const t=await jk(n),e=t.eventManager;return e.onListen=Rk.bind(null,t.syncEngine),e.onUnlisten=Dk.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Ck.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Ok.bind(null,t.syncEngine),e}function Hk(n,t,e={}){const i=new ha;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,p){const y=new Lk({next:T=>{y.Nu(),c.enqueueAndForget((()=>vk(o,v)));const A=T.docs.has(h);!A&&T.fromCache?p.reject(new mt(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&d&&d.source==="server"?p.reject(new mt(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new Ek(Um(h.path),y,{includeMetadataChanges:!0,qa:!0});return _k(o,v)})(await Bk(n),n.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firestore.googleapis.com",pT=!0;class mT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=n1,this.ssl=pT}else this.host=t.host,this.ssl=t.ssl??pT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<CM)throw new mt(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e1(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new mt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new mt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new mt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ty{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new WD;switch(i.type){case"firstParty":return new eO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new mt(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=gT.get(e);i&&(ut("ComponentProvider","Removing Datastore"),gT.delete(e),i.terminate())})(this),Promise.resolve()}}function Fk(n,t,e,i={}){n=qp(n,ty);const a=Ho(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(BE(`https://${h}`),HE("Firestore",!0)),o.host!==n1&&o.host!==h&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:i};if(!cr(d,c)&&(n._setSettings(d),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=en.MOCK_USER;else{p=Bx(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new mt(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new en(v)}n._authCredentials=new ZD(new oA(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ey(this.firestore,t,this._query)}}class hn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hn(this.firestore,t,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(tu(e,hn._jsonSchema))return new hn(t,i||null,new vt(ce.fromString(e.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:xe("string",hn._jsonSchemaVersion),referencePath:xe("string")};class Fc extends ey{constructor(t,e,i){super(t,e,Um(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hn(this.firestore,null,new vt(t))}withConverter(t){return new Fc(this.firestore,t,this._path)}}function qk(n,t,...e){if(n=In(n),arguments.length===1&&(t=km.newId()),oO("doc","path",t),n instanceof ty){const i=ce.fromString(t,...e);return Ib(i),new hn(n,null,new vt(i))}{if(!(n instanceof hn||n instanceof Fc))throw new mt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ce.fromString(t,...e));return Ib(i),new hn(n.firestore,n instanceof Fc?n.converter:null,new vt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="AsyncQueue";class _T{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FA(this,"async_queue_retry"),this._c=()=>{const i=Ep();i&&ut(yT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Ep();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Ep();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ha;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ko(t))throw t;ut(yT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",vT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=Xm.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&xt(47125,{Pc:vT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function vT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class i1 extends ty{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new _T,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new _T(t),this._firestoreClient=void 0,await t}}}function Gk(n,t){const e=typeof n=="object"?n:_m(),i=typeof n=="string"?n:vf,a=Ta(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=zx("firestore");o&&Fk(a,...o)}return a}function Yk(n){if(n._terminated)throw new mt(ct.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Kk(n),n._firestoreClient}function Kk(n){const t=n._freezeSettings(),e=(function(a,o,c,h){return new EO(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,e1(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Uk(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ii(Qe.fromBase64String(t))}catch(e){throw new mt(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ii(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(tu(t,Ii._jsonSchema))return Ii.fromBase64String(t.bytes)}}Ii._jsonSchemaVersion="firestore/bytes/1.0",Ii._jsonSchema={type:xe("string",Ii._jsonSchemaVersion),bytes:xe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ar._jsonSchemaVersion}}static fromJSON(t){if(tu(t,ar._jsonSchema))return new ar(t.latitude,t.longitude)}}ar._jsonSchemaVersion="firestore/geoPoint/1.0",ar._jsonSchema={type:xe("string",ar._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(tu(t,or._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new or(t.vectorValues);throw new mt(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}or._jsonSchemaVersion="firestore/vectorValue/1.0",or._jsonSchema={type:xe("string",or._jsonSchemaVersion),vectorValues:xe("object")};const $k=new RegExp("[~\\*/\\[\\]]");function Qk(n,t,e){if(t.search($k)>=0)throw bT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new s1(...t.split("."))._internalPath}catch{throw bT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function bT(n,t,e,i,a){let o=`Function ${t}() called with invalid data`;o+=". ";let c="";return new mt(ct.INVALID_ARGUMENT,o+n+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,e,i,a,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Xk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(a1("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Xk extends r1{data(){return super.data()}}function a1(n,t){return typeof t=="string"?Qk(n,t):t instanceof s1?t._internalPath:t._delegate._internalPath}class Wk{convertValue(t,e="none"){switch(dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw xt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return eu(t,((a,o)=>{i[a]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Yp].arrayValue?.values?.map((i=>ye(i.doubleValue)));return new or(e)}convertGeoPoint(t){return new ar(ye(t.latitude),ye(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=qf(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(jc(t));default:return null}}convertTimestamp(t){const e=hr(t);return new we(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ce.fromString(t);ue(LA(i),9688,{name:t});const a=new Bc(i.get(1),i.get(3)),o=new vt(i.popFirst(5));return a.isEqual(e)||ys(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}class yc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class da extends r1{constructor(t,e,i,a,o,c){super(t,e,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(a1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=da._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:xe("string",da._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class af extends da{data(t={}){return super.data(t)}}class Ic{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new yc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new af(this._firestore,this._userDataWriter,i.key,i,new yc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new af(a._firestore,a._userDataWriter,h.doc.key,h.doc,new yc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new af(a._firestore,a._userDataWriter,h.doc.key,h.doc,new yc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:Zk(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ic._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Zk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(n){n=qp(n,hn);const t=qp(n.firestore,i1);return Hk(Yk(t),n._key).then((e=>eN(t,n,e)))}Ic._jsonSchemaVersion="firestore/querySnapshot/1.0",Ic._jsonSchema={type:xe("string",Ic._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};class tN extends Wk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ii(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new hn(this.firestore,null,e)}}function eN(n,t,e){const i=e.docs.get(t._key),a=new tN(n);return new da(n,a,t._key,i,new yc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){Yo=a})(Fo),Ni(new si("firestore",((i,{instanceIdentifier:a,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new i1(new JD(i.getProvider("auth-internal")),new nO(c,i.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new mt(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bc(p.options.projectId,y)})(c,a),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Yn(wb,xb,t),Yn(wb,xb,"esm2020")})();const nN={apiKey:"AIzaSyDvPEFl-8w6THiJbDb5UcE0shyDBLn681A",authDomain:"lume-cume.firebaseapp.com",projectId:"lume-cume",storageBucket:"lume-cume.firebasestorage.app",messagingSenderId:"477762360156",appId:"1:477762360156:web:8de131e1fb61f626ef6799",measurementId:"G-EXHE73P53E"},ny=QE(nN);KD(ny);const Dc=OS(ny),iN=Gk(ny),ru=()=>{const[n,t]=pt.useState(null),[e,i]=pt.useState(null);return pt.useEffect(()=>{let o=!0;return(async()=>{try{console.log("useAuthenticatedFetch: Verificando usurio autenticado...");const h=Dc.currentUser;if(h){const d=await CC(h);o&&(console.log("useAuthenticatedFetch: Token obtido:",d),t(d),i(null))}else o&&(console.log("useAuthenticatedFetch: Nenhum usurio autenticado."),t(null),i(null))}catch(h){o&&(console.error("useAuthenticatedFetch: Erro ao obter token:",h),i(h.message),t(null))}})(),()=>{o=!1,console.log("useAuthenticatedFetch: Cleanup executado.")}},[Dc.currentUser]),{authenticatedFetch:async(o,c={})=>{if(!n)throw new Error("Nenhum token disponvel para autenticao.");const h={...c.headers,Authorization:`Bearer ${n}`},d=await fetch(o,{...c,headers:h});if(!d.ok)throw new Error(`Erro HTTP: ${d.status}`);return d},token:n,error:e}},o1=pt.createContext(),Qo=()=>pt.useContext(o1),l1=({children:n})=>{const[t,e]=pt.useState(null),[i,a]=pt.useState(null),[o,c]=pt.useState(!0);pt.useEffect(()=>{const y=mI(Dc,async v=>{if(console.log("onAuthStateChanged: Status de login mudou. Usurio atual:",v),v){console.log("Usurio logado encontrado. UID:",v.uid);const T=qk(iN,"users",v.uid),A=await Jk(T);if(console.log("Resultado da busca no Firestore:",A.exists()),A.exists()){const O=A.data();console.log("Documento do usurio encontrado. Role:",O.role),e(v),a(O.role)}else console.log("Documento do usurio NO encontrado no Firestore.")}else console.log("Nenhum usurio logado."),e(null),a(null);c(!1)});return()=>y()},[]);const p={user:t,role:i,loading:o,login:async(y,v)=>{try{return await dI(Dc,y,v)}catch(T){throw console.error("Erro no login:",T),T}},logout:()=>{yI(Dc),e(null),a(null)}};return z.jsx(o1.Provider,{value:p,children:!o&&n})},TT="https://backend-api-93214421532.southamerica-east1.run.app/api";function sN({role:n}){const[t,e]=pt.useState([]),[i,a]=pt.useState([]),[o,c]=pt.useState(!0),[h,d]=pt.useState(""),[p,y]=pt.useState(""),{authenticatedFetch:v,token:T}=ru(),{user:A}=Qo(),O=()=>{c(!0);let R=`${TT}/vendas?`;h&&(R+=`sellerId=${h}&`),p&&(R+=`date=${p}&`),A&&T&&v(R,{cache:"no-cache"}).then(B=>B.json()).then(B=>{e(B),c(!1)}).catch(B=>{console.error("Erro ao buscar histrico de vendas:",B),c(!1)})},D=()=>{A&&T&&n==="admin"&&v(`${TT}/users`).then(R=>R.json()).then(R=>a(R)).catch(R=>console.error("Erro ao buscar usurios:",R))};return pt.useEffect(()=>{O(),D()},[A,T,h,p]),o||!T?z.jsx("div",{children:"Carregando histrico..."}):t.status==="erro"?z.jsx("div",{children:"No foi possvel carregar as vendas."}):z.jsxs("div",{className:"history-view",children:[z.jsx("h2",{children:"Histrico de Vendas"}),z.jsxs("div",{className:"filter-controls",children:[z.jsxs("select",{value:h,onChange:R=>d(R.target.value),children:[z.jsx("option",{value:"",children:"Todos os Vendedores"}),i.map(R=>z.jsx("option",{value:R.uid,children:R.nome||R.email},R.uid))]}),z.jsx("input",{type:"date",value:p,onChange:R=>y(R.target.value)}),z.jsx("button",{onClick:()=>{d(""),y("")},children:"Limpar Filtros"})]}),t.length===0?z.jsx("p",{children:"Nenhuma venda registrada ainda."}):z.jsx("div",{className:"sales-list",children:t.map(R=>z.jsxs("div",{className:"sale-card",children:[z.jsxs("div",{className:"sale-header",children:[z.jsx("strong",{children:"Data:"})," ",new Date(R.dataVenda).toLocaleString("pt-BR")," ",z.jsx("br",{}),z.jsx("strong",{children:"Vendedor:"})," ",R.vendedorNome||"N/A"]}),z.jsxs("div",{className:"sale-body",children:[z.jsx("strong",{children:"Itens:"}),z.jsx("ul",{children:R.itens.map(B=>z.jsxs("li",{children:[B.quantidade,"x ",B.nomeProduto," - R$ ",B.precoUnitarioVenda.toFixed(2)]},B.produtoId))}),z.jsxs("div",{className:"payment-details",children:[z.jsx("strong",{children:"Pagamento:"})," ",R.pagamento.metodo,R.pagamento.metodo==="Crdito"&&z.jsxs("span",{children:[" - ",R.pagamento.tipoCredito==="avista"?" vista":`Parcelado em ${R.pagamento.parcelas}x`]})]})]}),z.jsx("div",{className:"sale-footer",children:z.jsxs("strong",{children:["Total: R$ ",R.valorTotal.toFixed(2)]})})]},R.id))})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function au(n){return n+.5|0}const er=(n,t,e)=>Math.max(Math.min(n,e),t);function _c(n){return er(au(n*2.55),0,255)}function lr(n){return er(au(n*255),0,255)}function fs(n){return er(au(n/2.55)/100,0,1)}function ET(n){return er(au(n*100),0,100)}const Fn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},om=[..."0123456789ABCDEF"],rN=n=>om[n&15],aN=n=>om[(n&240)>>4]+om[n&15],Lh=n=>(n&240)>>4===(n&15),oN=n=>Lh(n.r)&&Lh(n.g)&&Lh(n.b)&&Lh(n.a);function lN(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Fn[n[1]]*17,g:255&Fn[n[2]]*17,b:255&Fn[n[3]]*17,a:t===5?Fn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Fn[n[1]]<<4|Fn[n[2]],g:Fn[n[3]]<<4|Fn[n[4]],b:Fn[n[5]]<<4|Fn[n[6]],a:t===9?Fn[n[7]]<<4|Fn[n[8]]:255})),e}const cN=(n,t)=>n<255?t(n):"";function uN(n){var t=oN(n)?rN:aN;return n?"#"+t(n.r)+t(n.g)+t(n.b)+cN(n.a,t):void 0}const hN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function c1(n,t,e){const i=t*Math.min(e,1-e),a=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function fN(n,t,e){const i=(a,o=(a+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function dN(n,t,e){const i=c1(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)i[a]*=1-t-e,i[a]+=t;return i}function gN(n,t,e,i,a){return n===a?(t-e)/i+(t<e?6:0):t===a?(e-n)/i+2:(n-t)/i+4}function iy(n){const e=n.r/255,i=n.g/255,a=n.b/255,o=Math.max(e,i,a),c=Math.min(e,i,a),h=(o+c)/2;let d,p,y;return o!==c&&(y=o-c,p=h>.5?y/(2-o-c):y/(o+c),d=gN(e,i,a,y,o),d=d*60+.5),[d|0,p||0,h]}function sy(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(lr)}function ry(n,t,e){return sy(c1,n,t,e)}function pN(n,t,e){return sy(dN,n,t,e)}function mN(n,t,e){return sy(fN,n,t,e)}function u1(n){return(n%360+360)%360}function yN(n){const t=hN.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?_c(+t[5]):lr(+t[5]));const a=u1(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=pN(a,o,c):t[1]==="hsv"?i=mN(a,o,c):i=ry(a,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function _N(n,t){var e=iy(n);e[0]=u1(e[0]+t),e=ry(e),n.r=e[0],n.g=e[1],n.b=e[2]}function vN(n){if(!n)return;const t=iy(n),e=t[0],i=ET(t[1]),a=ET(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${a}%, ${fs(n.a)})`:`hsl(${e}, ${i}%, ${a}%)`}const ST={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},AT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function bN(){const n={},t=Object.keys(AT),e=Object.keys(ST);let i,a,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],a=0;a<e.length;a++)o=e[a],h=h.replace(o,ST[o]);o=parseInt(AT[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Uh;function TN(n){Uh||(Uh=bN(),Uh.transparent=[0,0,0,0]);const t=Uh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const EN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function SN(n){const t=EN.exec(n);let e=255,i,a,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?_c(c):er(c*255,0,255)}return i=+t[1],a=+t[3],o=+t[5],i=255&(t[2]?_c(i):er(i,0,255)),a=255&(t[4]?_c(a):er(a,0,255)),o=255&(t[6]?_c(o):er(o,0,255)),{r:i,g:a,b:o,a:e}}}function AN(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${fs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Ap=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,vo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function wN(n,t,e){const i=vo(fs(n.r)),a=vo(fs(n.g)),o=vo(fs(n.b));return{r:lr(Ap(i+e*(vo(fs(t.r))-i))),g:lr(Ap(a+e*(vo(fs(t.g))-a))),b:lr(Ap(o+e*(vo(fs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function zh(n,t,e){if(n){let i=iy(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=ry(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function h1(n,t){return n&&Object.assign(t||{},n)}function wT(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=lr(n[3]))):(t=h1(n,{r:0,g:0,b:0,a:1}),t.a=lr(t.a)),t}function xN(n){return n.charAt(0)==="r"?SN(n):yN(n)}class qc{constructor(t){if(t instanceof qc)return t;const e=typeof t;let i;e==="object"?i=wT(t):e==="string"&&(i=lN(t)||TN(t)||xN(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=h1(this._rgb);return t&&(t.a=fs(t.a)),t}set rgb(t){this._rgb=wT(t)}rgbString(){return this._valid?AN(this._rgb):void 0}hexString(){return this._valid?uN(this._rgb):void 0}hslString(){return this._valid?vN(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,a=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,d=i.a-a.a,p=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-p,i.r=255&p*i.r+o*a.r+.5,i.g=255&p*i.g+o*a.g+.5,i.b=255&p*i.b+o*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=wN(this._rgb,t._rgb,e)),this}clone(){return new qc(this.rgb)}alpha(t){return this._rgb.a=lr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=au(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return zh(this._rgb,2,t),this}darken(t){return zh(this._rgb,2,-t),this}saturate(t){return zh(this._rgb,1,t),this}desaturate(t){return zh(this._rgb,1,-t),this}rotate(t){return _N(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function cs(){}const RN=(()=>{let n=0;return()=>n++})();function se(n){return n==null}function Be(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Kn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ai(n,t){return Kn(n)?n:t}function zt(n,t){return typeof n>"u"?t:n}const CN=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function re(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Qt(n,t,e,i){let a,o,c;if(Be(n))for(o=n.length,a=0;a<o;a++)t.call(e,n[a],a);else if(qt(n))for(c=Object.keys(n),o=c.length,a=0;a<o;a++)t.call(e,n[c[a]],c[a])}function xf(n,t){let e,i,a,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(a=n[e],o=t[e],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Rf(n){if(Be(n))return n.map(Rf);if(qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let a=0;for(;a<i;++a)t[e[a]]=Rf(n[e[a]]);return t}return n}function f1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function IN(n,t,e,i){if(!f1(n))return;const a=t[n],o=e[n];qt(a)&&qt(o)?Gc(a,o,i):t[n]=Rf(o)}function Gc(n,t,e){const i=Be(t)?t:[t],a=i.length;if(!qt(n))return n;e=e||{};const o=e.merger||IN;let c;for(let h=0;h<a;++h){if(c=i[h],!qt(c))continue;const d=Object.keys(c);for(let p=0,y=d.length;p<y;++p)o(d[p],n,c,e)}return n}function Oc(n,t){return Gc(n,t,{merger:DN})}function DN(n,t,e){if(!f1(n))return;const i=t[n],a=e[n];qt(i)&&qt(a)?Oc(i,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Rf(a))}const xT={"":n=>n,x:n=>n.x,y:n=>n.y};function ON(n){const t=n.split("."),e=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function MN(n){const t=ON(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Cf(n,t){return(xT[t]||(xT[t]=MN(t)))(n)}function ay(n){return n.charAt(0).toUpperCase()+n.slice(1)}const If=n=>typeof n<"u",mr=n=>typeof n=="function",RT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function kN(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const He=Math.PI,ki=2*He,NN=ki+He,Df=Number.POSITIVE_INFINITY,PN=He/180,ii=He/2,ea=He/4,CT=He*2/3,d1=Math.log10,zo=Math.sign;function Mc(n,t,e){return Math.abs(n-t)<e}function IT(n){const t=Math.round(n);n=Mc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(d1(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function VN(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((a,o)=>a-o).pop(),t}function LN(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Yc(n){return!LN(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function UN(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function zN(n,t,e){let i,a,o;for(i=0,a=n.length;i<a;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ca(n){return n*(He/180)}function jN(n){return n*(180/He)}function DT(n){if(!Kn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function BN(n,t){const e=t.x-n.x,i=t.y-n.y,a=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*He&&(o+=ki),{angle:o,distance:a}}function lm(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function HN(n,t){return(n-t+NN)%ki-He}function $s(n){return(n%ki+ki)%ki}function g1(n,t,e,i){const a=$s(n),o=$s(t),c=$s(e),h=$s(o-a),d=$s(c-a),p=$s(a-o),y=$s(a-c);return a===o||a===c||i&&o===c||h>d&&p<y}function qn(n,t,e){return Math.max(t,Math.min(e,n))}function FN(n){return qn(n,-32768,32767)}function vc(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function oy(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,e(o)?a=o:i=o;return{lo:a,hi:i}}const ua=(n,t,e,i)=>oy(n,e,i?a=>{const o=n[a][t];return o<e||o===e&&n[a+1][t]===e}:a=>n[a][t]<e),qN=(n,t,e)=>oy(n,e,i=>n[i][t]>=e);function GN(n,t,e){let i=0,a=n.length;for(;i<a&&n[i]<t;)i++;for(;a>i&&n[a-1]>e;)a--;return i>0||a<n.length?n.slice(i,a):n}const p1=["push","pop","shift","splice","unshift"];function YN(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),p1.forEach(e=>{const i="_onData"+ay(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function OT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,a=i.indexOf(t);a!==-1&&i.splice(a,1),!(i.length>0)&&(p1.forEach(o=>{delete n[o]}),delete n._chartjs)}function KN(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const m1=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function y1(n,t){let e=[],i=!1;return function(...a){e=a,i||(i=!0,m1.call(window,()=>{i=!1,n.apply(t,e)}))}}function $N(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const ly=n=>n==="start"?"left":n==="end"?"right":"center",tn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,QN=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function XN(n,t,e){const i=t.length;let a=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:d}=n,p=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=c.axis,{min:v,max:T,minDefined:A,maxDefined:O}=c.getUserBounds();if(A){if(a=Math.min(ua(d,y,v).lo,e?i:ua(t,y,c.getPixelForValue(v)).lo),p){const D=d.slice(0,a+1).reverse().findIndex(R=>!se(R[h.axis]));a-=Math.max(0,D)}a=qn(a,0,i-1)}if(O){let D=Math.max(ua(d,c.axis,T,!0).hi+1,e?0:ua(t,y,c.getPixelForValue(T),!0).hi+1);if(p){const R=d.slice(D-1).findIndex(B=>!se(B[h.axis]));D+=Math.max(0,R)}o=qn(D,a,i)-a}else o=i-a}return{start:a,count:o}}function WN(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=a,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,a),o}const jh=n=>n===0||n===1,MT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ki/e)),kT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ki/e)+1,kc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ii)+1,easeOutSine:n=>Math.sin(n*ii),easeInOutSine:n=>-.5*(Math.cos(He*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>jh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>jh(n)?n:MT(n,.075,.3),easeOutElastic:n=>jh(n)?n:kT(n,.075,.3),easeInOutElastic(n){return jh(n)?n:n<.5?.5*MT(n*2,.1125,.45):.5+.5*kT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-kc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?kc.easeInBounce(n*2)*.5:kc.easeOutBounce(n*2-1)*.5+.5};function cy(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function NT(n){return cy(n)?n:new qc(n)}function wp(n){return cy(n)?n:new qc(n).saturate(.5).darken(.1).hexString()}const ZN=["x","y","borderWidth","radius","tension"],JN=["color","borderColor","backgroundColor"];function tP(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:JN},numbers:{type:"number",properties:ZN}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function eP(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const PT=new Map;function nP(n,t){t=t||{};const e=n+JSON.stringify(t);let i=PT.get(e);return i||(i=new Intl.NumberFormat(n,t),PT.set(e,i)),i}function _1(n,t,e){return nP(t,e).format(n)}const iP={values(n){return Be(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let a,o=n;if(e.length>1){const p=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(p<1e-4||p>1e15)&&(a="scientific"),o=sP(n,e)}const c=d1(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),_1(n,i,d)}};function sP(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var v1={formatters:iP};function rP(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:v1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const va=Object.create(null),cm=Object.create(null);function Nc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,a=e.length;i<a;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function xp(n,t,e){return typeof t=="string"?Gc(Nc(n,t),e):Gc(Nc(n,""),t)}class aP{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>wp(a.backgroundColor),this.hoverBorderColor=(i,a)=>wp(a.borderColor),this.hoverColor=(i,a)=>wp(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return xp(this,t,e)}get(t){return Nc(this,t)}describe(t,e){return xp(cm,t,e)}override(t,e){return xp(va,t,e)}route(t,e,i,a){const o=Nc(this,t),c=Nc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],p=c[a];return qt(d)?Object.assign({},p,d):zt(d,p)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var _e=new aP({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[tP,eP,rP]);function oP(n){return!n||se(n.size)||se(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function VT(n,t,e,i,a){let o=t[a];return o||(o=t[a]=n.measureText(a).width,e.push(a)),o>i&&(i=o),i}function na(n,t,e){const i=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*i)/i+a}function LT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function um(n,t,e,i){b1(n,t,e,i,null)}function b1(n,t,e,i,a){let o,c,h,d,p,y,v,T;const A=t.pointStyle,O=t.rotation,D=t.radius;let R=(O||0)*PN;if(A&&typeof A=="object"&&(o=A.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(R),n.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),n.restore();return}if(!(isNaN(D)||D<=0)){switch(n.beginPath(),A){default:a?n.ellipse(e,i,a/2,D,0,0,ki):n.arc(e,i,D,0,ki),n.closePath();break;case"triangle":y=a?a/2:D,n.moveTo(e+Math.sin(R)*y,i-Math.cos(R)*D),R+=CT,n.lineTo(e+Math.sin(R)*y,i-Math.cos(R)*D),R+=CT,n.lineTo(e+Math.sin(R)*y,i-Math.cos(R)*D),n.closePath();break;case"rectRounded":p=D*.516,d=D-p,c=Math.cos(R+ea)*d,v=Math.cos(R+ea)*(a?a/2-p:d),h=Math.sin(R+ea)*d,T=Math.sin(R+ea)*(a?a/2-p:d),n.arc(e-v,i-h,p,R-He,R-ii),n.arc(e+T,i-c,p,R-ii,R),n.arc(e+v,i+h,p,R,R+ii),n.arc(e-T,i+c,p,R+ii,R+He),n.closePath();break;case"rect":if(!O){d=Math.SQRT1_2*D,y=a?a/2:d,n.rect(e-y,i-d,2*y,2*d);break}R+=ea;case"rectRot":v=Math.cos(R)*(a?a/2:D),c=Math.cos(R)*D,h=Math.sin(R)*D,T=Math.sin(R)*(a?a/2:D),n.moveTo(e-v,i-h),n.lineTo(e+T,i-c),n.lineTo(e+v,i+h),n.lineTo(e-T,i+c),n.closePath();break;case"crossRot":R+=ea;case"cross":v=Math.cos(R)*(a?a/2:D),c=Math.cos(R)*D,h=Math.sin(R)*D,T=Math.sin(R)*(a?a/2:D),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"star":v=Math.cos(R)*(a?a/2:D),c=Math.cos(R)*D,h=Math.sin(R)*D,T=Math.sin(R)*(a?a/2:D),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c),R+=ea,v=Math.cos(R)*(a?a/2:D),c=Math.cos(R)*D,h=Math.sin(R)*D,T=Math.sin(R)*(a?a/2:D),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"line":c=a?a/2:Math.cos(R)*D,h=Math.sin(R)*D,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(R)*(a?a/2:D),i+Math.sin(R)*D);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Kc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function uy(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function hy(n){n.restore()}function lP(n,t,e,i,a){if(!t)return n.lineTo(e.x,e.y);if(a==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else a==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function cP(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function uP(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),se(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function hP(n,t,e,i,a){if(a.strikethrough||a.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,p=e+o.actualBoundingBoxDescent,y=a.strikethrough?(d+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function fP(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function $c(n,t,e,i,a,o={}){const c=Be(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let d,p;for(n.save(),n.font=a.string,uP(n,o),d=0;d<c.length;++d)p=c[d],o.backdrop&&fP(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),se(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(p,e,i,o.maxWidth)),n.fillText(p,e,i,o.maxWidth),hP(n,e,i,p,o),i+=Number(a.lineHeight);n.restore()}function hm(n,t){const{x:e,y:i,w:a,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*He,He,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,He,ii,!0),n.lineTo(e+a-c.bottomRight,i+o),n.arc(e+a-c.bottomRight,i+o-c.bottomRight,c.bottomRight,ii,0,!0),n.lineTo(e+a,i+c.topRight),n.arc(e+a-c.topRight,i+c.topRight,c.topRight,0,-ii,!0),n.lineTo(e+c.topLeft,i)}const dP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pP(n,t){const e=(""+n).match(dP);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const mP=n=>+n||0;function T1(n,t){const e={},i=qt(t),a=i?Object.keys(t):t,o=qt(n)?i?c=>zt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of a)e[c]=mP(o(c));return e}function yP(n){return T1(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Pc(n){return T1(n,["topLeft","topRight","bottomLeft","bottomRight"])}function $n(n){const t=yP(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function sn(n,t){n=n||{},t=t||_e.font;let e=zt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=zt(n.style,t.style);i&&!(""+i).match(gP)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:zt(n.family,t.family),lineHeight:pP(zt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:zt(n.weight,t.weight),string:""};return a.string=oP(a),a}function Bh(n,t,e,i){let a,o,c;for(a=0,o=n.length;a<o;++a)if(c=n[a],c!==void 0&&c!==void 0)return c}function _P(n,t,e){const{min:i,max:a}=n,o=CN(t,(a-i)/2),c=(h,d)=>e&&h===0?0:h+d;return{min:c(i,-Math.abs(o)),max:c(a,o)}}function Aa(n,t){return Object.assign(Object.create(n),t)}function fy(n,t=[""],e,i,a=()=>n[0]){const o=e||n;typeof i>"u"&&(i=w1("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:a,override:h=>fy([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return S1(h,d,()=>xP(d,t,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return zT(h).includes(d)},ownKeys(h){return zT(h)},set(h,d,p){const y=h._storage||(h._storage=a());return h[d]=y[d]=p,delete h._keys,!0}})}function jo(n,t,e,i){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:E1(n,i),setContext:o=>jo(n,o,e,i),override:o=>jo(n.override(o),t,e,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return S1(o,c,()=>bP(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function E1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:i,isScriptable:mr(e)?e:()=>e,isIndexable:mr(i)?i:()=>i}}const vP=(n,t)=>n?n+ay(t):t,dy=(n,t)=>qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function S1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function bP(n,t,e){const{_proxy:i,_context:a,_subProxy:o,_descriptors:c}=n;let h=i[t];return mr(h)&&c.isScriptable(t)&&(h=TP(t,h,n,e)),Be(h)&&h.length&&(h=EP(t,h,n,c.isIndexable)),dy(t,h)&&(h=jo(h,a,o&&o[t],c)),h}function TP(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=t(o,c||i);return h.delete(n),dy(n,d)&&(d=gy(a._scopes,a,n,d)),d}function EP(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(qt(t[0])){const d=t,p=a._scopes.filter(y=>y!==d);t=[];for(const y of d){const v=gy(p,a,n,y);t.push(jo(v,o,c&&c[n],h))}}return t}function A1(n,t,e){return mr(n)?n(t,e):n}const SP=(n,t)=>n===!0?t:typeof n=="string"?Cf(t,n):void 0;function AP(n,t,e,i,a){for(const o of t){const c=SP(e,o);if(c){n.add(c);const h=A1(c._fallback,e,a);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function gy(n,t,e,i){const a=t._rootScopes,o=A1(t._fallback,e,i),c=[...n,...a],h=new Set;h.add(i);let d=UT(h,c,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=UT(h,c,o,d,i),d===null)?!1:fy(Array.from(h),[""],a,o,()=>wP(t,e,i))}function UT(n,t,e,i,a){for(;e;)e=AP(n,t,e,i,a);return e}function wP(n,t,e){const i=n._getTarget();t in i||(i[t]={});const a=i[t];return Be(a)&&qt(e)?e:a||{}}function xP(n,t,e,i){let a;for(const o of t)if(a=w1(vP(o,n),e),typeof a<"u")return dy(n,a)?gy(e,i,n,a):a}function w1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function zT(n){let t=n._keys;return t||(t=n._keys=RP(n._scopes)),t}function RP(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(i);return Array.from(t)}const CP=Number.EPSILON||1e-14,Bo=(n,t)=>t<n.length&&!n[t].skip&&n[t],x1=n=>n==="x"?"y":"x";function IP(n,t,e,i){const a=n.skip?t:n,o=t,c=e.skip?t:e,h=lm(o,a),d=lm(c,o);let p=h/(h+d),y=d/(h+d);p=isNaN(p)?0:p,y=isNaN(y)?0:y;const v=i*p,T=i*y;return{previous:{x:o.x-v*(c.x-a.x),y:o.y-v*(c.y-a.y)},next:{x:o.x+T*(c.x-a.x),y:o.y+T*(c.y-a.y)}}}function DP(n,t,e){const i=n.length;let a,o,c,h,d,p=Bo(n,0);for(let y=0;y<i-1;++y)if(d=p,p=Bo(n,y+1),!(!d||!p)){if(Mc(t[y],0,CP)){e[y]=e[y+1]=0;continue}a=e[y]/t[y],o=e[y+1]/t[y],h=Math.pow(a,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[y]=a*c*t[y],e[y+1]=o*c*t[y])}}function OP(n,t,e="x"){const i=x1(e),a=n.length;let o,c,h,d=Bo(n,0);for(let p=0;p<a;++p){if(c=h,h=d,d=Bo(n,p+1),!h)continue;const y=h[e],v=h[i];c&&(o=(y-c[e])/3,h[`cp1${e}`]=y-o,h[`cp1${i}`]=v-o*t[p]),d&&(o=(d[e]-y)/3,h[`cp2${e}`]=y+o,h[`cp2${i}`]=v+o*t[p])}}function MP(n,t="x"){const e=x1(t),i=n.length,a=Array(i).fill(0),o=Array(i);let c,h,d,p=Bo(n,0);for(c=0;c<i;++c)if(h=d,d=p,p=Bo(n,c+1),!!d){if(p){const y=p[t]-d[t];a[c]=y!==0?(p[e]-d[e])/y:0}o[c]=h?p?zo(a[c-1])!==zo(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}DP(n,a,o),OP(n,o,t)}function Hh(n,t,e){return Math.max(Math.min(n,e),t)}function kP(n,t){let e,i,a,o,c,h=Kc(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&Kc(n[e+1],t),o&&(a=n[e],c&&(a.cp1x=Hh(a.cp1x,t.left,t.right),a.cp1y=Hh(a.cp1y,t.top,t.bottom)),h&&(a.cp2x=Hh(a.cp2x,t.left,t.right),a.cp2y=Hh(a.cp2y,t.top,t.bottom)))}function NP(n,t,e,i,a){let o,c,h,d;if(t.spanGaps&&(n=n.filter(p=>!p.skip)),t.cubicInterpolationMode==="monotone")MP(n,a);else{let p=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],d=IP(p,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=d.previous.x,h.cp1y=d.previous.y,h.cp2x=d.next.x,h.cp2y=d.next.y,p=h}t.capBezierPoints&&kP(n,e)}function py(){return typeof window<"u"&&typeof document<"u"}function my(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Of(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Zf=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function PP(n,t){return Zf(n).getPropertyValue(t)}const VP=["top","right","bottom","left"];function ga(n,t,e){const i={};e=e?"-"+e:"";for(let a=0;a<4;a++){const o=VP[a];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const LP=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function UP(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:a,offsetY:o}=i;let c=!1,h,d;if(LP(a,o,n.target))h=a,d=o;else{const p=t.getBoundingClientRect();h=i.clientX-p.left,d=i.clientY-p.top,c=!0}return{x:h,y:d,box:c}}function ra(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,a=Zf(e),o=a.boxSizing==="border-box",c=ga(a,"padding"),h=ga(a,"border","width"),{x:d,y:p,box:y}=UP(n,e),v=c.left+(y&&h.left),T=c.top+(y&&h.top);let{width:A,height:O}=t;return o&&(A-=c.width+h.width,O-=c.height+h.height),{x:Math.round((d-v)/A*e.width/i),y:Math.round((p-T)/O*e.height/i)}}function zP(n,t,e){let i,a;if(t===void 0||e===void 0){const o=n&&my(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=Zf(o),d=ga(h,"border","width"),p=ga(h,"padding");t=c.width-p.width-d.width,e=c.height-p.height-d.height,i=Of(h.maxWidth,o,"clientWidth"),a=Of(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Df,maxHeight:a||Df}}const Fh=n=>Math.round(n*10)/10;function jP(n,t,e,i){const a=Zf(n),o=ga(a,"margin"),c=Of(a.maxWidth,n,"clientWidth")||Df,h=Of(a.maxHeight,n,"clientHeight")||Df,d=zP(n,t,e);let{width:p,height:y}=d;if(a.boxSizing==="content-box"){const T=ga(a,"border","width"),A=ga(a,"padding");p-=A.width+T.width,y-=A.height+T.height}return p=Math.max(0,p-o.width),y=Math.max(0,i?p/i:y-o.height),p=Fh(Math.min(p,c,d.maxWidth)),y=Fh(Math.min(y,h,d.maxHeight)),p&&!y&&(y=Fh(p/2)),(t!==void 0||e!==void 0)&&i&&d.height&&y>d.height&&(y=d.height,p=Fh(Math.floor(y*i))),{width:p,height:y}}function jT(n,t,e){const i=t||1,a=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==a||c.width!==o?(n.currentDevicePixelRatio=i,c.height=a,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const BP=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};py()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function BT(n,t){const e=PP(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function aa(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function HP(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function FP(n,t,e,i){const a={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=aa(n,a,e),h=aa(a,o,e),d=aa(o,t,e),p=aa(c,h,e),y=aa(h,d,e);return aa(p,y,e)}const qP=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},GP=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Do(n,t,e){return n?qP(t,e):GP()}function R1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function C1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function I1(n){return n==="angle"?{between:g1,compare:HN,normalize:$s}:{between:vc,compare:(t,e)=>t-e,normalize:t=>t}}function HT({start:n,end:t,count:e,loop:i,style:a}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:a}}function YP(n,t,e){const{property:i,start:a,end:o}=e,{between:c,normalize:h}=I1(i),d=t.length;let{start:p,end:y,loop:v}=n,T,A;if(v){for(p+=d,y+=d,T=0,A=d;T<A&&c(h(t[p%d][i]),a,o);++T)p--,y--;p%=d,y%=d}return y<p&&(y+=d),{start:p,end:y,loop:v,style:n.style}}function KP(n,t,e){if(!e)return[n];const{property:i,start:a,end:o}=e,c=t.length,{compare:h,between:d,normalize:p}=I1(i),{start:y,end:v,loop:T,style:A}=YP(n,t,e),O=[];let D=!1,R=null,B,X,J;const st=()=>d(a,J,B)&&h(a,J)!==0,G=()=>h(o,B)===0||d(o,J,B),it=()=>D||st(),C=()=>!D||G();for(let w=y,I=y;w<=v;++w)X=t[w%c],!X.skip&&(B=p(X[i]),B!==J&&(D=d(B,a,o),R===null&&it()&&(R=h(B,a)===0?w:I),R!==null&&C()&&(O.push(HT({start:R,end:w,loop:T,count:c,style:A})),R=null),I=w,J=B));return R!==null&&O.push(HT({start:R,end:v,loop:T,count:c,style:A})),O}function $P(n,t){const e=[],i=n.segments;for(let a=0;a<i.length;a++){const o=KP(i[a],n.points,t);o.length&&e.push(...o)}return e}function QP(n,t,e,i){let a=0,o=t-1;if(e&&!i)for(;a<t&&!n[a].skip;)a++;for(;a<t&&n[a].skip;)a++;for(a%=t,e&&(o+=a);o>a&&n[o%t].skip;)o--;return o%=t,{start:a,end:o}}function XP(n,t,e,i){const a=n.length,o=[];let c=t,h=n[t],d;for(d=t+1;d<=e;++d){const p=n[d%a];p.skip||p.stop?h.skip||(i=!1,o.push({start:t%a,end:(d-1)%a,loop:i}),t=c=p.stop?d:null):(c=d,h.skip&&(t=d)),h=p}return c!==null&&o.push({start:t%a,end:c%a,loop:i}),o}function WP(n,t){const e=n.points,i=n.options.spanGaps,a=e.length;if(!a)return[];const o=!!n._loop,{start:c,end:h}=QP(e,a,o,i);if(i===!0)return FT(n,[{start:c,end:h,loop:o}],e,t);const d=h<c?h+a:h,p=!!n._fullLoop&&c===0&&h===a-1;return FT(n,XP(e,c,d,p),e,t)}function FT(n,t,e,i){return!i||!i.setContext||!e?t:ZP(n,t,e,i)}function ZP(n,t,e,i){const a=n._chart.getContext(),o=qT(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,d=e.length,p=[];let y=o,v=t[0].start,T=v;function A(O,D,R,B){const X=h?-1:1;if(O!==D){for(O+=d;e[O%d].skip;)O-=X;for(;e[D%d].skip;)D+=X;O%d!==D%d&&(p.push({start:O%d,end:D%d,loop:R,style:B}),y=B,v=D%d)}}for(const O of t){v=h?v:O.start;let D=e[v%d],R;for(T=v+1;T<=O.end;T++){const B=e[T%d];R=qT(i.setContext(Aa(a,{type:"segment",p0:D,p1:B,p0DataIndex:(T-1)%d,p1DataIndex:T%d,datasetIndex:c}))),JP(R,y)&&A(v,T-1,O.loop,y),D=B,y=R}v<T-1&&A(v,T-1,O.loop,y)}return p}function qT(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function JP(n,t){if(!t)return!1;const e=[],i=function(a,o){return cy(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function qh(n,t,e){return n.options.clip?n[e]:t[e]}function tV(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:qh(e,t,"left"),right:qh(e,t,"right"),top:qh(i,t,"top"),bottom:qh(i,t,"bottom")}:t}function eV(n,t){const e=t._clip;if(e.disabled)return!1;const i=tV(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class nV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,a){const o=e.listeners[a],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=m1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,d;for(;c>=0;--c)d=o[c],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(a.draw(),this._notify(a,i,t,"progress")),o.length||(i.running=!1,this._notify(a,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var us=new nV;const GT="transparent",iV={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=NT(n||GT),a=i.valid&&NT(t||GT);return a&&a.valid?a.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class sV{constructor(t,e,i,a){const o=e[i];a=Bh([t.to,a,o,t.from]);const c=Bh([t.from,o,a]);this._active=!0,this._fn=t.fn||iV[t.type||typeof c],this._easing=kc[t.easing]||kc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Bh([t.to,e,a,t.from]),this._from=Bh([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,a=this._prop,o=this._from,c=this._loop,h=this._to;let d;if(this._active=o!==h&&(c||e<i),!this._active){this._target[a]=h,this._notify(!0);return}if(e<0){this._target[a]=o;return}d=e/i%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[a]=this._fn(o,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][e]()}}class D1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qt(t))return;const e=Object.keys(_e.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!qt(o))return;const c={};for(const h of e)c[h]=o[h];(Be(o.properties)&&o.properties||[a]).forEach(h=>{(h===a||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,a=aV(t,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&rV(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,a=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const p=c[d];if(p.charAt(0)==="$")continue;if(p==="options"){a.push(...this._animateOptions(t,e));continue}const y=e[p];let v=o[p];const T=i.get(p);if(v)if(T&&v.active()){v.update(T,y,h);continue}else v.cancel();if(!T||!T.duration){t[p]=y;continue}o[p]=v=new sV(T,t,p,y),a.push(v)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return us.add(this._chart,i),!0}}function rV(n,t){const e=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const o=n[i[a]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function aV(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function YT(n,t){const e=n&&n.options||{},i=e.reverse,a=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:a,end:i?a:o}}function oV(n,t,e){if(e===!1)return!1;const i=YT(n,e),a=YT(t,e);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function lV(n){let t,e,i,a;return qt(n)?(t=n.top,e=n.right,i=n.bottom,a=n.left):t=e=i=a=n,{top:t,right:e,bottom:i,left:a,disabled:n===!1}}function O1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let a,o;for(a=0,o=i.length;a<o;++a)e.push(i[a].index);return e}function KT(n,t,e,i={}){const a=n.keys,o=i.mode==="single";let c,h,d,p;if(t===null)return;let y=!1;for(c=0,h=a.length;c<h;++c){if(d=+a[c],d===e){if(y=!0,i.all)continue;break}p=n.values[d],Kn(p)&&(o||t===0||zo(t)===zo(p))&&(t+=p)}return!y&&!i.all?0:t}function cV(n,t){const{iScale:e,vScale:i}=t,a=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let d,p,y;for(d=0,p=c.length;d<p;++d)y=c[d],h[d]={[a]:y,[o]:n[y]};return h}function Rp(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function uV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function hV(n){const{min:t,max:e,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function fV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function $T(n,t,e,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const o=n[a.index];if(e&&o>0||!e&&o<0)return a.index}return null}function QT(n,t){const{chart:e,_cachedMeta:i}=n,a=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,d=o.axis,p=c.axis,y=uV(o,c,i),v=t.length;let T;for(let A=0;A<v;++A){const O=t[A],{[d]:D,[p]:R}=O,B=O._stacks||(O._stacks={});T=B[p]=fV(a,y,D),T[h]=R,T._top=$T(T,c,!0,i.type),T._bottom=$T(T,c,!1,i.type);const X=T._visualValues||(T._visualValues={});X[h]=R}}function Cp(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function dV(n,t){return Aa(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function gV(n,t,e){return Aa(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function oc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const a of t){const o=a._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Ip=n=>n==="reset"||n==="none",XT=(n,t)=>t?n:Object.assign({},n),pV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:O1(e,!0),values:null};class M1{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Rp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&oc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=(v,T,A,O)=>v==="x"?T:v==="r"?O:A,o=e.xAxisID=zt(i.xAxisID,Cp(t,"x")),c=e.yAxisID=zt(i.yAxisID,Cp(t,"y")),h=e.rAxisID=zt(i.rAxisID,Cp(t,"r")),d=e.indexAxis,p=e.iAxisID=a(d,o,c,h),y=e.vAxisID=a(d,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(p),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&OT(this._data,this),t._stacked&&oc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(qt(e)){const a=this._cachedMeta;this._data=cV(e,a)}else if(i!==e){if(i){OT(i,this);const a=this._cachedMeta;oc(a),a._parsed=[]}e&&Object.isExtensible(e)&&YN(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=e._stacked;e._stacked=Rp(e.vScale,e),e.stack!==i.stack&&(a=!0,oc(e),e.stack=i.stack),this._resyncElements(t),(a||o!==e._stacked)&&(QT(this,e._parsed),e._stacked=Rp(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:c}=i,h=o.axis;let d=t===0&&e===a.length?!0:i._sorted,p=t>0&&i._parsed[t-1],y,v,T;if(this._parsing===!1)i._parsed=a,i._sorted=!0,T=a;else{Be(a[t])?T=this.parseArrayData(i,a,t,e):qt(a[t])?T=this.parseObjectData(i,a,t,e):T=this.parsePrimitiveData(i,a,t,e);const A=()=>v[h]===null||p&&v[h]<p[h];for(y=0;y<e;++y)i._parsed[y+t]=v=T[y],d&&(A()&&(d=!1),p=v);i._sorted=d}c&&QT(this,T)}parsePrimitiveData(t,e,i,a){const{iScale:o,vScale:c}=t,h=o.axis,d=c.axis,p=o.getLabels(),y=o===c,v=new Array(a);let T,A,O;for(T=0,A=a;T<A;++T)O=T+i,v[T]={[h]:y||o.parse(p[O],O),[d]:c.parse(e[O],O)};return v}parseArrayData(t,e,i,a){const{xScale:o,yScale:c}=t,h=new Array(a);let d,p,y,v;for(d=0,p=a;d<p;++d)y=d+i,v=e[y],h[d]={x:o.parse(v[0],y),y:c.parse(v[1],y)};return h}parseObjectData(t,e,i,a){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,p=new Array(a);let y,v,T,A;for(y=0,v=a;y<v;++y)T=y+i,A=e[T],p[y]={x:o.parse(Cf(A,h),T),y:c.parse(Cf(A,d),T)};return p}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const a=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:O1(a,!0),values:e._stacks[t.axis]._visualValues};return KT(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,a){const o=i[e.axis];let c=o===null?NaN:o;const h=a&&i._stacks[e.axis];a&&h&&(a.values=h,c=KT(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&t===i.iScale,c=a.length,h=this._getOtherScale(t),d=pV(e,i,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:v}=hV(h);let T,A;function O(){A=a[T];const D=A[h.axis];return!Kn(A[t.axis])||y>D||v<D}for(T=0;T<c&&!(!O()&&(this.updateRangeFromParsed(p,t,A,d),o));++T);if(o){for(T=c-1;T>=0;--T)if(!O()){this.updateRangeFromParsed(p,t,A,d);break}}return p}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let a,o,c;for(a=0,o=e.length;a<o;++a)c=e[a][t.axis],Kn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,a=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=lV(zt(this.options.clip,oV(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,a=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||a.length-h,p=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,d),y=h;y<h+d;++y){const v=a[y];v.hidden||(v.active&&p?c.push(v):v.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=gV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=dV(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const a=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],d=this.enableOptionSharing&&If(i);if(h)return XT(h,d);const p=this.chart.config,y=p.datasetElementScopeKeys(this._type,t),v=a?[`${t}Hover`,"hover",t,""]:[t,""],T=p.getOptionScopes(this.getDataset(),y),A=Object.keys(_e.elements[t]),O=()=>this.getContext(i,a,e),D=p.resolveNamedOptions(T,A,O,v);return D.$shared&&(D.$shared=d,o[c]=Object.freeze(XT(D,d))),D}_resolveAnimations(t,e,i){const a=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let d;if(a.options.animation!==!1){const y=this.chart.config,v=y.datasetAnimationScopeKeys(this._type,e),T=y.getOptionScopes(this.getDataset(),v);d=y.createResolver(T,this.getContext(t,i,e))}const p=new D1(a,d&&d.animations);return d&&d._cacheable&&(o[c]=Object.freeze(p)),p}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Ip(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),a=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==a;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,a){Ip(a)?Object.assign(t,i):this._resolveAnimations(e,a).update(t,i)}updateSharedOptions(t,e,i){t&&!Ip(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,a){t.active=a;const o=this.getStyle(e,a);this._resolveAnimations(e,i,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,d,p]of this._syncList)this[h](d,p);this._syncList=[];const a=i.length,o=e.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,e,i=!0){const a=this._cachedMeta,o=a.data,c=t+e;let h;const d=p=>{for(p.length+=e,h=p.length-1;h>=c;h--)p[h]=p[h-e]};for(d(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&d(a._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,a){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(t,e);i._stacked&&oc(i,a)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,a]=t;this[e](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class mV extends M1{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:a=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:d}=XN(e,a,c);this._drawStart=h,this._drawCount=d,WN(e)&&(h=0,d=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=a;const p=this.resolveDatasetElementOptions(t);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:p},t),this.updateElements(a,h,d,t)}updateElements(t,e,i,a){const o=a==="reset",{iScale:c,vScale:h,_stacked:d,_dataset:p}=this._cachedMeta,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(e,a),T=c.axis,A=h.axis,{spanGaps:O,segment:D}=this.options,R=Yc(O)?O:Number.POSITIVE_INFINITY,B=this.chart._animationsDisabled||o||a==="none",X=e+i,J=t.length;let st=e>0&&this.getParsed(e-1);for(let G=0;G<J;++G){const it=t[G],C=B?it:{};if(G<e||G>=X){C.skip=!0;continue}const w=this.getParsed(G),I=se(w[A]),P=C[T]=c.getPixelForValue(w[T],G),N=C[A]=o||I?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,w,d):w[A],G);C.skip=isNaN(P)||isNaN(N)||I,C.stop=G>0&&Math.abs(w[T]-st[T])>R,D&&(C.parsed=w,C.raw=p.data[G]),v&&(C.options=y||this.resolveDataElementOptions(G,it.active?"active":a)),B||this.updateElement(it,G,C,a),st=w}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return i;const o=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function ia(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yy{static override(t){Object.assign(yy.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ia()}parse(){return ia()}format(){return ia()}add(){return ia()}diff(){return ia()}startOf(){return ia()}endOf(){return ia()}}var yV={_date:yy};function _V(n,t,e,i){const{controller:a,data:o,_sorted:c}=n,h=a._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const p=h._reversePixels?qN:ua;if(i){if(a._sharedOptions){const y=o[0],v=typeof y.getRange=="function"&&y.getRange(t);if(v){const T=p(o,t,e-v),A=p(o,t,e+v);return{lo:T.lo,hi:A.hi}}}}else{const y=p(o,t,e);if(d){const{vScale:v}=a._cachedMeta,{_parsed:T}=n,A=T.slice(0,y.lo+1).reverse().findIndex(D=>!se(D[v.axis]));y.lo-=Math.max(0,A);const O=T.slice(y.hi).findIndex(D=>!se(D[v.axis]));y.hi+=Math.max(0,O)}return y}}return{lo:0,hi:o.length-1}}function Jf(n,t,e,i,a){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,d=o.length;h<d;++h){const{index:p,data:y}=o[h],{lo:v,hi:T}=_V(o[h],t,c,a);for(let A=v;A<=T;++A){const O=y[A];O.skip||i(O,p,A)}}}function vV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,a){const o=t?Math.abs(i.x-a.x):0,c=e?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Dp(n,t,e,i,a){const o=[];return!a&&!n.isPointInArea(t)||Jf(n,e,t,function(h,d,p){!a&&!Kc(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:d,index:p})},!0),o}function bV(n,t,e,i){let a=[];function o(c,h,d){const{startAngle:p,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:v}=BN(c,{x:t.x,y:t.y});g1(v,p,y)&&a.push({element:c,datasetIndex:h,index:d})}return Jf(n,e,t,o),a}function TV(n,t,e,i,a,o){let c=[];const h=vV(e);let d=Number.POSITIVE_INFINITY;function p(y,v,T){const A=y.inRange(t.x,t.y,a);if(i&&!A)return;const O=y.getCenterPoint(a);if(!(!!o||n.isPointInArea(O))&&!A)return;const R=h(t,O);R<d?(c=[{element:y,datasetIndex:v,index:T}],d=R):R===d&&c.push({element:y,datasetIndex:v,index:T})}return Jf(n,e,t,p),c}function Op(n,t,e,i,a,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?bV(n,t,e,a):TV(n,t,e,i,a,o)}function WT(n,t,e,i,a){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return Jf(n,e,t,(d,p,y)=>{d[c]&&d[c](t[e],a)&&(o.push({element:d,datasetIndex:p,index:y}),h=h||d.inRange(t.x,t.y,a))}),i&&!h?[]:o}var EV={modes:{index(n,t,e,i){const a=ra(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Dp(n,a,o,i,c):Op(n,a,o,!1,i,c),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const y=h[0].index,v=p.data[y];v&&!v.skip&&d.push({element:v,datasetIndex:p.index,index:y})}),d):[]},dataset(n,t,e,i){const a=ra(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Dp(n,a,o,i,c):Op(n,a,o,!1,i,c);if(h.length>0){const d=h[0].datasetIndex,p=n.getDatasetMeta(d).data;h=[];for(let y=0;y<p.length;++y)h.push({element:p[y],datasetIndex:d,index:y})}return h},point(n,t,e,i){const a=ra(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Dp(n,a,o,i,c)},nearest(n,t,e,i){const a=ra(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Op(n,a,o,e.intersect,i,c)},x(n,t,e,i){const a=ra(t,n);return WT(n,a,"x",e.intersect,i)},y(n,t,e,i){const a=ra(t,n);return WT(n,a,"y",e.intersect,i)}}};const k1=["left","top","right","bottom"];function lc(n,t){return n.filter(e=>e.pos===t)}function ZT(n,t){return n.filter(e=>k1.indexOf(e.pos)===-1&&e.box.axis===t)}function cc(n,t){return n.sort((e,i)=>{const a=t?i:e,o=t?e:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function SV(n){const t=[];let e,i,a,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)a=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=a,t.push({index:e,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:h});return t}function AV(n){const t={};for(const e of n){const{stack:i,pos:a,stackWeight:o}=e;if(!i||!k1.includes(a))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function wV(n,t){const e=AV(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:d}=h.box,p=e[h.stack],y=p&&h.stackWeight/p.weight;h.horizontal?(h.width=y?y*i:d&&t.availableWidth,h.height=a):(h.width=i,h.height=y?y*a:d&&t.availableHeight)}return e}function xV(n){const t=SV(n),e=cc(t.filter(p=>p.box.fullSize),!0),i=cc(lc(t,"left"),!0),a=cc(lc(t,"right")),o=cc(lc(t,"top"),!0),c=cc(lc(t,"bottom")),h=ZT(t,"x"),d=ZT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:a.concat(d).concat(c).concat(h),chartArea:lc(t,"chartArea"),vertical:i.concat(a).concat(d),horizontal:o.concat(c).concat(h)}}function JT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function N1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function RV(n,t,e,i){const{pos:a,box:o}=e,c=n.maxPadding;if(!qt(a)){e.size&&(n[a]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[a]+=e.size}o.getPadding&&N1(c,o.getPadding());const h=Math.max(0,t.outerWidth-JT(c,n,"left","right")),d=Math.max(0,t.outerHeight-JT(c,n,"top","bottom")),p=h!==n.w,y=d!==n.h;return n.w=h,n.h=d,e.horizontal?{same:p,other:y}:{same:y,other:p}}function CV(n){const t=n.maxPadding;function e(i){const a=Math.max(t[i]-n[i],0);return n[i]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function IV(n,t){const e=t.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function bc(n,t,e,i){const a=[];let o,c,h,d,p,y;for(o=0,c=n.length,p=0;o<c;++o){h=n[o],d=h.box,d.update(h.width||t.w,h.height||t.h,IV(h.horizontal,t));const{same:v,other:T}=RV(t,e,h,i);p|=v&&a.length,y=y||T,d.fullSize||a.push(h)}return p&&bc(a,t,e,i)||y}function Gh(n,t,e,i,a){n.top=e,n.left=t,n.right=t+i,n.bottom=e+a,n.width=i,n.height=a}function tE(n,t,e,i){const a=e.padding;let{x:o,y:c}=t;for(const h of n){const d=h.box,p=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/p.weight||1;if(h.horizontal){const v=t.w*y,T=p.size||d.height;If(p.start)&&(c=p.start),d.fullSize?Gh(d,a.left,c,e.outerWidth-a.right-a.left,T):Gh(d,t.left+p.placed,c,v,T),p.start=c,p.placed+=v,c=d.bottom}else{const v=t.h*y,T=p.size||d.width;If(p.start)&&(o=p.start),d.fullSize?Gh(d,o,a.top,T,e.outerHeight-a.bottom-a.top):Gh(d,o,t.top+p.placed,T,v),p.start=o,p.placed+=v,o=d.right}}t.x=o,t.y=c}var Gn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const a=$n(n.options.layout.padding),o=Math.max(t-a.width,0),c=Math.max(e-a.height,0),h=xV(n.boxes),d=h.vertical,p=h.horizontal;Qt(n.boxes,D=>{typeof D.beforeLayout=="function"&&D.beforeLayout()});const y=d.reduce((D,R)=>R.box.options&&R.box.options.display===!1?D:D+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),T=Object.assign({},a);N1(T,$n(i));const A=Object.assign({maxPadding:T,w:o,h:c,x:a.left,y:a.top},a),O=wV(d.concat(p),v);bc(h.fullSize,A,v,O),bc(d,A,v,O),bc(p,A,v,O)&&bc(d,A,v,O),CV(A),tE(h.leftAndTop,A,v,O),A.x+=A.w,A.y+=A.h,tE(h.rightAndBottom,A,v,O),n.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},Qt(h.chartArea,D=>{const R=D.box;Object.assign(R,n.chartArea),R.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class P1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,a){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):i)}}isAttached(t){return!0}updateConfig(t){}}class DV extends P1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const of="$chartjs",OV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},eE=n=>n===null||n==="";function MV(n,t){const e=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[of]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",eE(a)){const o=BT(n,"width");o!==void 0&&(n.width=o)}if(eE(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=BT(n,"height");o!==void 0&&(n.height=o)}return n}const V1=BP?{passive:!0}:!1;function kV(n,t,e){n&&n.addEventListener(t,e,V1)}function NV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,V1)}function PV(n,t){const e=OV[n.type]||n.type,{x:i,y:a}=ra(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:a!==void 0?a:null}}function Mf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function VV(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Mf(h.addedNodes,i),c=c&&!Mf(h.removedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function LV(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Mf(h.removedNodes,i),c=c&&!Mf(h.addedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const Qc=new Map;let nE=0;function L1(){const n=window.devicePixelRatio;n!==nE&&(nE=n,Qc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function UV(n,t){Qc.size||window.addEventListener("resize",L1),Qc.set(n,t)}function zV(n){Qc.delete(n),Qc.size||window.removeEventListener("resize",L1)}function jV(n,t,e){const i=n.canvas,a=i&&my(i);if(!a)return;const o=y1((h,d)=>{const p=a.clientWidth;e(h,d),p<a.clientWidth&&e()},window),c=new ResizeObserver(h=>{const d=h[0],p=d.contentRect.width,y=d.contentRect.height;p===0&&y===0||o(p,y)});return c.observe(a),UV(n,o),c}function Mp(n,t,e){e&&e.disconnect(),t==="resize"&&zV(n)}function BV(n,t,e){const i=n.canvas,a=y1(o=>{n.ctx!==null&&e(PV(o,n))},n);return kV(i,t,a),a}class HV extends P1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(MV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[of])return!1;const i=e[of].initial;["height","width"].forEach(o=>{const c=i[o];se(c)?e.removeAttribute(o):e.setAttribute(o,c)});const a=i.style||{};return Object.keys(a).forEach(o=>{e.style[o]=a[o]}),e.width=e.width,delete e[of],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),c={attach:VV,detach:LV,resize:jV}[e]||BV;a[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),a=i[e];if(!a)return;({attach:Mp,detach:Mp,resize:Mp}[e]||NV)(t,e,a),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,a){return jP(t,e,i,a)}isAttached(t){const e=t&&my(t);return!!(e&&e.isConnected)}}function FV(n){return!py()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?DV:HV}class wa{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Yc(this.x)&&Yc(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const a={};return t.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}function qV(n,t){const e=n.options.ticks,i=GV(n),a=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?KV(t):[],c=o.length,h=o[0],d=o[c-1],p=[];if(c>a)return $V(t,p,o,c/a),p;const y=YV(o,t,a);if(c>0){let v,T;const A=c>1?Math.round((d-h)/(c-1)):null;for(Yh(t,p,y,se(A)?0:h-A,h),v=0,T=c-1;v<T;v++)Yh(t,p,y,o[v],o[v+1]);return Yh(t,p,y,d,se(A)?t.length:d+A),p}return Yh(t,p,y),p}function GV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(i,a))}function YV(n,t,e){const i=QV(n),a=t.length/e;if(!i)return Math.max(a,1);const o=VN(i);for(let c=0,h=o.length-1;c<h;c++){const d=o[c];if(d>a)return d}return Math.max(a,1)}function KV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function $V(n,t,e,i){let a=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),a++,o=e[a*i])}function Yh(n,t,e,i,a){const o=zt(i,0),c=Math.min(zt(a,n.length),n.length);let h=0,d,p,y;for(e=Math.ceil(e),a&&(d=a-i,e=d/Math.floor(d/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(p=Math.max(o,0);p<c;p++)p===y&&(t.push(n[p]),h++,y=Math.round(o+h*e))}function QV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const XV=n=>n==="left"?"right":n==="right"?"left":n,iE=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,sE=(n,t)=>Math.min(t||n,n);function rE(n,t){const e=[],i=n.length/t,a=n.length;let o=0;for(;o<a;o+=i)e.push(n[Math.floor(o)]);return e}function WV(n,t,e){const i=n.ticks.length,a=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let d=n.getPixelForTick(a),p;if(!(e&&(i===1?p=Math.max(d-o,c-d):t===0?p=(n.getPixelForTick(1)-d)/2:p=(d-n.getPixelForTick(a-1))/2,d+=a<t?p:-p,d<o-h||d>c+h)))return d}function ZV(n,t){Qt(n,e=>{const i=e.gc,a=i.length/2;let o;if(a>t){for(o=0;o<a;++o)delete e.data[i[o]];i.splice(0,a)}})}function uc(n){return n.drawTicks?n.tickLength:0}function aE(n,t){if(!n.display)return 0;const e=sn(n.font,t),i=$n(n.padding);return(Be(n.text)?n.text.length:1)*e.lineHeight+i.height}function JV(n,t){return Aa(n,{scale:t,type:"scale"})}function t4(n,t,e){return Aa(n,{tick:e,index:t,type:"tick"})}function e4(n,t,e){let i=ly(n);return(e&&t!=="right"||!e&&t==="right")&&(i=XV(i)),i}function n4(n,t,e,i){const{top:a,left:o,bottom:c,right:h,chart:d}=n,{chartArea:p,scales:y}=d;let v=0,T,A,O;const D=c-a,R=h-o;if(n.isHorizontal()){if(A=tn(i,o,h),qt(e)){const B=Object.keys(e)[0],X=e[B];O=y[B].getPixelForValue(X)+D-t}else e==="center"?O=(p.bottom+p.top)/2+D-t:O=iE(n,e,t);T=h-o}else{if(qt(e)){const B=Object.keys(e)[0],X=e[B];A=y[B].getPixelForValue(X)-R+t}else e==="center"?A=(p.left+p.right)/2-R+t:A=iE(n,e,t);O=tn(i,c,a),v=e==="left"?-ii:ii}return{titleX:A,titleY:O,maxWidth:T,rotation:v}}class Xo extends wa{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:a}=this;return t=Ai(t,Number.POSITIVE_INFINITY),e=Ai(e,Number.NEGATIVE_INFINITY),i=Ai(i,Number.POSITIVE_INFINITY),a=Ai(a,Number.NEGATIVE_INFINITY),{min:Ai(t,i),max:Ai(e,a),minDefined:Kn(t),maxDefined:Kn(e)}}getMinMax(t){let{min:e,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let d=0,p=h.length;d<p;++d)c=h[d].controller.getMinMax(this,t),a||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=a&&e>i?e:i,{min:Ai(e,Ai(i,e)),max:Ai(i,Ai(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){re(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:a,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_P(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?rE(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=qV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){re(this.options.afterUpdate,[this])}beforeSetDimensions(){re(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){re(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),re(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){re(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i],o.label=re(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){re(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){re(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=sE(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,o=e.maxRotation;let c=a,h,d,p;if(!this._isVisible()||!e.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const y=this._getLabelSizes(),v=y.widest.width,T=y.highest.height,A=qn(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:A/(i-1),v+6>h&&(h=A/(i-(t.offset?.5:1)),d=this.maxHeight-uc(t.grid)-e.padding-aE(t.title,this.chart.options.font),p=Math.sqrt(v*v+T*T),c=jN(Math.min(Math.asin(qn((y.highest.height+6)/h,-1,1)),Math.asin(qn(d/p,-1,1))-Math.asin(qn(T/p,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){re(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){re(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:a,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=aE(a,e.options.font);if(h?(t.width=this.maxWidth,t.height=uc(o)+d):(t.height=this.maxHeight,t.width=uc(o)+d),i.display&&this.ticks.length){const{first:p,last:y,widest:v,highest:T}=this._getLabelSizes(),A=i.padding*2,O=ca(this.labelRotation),D=Math.cos(O),R=Math.sin(O);if(h){const B=i.mirror?0:R*v.width+D*T.height;t.height=Math.min(this.maxHeight,t.height+B+A)}else{const B=i.mirror?0:D*v.width+R*T.height;t.width=Math.min(this.maxWidth,t.width+B+A)}this._calculatePadding(p,y,R,D)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,a){const{ticks:{align:o,padding:c},position:h}=this.options,d=this.labelRotation!==0,p=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let T=0,A=0;d?p?(T=a*t.width,A=i*e.height):(T=i*t.height,A=a*e.width):o==="start"?A=e.width:o==="end"?T=t.width:o!=="inner"&&(T=t.width/2,A=e.width/2),this.paddingLeft=Math.max((T-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((A-v+c)*this.width/(this.width-v),0)}else{let y=e.height/2,v=t.height/2;o==="start"?(y=0,v=t.height):o==="end"&&(y=e.height,v=0),this.paddingTop=y+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){re(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)se(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=rE(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:a,_longestTextCache:o}=this,c=[],h=[],d=Math.floor(e/sE(e,i));let p=0,y=0,v,T,A,O,D,R,B,X,J,st,G;for(v=0;v<e;v+=d){if(O=t[v].label,D=this._resolveTickFontOptions(v),a.font=R=D.string,B=o[R]=o[R]||{data:{},gc:[]},X=D.lineHeight,J=st=0,!se(O)&&!Be(O))J=VT(a,B.data,B.gc,J,O),st=X;else if(Be(O))for(T=0,A=O.length;T<A;++T)G=O[T],!se(G)&&!Be(G)&&(J=VT(a,B.data,B.gc,J,G),st+=X);c.push(J),h.push(st),p=Math.max(J,p),y=Math.max(st,y)}ZV(o,e);const it=c.indexOf(p),C=h.indexOf(y),w=I=>({width:c[I]||0,height:h[I]||0});return{first:w(0),last:w(e-1),widest:w(it),highest:w(C),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return FN(this._alignToPixels?na(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=t4(this.getContext(),t,i))}return this.$context||(this.$context=JV(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ca(this.labelRotation),i=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,d=o?o.highest.height+c:0;return this.isHorizontal()?d*i>h*a?h/i:d/a:d*a<h*i?d/i:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,a=this.options,{grid:o,position:c,border:h}=a,d=o.offset,p=this.isHorizontal(),v=this.ticks.length+(d?1:0),T=uc(o),A=[],O=h.setContext(this.getContext()),D=O.display?O.width:0,R=D/2,B=function($){return na(i,$,D)};let X,J,st,G,it,C,w,I,P,N,L,M;if(c==="top")X=B(this.bottom),C=this.bottom-T,I=X-R,N=B(t.top)+R,M=t.bottom;else if(c==="bottom")X=B(this.top),N=t.top,M=B(t.bottom)-R,C=X+R,I=this.top+T;else if(c==="left")X=B(this.right),it=this.right-T,w=X-R,P=B(t.left)+R,L=t.right;else if(c==="right")X=B(this.left),P=t.left,L=B(t.right)-R,it=X+R,w=this.left+T;else if(e==="x"){if(c==="center")X=B((t.top+t.bottom)/2+.5);else if(qt(c)){const $=Object.keys(c)[0],at=c[$];X=B(this.chart.scales[$].getPixelForValue(at))}N=t.top,M=t.bottom,C=X+R,I=C+T}else if(e==="y"){if(c==="center")X=B((t.left+t.right)/2);else if(qt(c)){const $=Object.keys(c)[0],at=c[$];X=B(this.chart.scales[$].getPixelForValue(at))}it=X-R,w=it-T,P=t.left,L=t.right}const Xt=zt(a.ticks.maxTicksLimit,v),St=Math.max(1,Math.ceil(v/Xt));for(J=0;J<v;J+=St){const $=this.getContext(J),at=o.setContext($),dt=h.setContext($),Mt=at.lineWidth,V=at.color,nt=dt.dash||[],lt=dt.dashOffset,rt=at.tickWidth,ft=at.tickColor,At=at.tickBorderDash||[],yt=at.tickBorderDashOffset;st=WV(this,J,d),st!==void 0&&(G=na(i,st,Mt),p?it=w=P=L=G:C=I=N=M=G,A.push({tx1:it,ty1:C,tx2:w,ty2:I,x1:P,y1:N,x2:L,y2:M,width:Mt,color:V,borderDash:nt,borderDashOffset:lt,tickWidth:rt,tickColor:ft,tickBorderDash:At,tickBorderDashOffset:yt}))}return this._ticksLength=v,this._borderValue=X,A}_computeLabelItems(t){const e=this.axis,i=this.options,{position:a,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:p,padding:y,mirror:v}=o,T=uc(i.grid),A=T+y,O=v?-y:A,D=-ca(this.labelRotation),R=[];let B,X,J,st,G,it,C,w,I,P,N,L,M="middle";if(a==="top")it=this.bottom-O,C=this._getXAxisLabelAlignment();else if(a==="bottom")it=this.top+O,C=this._getXAxisLabelAlignment();else if(a==="left"){const St=this._getYAxisLabelAlignment(T);C=St.textAlign,G=St.x}else if(a==="right"){const St=this._getYAxisLabelAlignment(T);C=St.textAlign,G=St.x}else if(e==="x"){if(a==="center")it=(t.top+t.bottom)/2+A;else if(qt(a)){const St=Object.keys(a)[0],$=a[St];it=this.chart.scales[St].getPixelForValue($)+A}C=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")G=(t.left+t.right)/2-A;else if(qt(a)){const St=Object.keys(a)[0],$=a[St];G=this.chart.scales[St].getPixelForValue($)}C=this._getYAxisLabelAlignment(T).textAlign}e==="y"&&(d==="start"?M="top":d==="end"&&(M="bottom"));const Xt=this._getLabelSizes();for(B=0,X=h.length;B<X;++B){J=h[B],st=J.label;const St=o.setContext(this.getContext(B));w=this.getPixelForTick(B)+o.labelOffset,I=this._resolveTickFontOptions(B),P=I.lineHeight,N=Be(st)?st.length:1;const $=N/2,at=St.color,dt=St.textStrokeColor,Mt=St.textStrokeWidth;let V=C;c?(G=w,C==="inner"&&(B===X-1?V=this.options.reverse?"left":"right":B===0?V=this.options.reverse?"right":"left":V="center"),a==="top"?p==="near"||D!==0?L=-N*P+P/2:p==="center"?L=-Xt.highest.height/2-$*P+P:L=-Xt.highest.height+P/2:p==="near"||D!==0?L=P/2:p==="center"?L=Xt.highest.height/2-$*P:L=Xt.highest.height-N*P,v&&(L*=-1),D!==0&&!St.showLabelBackdrop&&(G+=P/2*Math.sin(D))):(it=w,L=(1-N)*P/2);let nt;if(St.showLabelBackdrop){const lt=$n(St.backdropPadding),rt=Xt.heights[B],ft=Xt.widths[B];let At=L-lt.top,yt=0-lt.left;switch(M){case"middle":At-=rt/2;break;case"bottom":At-=rt;break}switch(C){case"center":yt-=ft/2;break;case"right":yt-=ft;break;case"inner":B===X-1?yt-=ft:B>0&&(yt-=ft/2);break}nt={left:yt,top:At,width:ft+lt.width,height:rt+lt.height,color:St.backdropColor}}R.push({label:st,font:I,textOffset:L,options:{rotation:D,color:at,strokeColor:dt,strokeWidth:Mt,textAlign:V,textBaseline:M,translation:[G,it],backdrop:nt}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ca(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,d=c.widest.width;let p,y;return e==="left"?a?(y=this.right+o,i==="near"?p="left":i==="center"?(p="center",y+=d/2):(p="right",y+=d)):(y=this.right-h,i==="near"?p="right":i==="center"?(p="center",y-=d/2):(p="left",y=this.left)):e==="right"?a?(y=this.left+o,i==="near"?p="right":i==="center"?(p="center",y-=d/2):(p="left",y-=d)):(y=this.left+h,i==="near"?p="left":i==="center"?(p="center",y+=d/2):(p="right",y=this.right)):p="right",{textAlign:p,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:a,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,a,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(d,p,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=a.length;o<c;++o){const d=a[o];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=a.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let p,y,v,T;this.isHorizontal()?(p=na(t,this.left,c)-c/2,y=na(t,this.right,h)+h/2,v=T=d):(v=na(t,this.top,c)-c/2,T=na(t,this.bottom,h)+h/2,p=y=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(p,v),e.lineTo(y,T),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&uy(i,a);const o=this.getLabelItems(t);for(const c of o){const h=c.options,d=c.font,p=c.label,y=c.textOffset;$c(i,p,0,y,d,h)}a&&hy(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:a}}=this;if(!i.display)return;const o=sn(i.font),c=$n(i.padding),h=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||qt(e)?(d+=c.bottom,Be(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=c.top;const{titleX:p,titleY:y,maxWidth:v,rotation:T}=n4(this,d,e,h);$c(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:T,textAlign:e4(h,e,a),textBaseline:"middle",translation:[p,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=zt(t.grid&&t.grid.z,-1),a=zt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Xo.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return sn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Kh{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;r4(e)&&(i=this.register(e));const a=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,i4(t,c,i),this.override&&_e.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,a=this.scope;i in e&&delete e[i],a&&i in _e[a]&&(delete _e[a][i],this.override&&delete va[i])}}function i4(n,t,e){const i=Gc(Object.create(null),[e?_e.get(e):{},_e.get(t),n.defaults]);_e.set(t,i),n.defaultRoutes&&s4(t,n.defaultRoutes),n.descriptors&&_e.describe(t,n.descriptors)}function s4(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),a=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),d=c.join(".");_e.route(o,a,d,h)})}function r4(n){return"id"in n&&"defaults"in n}class a4{constructor(){this.controllers=new Kh(M1,"datasets",!0),this.elements=new Kh(wa,"elements"),this.plugins=new Kh(Object,"plugins"),this.scales=new Kh(Xo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):Qt(a,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const a=ay(t);re(i["before"+a],[],i),e[t](i),re(i["after"+a],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return a}}var xi=new a4;class o4{constructor(){this._init=[]}notify(t,e,i,a){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,a){a=a||{};for(const o of t){const c=o.plugin,h=c[i],d=[e,a,o.options];if(re(h,d,c)===!1&&a.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,a=zt(i.options&&i.options.plugins,{}),o=l4(i);return a===!1&&!e?[]:u4(t,o,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,a=(o,c)=>o.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(a(e,i),t,"stop"),this._notify(a(i,e),t,"start")}}function l4(n){const t={},e=[],i=Object.keys(xi.plugins.items);for(let o=0;o<i.length;o++)e.push(xi.getPlugin(i[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function c4(n,t){return!t&&n===!1?null:n===!0?{}:n}function u4(n,{plugins:t,localIds:e},i,a){const o=[],c=n.getContext();for(const h of t){const d=h.id,p=c4(i[d],a);p!==null&&o.push({plugin:h,options:h4(n.config,{plugin:h,local:e[d]},p,c)})}return o}function h4(n,{plugin:t,local:e},i,a){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fm(n,t){const e=_e.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function f4(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function d4(n,t){return n===t?"_index_":"_value_"}function oE(n){if(n==="x"||n==="y"||n==="r")return n}function g4(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function dm(n,...t){if(oE(n))return n;for(const e of t){const i=e.axis||g4(e.position)||n.length>1&&oE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function lE(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function p4(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return lE(n,"x",e[0])||lE(n,"y",e[0])}return{}}function m4(n,t){const e=va[n.type]||{scales:{}},i=t.scales||{},a=fm(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=dm(c,h,p4(c,n),_e.scales[h.type]),p=d4(d,a),y=e.scales||{};o[c]=Oc(Object.create(null),[{axis:d},h,y[d],y[p]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,d=c.indexAxis||fm(h,t),y=(va[h]||{}).scales||{};Object.keys(y).forEach(v=>{const T=f4(v,d),A=c[T+"AxisID"]||T;o[A]=o[A]||Object.create(null),Oc(o[A],[{axis:T},i[A],y[v]])})}),Object.keys(o).forEach(c=>{const h=o[c];Oc(h,[_e.scales[h.type],_e.scale])}),o}function U1(n){const t=n.options||(n.options={});t.plugins=zt(t.plugins,{}),t.scales=m4(n,t)}function z1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function y4(n){return n=n||{},n.data=z1(n.data),U1(n),n}const cE=new Map,j1=new Set;function $h(n,t){let e=cE.get(n);return e||(e=t(),cE.set(n,e),j1.add(e)),e}const hc=(n,t,e)=>{const i=Cf(t,e);i!==void 0&&n.add(i)};class _4{constructor(t){this._config=y4(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=z1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),U1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return $h(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return $h(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return $h(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return $h(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let a=i.get(t);return(!a||e)&&(a=new Map,i.set(t,a)),a}getOptionScopes(t,e,i){const{options:a,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const d=new Set;e.forEach(y=>{t&&(d.add(t),y.forEach(v=>hc(d,t,v))),y.forEach(v=>hc(d,a,v)),y.forEach(v=>hc(d,va[o]||{},v)),y.forEach(v=>hc(d,_e,v)),y.forEach(v=>hc(d,cm,v))});const p=Array.from(d);return p.length===0&&p.push(Object.create(null)),j1.has(e)&&c.set(e,p),p}chartOptionScopes(){const{options:t,type:e}=this;return[t,va[e]||{},_e.datasets[e]||{},{type:e},_e,cm]}resolveNamedOptions(t,e,i,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=uE(this._resolverCache,t,a);let d=c;if(b4(c,e)){o.$shared=!1,i=mr(i)?i():i;const p=this.createResolver(t,i,h);d=jo(c,i,p)}for(const p of e)o[p]=d[p];return o}createResolver(t,e,i=[""],a){const{resolver:o}=uE(this._resolverCache,t,i);return qt(e)?jo(o,e,void 0,a):o}}function uE(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const a=e.join();let o=i.get(a);return o||(o={resolver:fy(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(a,o)),o}const v4=n=>qt(n)&&Object.getOwnPropertyNames(n).some(t=>mr(n[t]));function b4(n,t){const{isScriptable:e,isIndexable:i}=E1(n);for(const a of t){const o=e(a),c=i(a),h=(c||o)&&n[a];if(o&&(mr(h)||v4(h))||c&&Be(h))return!0}return!1}var T4="4.5.0";const E4=["top","bottom","left","right","chartArea"];function hE(n,t){return n==="top"||n==="bottom"||E4.indexOf(n)===-1&&t==="x"}function fE(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function dE(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),re(e&&e.onComplete,[n],t)}function S4(n){const t=n.chart,e=t.options.animation;re(e&&e.onProgress,[n],t)}function B1(n){return py()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const lf={},gE=n=>{const t=B1(n);return Object.values(lf).filter(e=>e.canvas===t).pop()};function A4(n,t,e){const i=Object.keys(n);for(const a of i){const o=+a;if(o>=t){const c=n[a];delete n[a],(e>0||o>t)&&(n[o+e]=c)}}}function w4(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let td=class{static defaults=_e;static instances=lf;static overrides=va;static registry=xi;static version=T4;static getChart=gE;static register(...t){xi.add(...t),pE()}static unregister(...t){xi.remove(...t),pE()}constructor(t,e){const i=this.config=new _4(e),a=B1(t),o=gE(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||FV(a)),this.platform.updateConfig(i);const h=this.platform.acquireContext(a,c.aspectRatio),d=h&&h.canvas,p=d&&d.height,y=d&&d.width;if(this.id=RN(),this.ctx=h,this.canvas=d,this.width=y,this.height=p,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new o4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$N(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],lf[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}us.listen(this,"complete",dE),us.listen(this,"progress",S4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:a,_aspectRatio:o}=this;return se(t)?e&&o?o:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return xi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():jT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return LT(this.canvas,this.ctx),this}stop(){return us.stop(this),this}resize(t,e){us.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,jT(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),re(i.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Qt(e,(i,a)=>{i.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,a=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],d=dm(c,h),p=d==="r",y=d==="x";return{options:h,dposition:p?"chartArea":y?"bottom":"left",dtype:p?"radialLinear":y?"category":"linear"}}))),Qt(o,c=>{const h=c.options,d=h.id,p=dm(d,h),y=zt(h.type,c.dtype);(h.position===void 0||hE(h.position,p)!==hE(c.dposition))&&(h.position=c.dposition),a[d]=!0;let v=null;if(d in i&&i[d].type===y)v=i[d];else{const T=xi.getScale(y);v=new T({id:d,type:y,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),Qt(a,(c,h)=>{c||delete i[h]}),Qt(i,c=>{Gn.configure(this,c,c.options),Gn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((a,o)=>a.index-o.index),i>e){for(let a=e;a<i;++a)this._destroyDatasetMeta(a);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(fE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,a)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=e.length;i<a;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||fm(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const d=xi.getController(h),{datasetElementType:p,dataElementType:y}=_e.datasets[h];Object.assign(d,{dataElementType:xi.getElement(y),datasetElementType:p&&xi.getElement(p)}),c.controller=new d(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Qt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let p=0,y=this.data.datasets.length;p<y;p++){const{controller:v}=this.getDatasetMeta(p),T=!a&&o.indexOf(v)===-1;v.buildOrUpdateElements(T),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||Qt(o,p=>{p.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(fE("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Qt(this.scales,t=>{Gn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!RT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of e){const c=i==="_removeElements"?-o:o;A4(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),a=i(0);for(let o=1;o<e;o++)if(!RT(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Gn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Qt(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,mr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),a={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(us.has(this)?this.attached&&!us.running(this)&&us.start(this):(this.draw(),dE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let a,o;for(a=0,o=e.length;a<o;++a){const c=e[a];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=eV(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&uy(e,a),t.controller.draw(),a&&hy(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Kc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,a){const o=EV.modes[e];return typeof o=="function"?o(this,t,i,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let a=i.filter(o=>o&&o._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=Aa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const a=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,a);If(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),us.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),LT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete lf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},a=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Qt(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,p)=>{e.addEventListener(this,d,p),t[d]=p},a=(d,p)=>{t[d]&&(e.removeEventListener(this,d,p),delete t[d])},o=(d,p)=>{this.canvas&&this.resize(d,p)};let c;const h=()=>{a("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Qt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Qt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const a=i?"set":"remove";let o,c,h,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){c=t[h];const p=c&&this.getDatasetMeta(c.datasetIndex).controller;p&&p[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!xf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const a=this.options.hover,o=(d,p)=>d.filter(y=>!p.some(v=>y.datasetIndex===v.datasetIndex&&y.index===v.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:a=[],options:o}=this,c=e,h=this._getActiveElements(t,a,i,c),d=kN(t),p=w4(t,this._lastEvent,i,d);i&&(this._lastEvent=null,re(o.onHover,[t,h,this],this),d&&re(o.onClick,[t,h,this],this));const y=!xf(h,a);return(y||e)&&(this._active=h,this._updateHoverStyles(h,a,e)),this._lastEvent=p,y}_getActiveElements(t,e,i,a){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}};function pE(){return Qt(td.instances,n=>n._plugins.invalidate())}function H1(n,t,e=t){n.lineCap=zt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(zt(e.borderDash,t.borderDash)),n.lineDashOffset=zt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=zt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=zt(e.borderWidth,t.borderWidth),n.strokeStyle=zt(e.borderColor,t.borderColor)}function x4(n,t,e){n.lineTo(e.x,e.y)}function R4(n){return n.stepped?lP:n.tension||n.cubicInterpolationMode==="monotone"?cP:x4}function F1(n,t,e={}){const i=n.length,{start:a=0,end:o=i-1}=e,{start:c,end:h}=t,d=Math.max(a,c),p=Math.min(o,h),y=a<c&&o<c||a>h&&o>h;return{count:i,start:d,loop:t.loop,ilen:p<d&&!y?i+p-d:p-d}}function C4(n,t,e,i){const{points:a,options:o}=t,{count:c,start:h,loop:d,ilen:p}=F1(a,e,i),y=R4(o);let{move:v=!0,reverse:T}=i||{},A,O,D;for(A=0;A<=p;++A)O=a[(h+(T?p-A:A))%c],!O.skip&&(v?(n.moveTo(O.x,O.y),v=!1):y(n,D,O,T,o.stepped),D=O);return d&&(O=a[(h+(T?p:0))%c],y(n,D,O,T,o.stepped)),!!d}function I4(n,t,e,i){const a=t.points,{count:o,start:c,ilen:h}=F1(a,e,i),{move:d=!0,reverse:p}=i||{};let y=0,v=0,T,A,O,D,R,B;const X=st=>(c+(p?h-st:st))%o,J=()=>{D!==R&&(n.lineTo(y,R),n.lineTo(y,D),n.lineTo(y,B))};for(d&&(A=a[X(0)],n.moveTo(A.x,A.y)),T=0;T<=h;++T){if(A=a[X(T)],A.skip)continue;const st=A.x,G=A.y,it=st|0;it===O?(G<D?D=G:G>R&&(R=G),y=(v*y+st)/++v):(J(),n.lineTo(st,G),O=it,v=0,D=R=G),B=G}J()}function gm(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?I4:C4}function D4(n){return n.stepped?HP:n.tension||n.cubicInterpolationMode==="monotone"?FP:aa}function O4(n,t,e,i){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,i)&&a.closePath()),H1(n,t.options),n.stroke(a)}function M4(n,t,e,i){const{segments:a,options:o}=t,c=gm(t);for(const h of a)H1(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const k4=typeof Path2D=="function";function N4(n,t,e,i){k4&&!t.options.segment?O4(n,t,e,i):M4(n,t,e,i)}class P4 extends wa{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const a=i.spanGaps?this._loop:this._fullLoop;NP(this._points,i,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=WP(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,a=t[e],o=this.points,c=$P(this,{property:e,start:a,end:a});if(!c.length)return;const h=[],d=D4(i);let p,y;for(p=0,y=c.length;p<y;++p){const{start:v,end:T}=c[p],A=o[v],O=o[T];if(A===O){h.push(A);continue}const D=Math.abs((a-A[e])/(O[e]-A[e])),R=d(A,O,D,i.stepped);R[e]=t[e],h.push(R)}return h.length===1?h[0]:h}pathSegment(t,e,i){return gm(this)(t,this,e,i)}path(t,e,i){const a=this.segments,o=gm(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of a)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),N4(t,this,i,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function mE(n,t,e,i){const a=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<a.radius+a.hitRadius}class V4 extends wa{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const a=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,e){return mE(this,t,"x",e)}inYRange(t,e){return mE(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Kc(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,um(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}const yE=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},L4=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class _E extends wa{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=re(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,a)=>t.sort(i,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,a=sn(i.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=yE(i,o);let p,y;e.font=a.string,this.isHorizontal()?(p=this.maxWidth,y=this._fitRows(c,o,h,d)+10):(y=this.maxHeight,p=this._fitCols(c,a,h,d)+10),this.width=Math.min(p,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,a){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],p=this.lineWidths=[0],y=a+h;let v=t;o.textAlign="left",o.textBaseline="middle";let T=-1,A=-y;return this.legendItems.forEach((O,D)=>{const R=i+e/2+o.measureText(O.text).width;(D===0||p[p.length-1]+R+2*h>c)&&(v+=y,p[p.length-(D>0?0:1)]=0,A+=y,T++),d[D]={left:0,top:A,row:T,width:R,height:a},p[p.length-1]+=R+h}),v}_fitCols(t,e,i,a){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],p=this.columnSizes=[],y=c-t;let v=h,T=0,A=0,O=0,D=0;return this.legendItems.forEach((R,B)=>{const{itemWidth:X,itemHeight:J}=U4(i,e,o,R,a);B>0&&A+J+2*h>y&&(v+=T+h,p.push({width:T,height:A}),O+=T+h,D++,T=A=0),d[B]={left:O,top:A,col:D,width:X,height:J},T=Math.max(T,X),A+=J+h}),v+=T,p.push({width:T,height:A}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:a},rtl:o}}=this,c=Do(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=tn(i,this.left+a,this.right-this.lineWidths[h]);for(const p of e)h!==p.row&&(h=p.row,d=tn(i,this.left+a,this.right-this.lineWidths[h])),p.top+=this.top+t+a,p.left=c.leftForLtr(c.x(d),p.width),d+=p.width+a}else{let h=0,d=tn(i,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const p of e)p.col!==h&&(h=p.col,d=tn(i,this.top+t+a,this.bottom-this.columnSizes[h].height)),p.top=d,p.left+=this.left+a,p.left=c.leftForLtr(c.x(p.left),p.width),d+=p.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;uy(t,this),this._draw(),hy(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:a}=this,{align:o,labels:c}=t,h=_e.color,d=Do(t.rtl,this.left,this.width),p=sn(c.font),{padding:y}=c,v=p.size,T=v/2;let A;this.drawTitle(),a.textAlign=d.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=p.string;const{boxWidth:O,boxHeight:D,itemHeight:R}=yE(c,v),B=function(it,C,w){if(isNaN(O)||O<=0||isNaN(D)||D<0)return;a.save();const I=zt(w.lineWidth,1);if(a.fillStyle=zt(w.fillStyle,h),a.lineCap=zt(w.lineCap,"butt"),a.lineDashOffset=zt(w.lineDashOffset,0),a.lineJoin=zt(w.lineJoin,"miter"),a.lineWidth=I,a.strokeStyle=zt(w.strokeStyle,h),a.setLineDash(zt(w.lineDash,[])),c.usePointStyle){const P={radius:D*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:I},N=d.xPlus(it,O/2),L=C+T;b1(a,P,N,L,c.pointStyleWidth&&O)}else{const P=C+Math.max((v-D)/2,0),N=d.leftForLtr(it,O),L=Pc(w.borderRadius);a.beginPath(),Object.values(L).some(M=>M!==0)?hm(a,{x:N,y:P,w:O,h:D,radius:L}):a.rect(N,P,O,D),a.fill(),I!==0&&a.stroke()}a.restore()},X=function(it,C,w){$c(a,w.text,it,C+R/2,p,{strikethrough:w.hidden,textAlign:d.textAlign(w.textAlign)})},J=this.isHorizontal(),st=this._computeTitleHeight();J?A={x:tn(o,this.left+y,this.right-i[0]),y:this.top+y+st,line:0}:A={x:this.left+y,y:tn(o,this.top+st+y,this.bottom-e[0].height),line:0},R1(this.ctx,t.textDirection);const G=R+y;this.legendItems.forEach((it,C)=>{a.strokeStyle=it.fontColor,a.fillStyle=it.fontColor;const w=a.measureText(it.text).width,I=d.textAlign(it.textAlign||(it.textAlign=c.textAlign)),P=O+T+w;let N=A.x,L=A.y;d.setWidth(this.width),J?C>0&&N+P+y>this.right&&(L=A.y+=G,A.line++,N=A.x=tn(o,this.left+y,this.right-i[A.line])):C>0&&L+G>this.bottom&&(N=A.x=N+e[A.line].width+y,A.line++,L=A.y=tn(o,this.top+st+y,this.bottom-e[A.line].height));const M=d.x(N);if(B(M,L,it),N=QN(I,N+O+T,J?N+P:this.right,t.rtl),X(d.x(N),L,it),J)A.x+=P+y;else if(typeof it.text!="string"){const Xt=p.lineHeight;A.y+=q1(it,Xt)+y}else A.y+=G}),C1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=sn(e.font),a=$n(e.padding);if(!e.display)return;const o=Do(t.rtl,this.left,this.width),c=this.ctx,h=e.position,d=i.size/2,p=a.top+d;let y,v=this.left,T=this.width;if(this.isHorizontal())T=Math.max(...this.lineWidths),y=this.top+p,v=tn(t.align,v,this.right-T);else{const O=this.columnSizes.reduce((D,R)=>Math.max(D,R.height),0);y=p+tn(t.align,this.top,this.bottom-O-t.labels.padding-this._computeTitleHeight())}const A=tn(h,v,v+T);c.textAlign=o.textAlign(ly(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,$c(c,e.text,A,y,i)}_computeTitleHeight(){const t=this.options.title,e=sn(t.font),i=$n(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,a,o;if(vc(t,this.left,this.right)&&vc(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],vc(t,a.left,a.left+a.width)&&vc(e,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!B4(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=L4(a,i);a&&!o&&re(e.onLeave,[t,a,this],this),this._hoveredItem=i,i&&!o&&re(e.onHover,[t,i,this],this)}else i&&re(e.onClick,[t,i,this],this)}}function U4(n,t,e,i,a){const o=z4(i,n,t,e),c=j4(a,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function z4(n,t,e,i){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(a).width}function j4(n,t,e){let i=n;return typeof t.text!="string"&&(i=q1(t,e)),i}function q1(n,t){const e=n.text?n.text.length:0;return t*e}function B4(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var H4={id:"legend",_element:_E,start(n,t,e){const i=n.legend=new _E({ctx:n.ctx,options:e,chart:n});Gn.configure(n,i,e),Gn.addBox(n,i)},stop(n){Gn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Gn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const p=d.controller.getStyle(e?0:void 0),y=$n(p.borderWidth);return{text:t[d.index].label,fillStyle:p.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:a||p.textAlign,borderRadius:c&&(h||p.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class G1 extends wa{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=Be(i.text)?i.text.length:1;this._padding=$n(i.padding);const o=a*sn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:a,right:o,options:c}=this,h=c.align;let d=0,p,y,v;return this.isHorizontal()?(y=tn(h,i,o),v=e+t,p=o-i):(c.position==="left"?(y=i+t,v=tn(h,a,e),d=He*-.5):(y=o-t,v=tn(h,e,a),d=He*.5),p=a-e),{titleX:y,titleY:v,maxWidth:p,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=sn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:d,rotation:p}=this._drawArgs(o);$c(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:p,textAlign:ly(e.align),textBaseline:"middle",translation:[c,h]})}}function F4(n,t){const e=new G1({ctx:n.ctx,options:t,chart:n});Gn.configure(n,e,t),Gn.addBox(n,e),n.titleBlock=e}var q4={id:"title",_element:G1,start(n,t,e){F4(n,e)},stop(n){const t=n.titleBlock;Gn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Gn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Tc={average(n){if(!n.length)return!1;let t,e,i=new Set,a=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();i.add(d.x),a+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,d)=>h+d)/i.size,y:a/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,a=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const d=n[o].element;if(d&&d.hasValue()){const p=d.getCenterPoint(),y=lm(t,p);y<a&&(a=y,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function wi(n,t){return t&&(Be(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function hs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function G4(n,t){const{element:e,datasetIndex:i,index:a}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(a);return{chart:n,label:c,parsed:o.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:h,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:e}}function vE(n,t){const e=n.chart.ctx,{body:i,footer:a,title:o}=n,{boxWidth:c,boxHeight:h}=t,d=sn(t.bodyFont),p=sn(t.titleFont),y=sn(t.footerFont),v=o.length,T=a.length,A=i.length,O=$n(t.padding);let D=O.height,R=0,B=i.reduce((st,G)=>st+G.before.length+G.lines.length+G.after.length,0);if(B+=n.beforeBody.length+n.afterBody.length,v&&(D+=v*p.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),B){const st=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;D+=A*st+(B-A)*d.lineHeight+(B-1)*t.bodySpacing}T&&(D+=t.footerMarginTop+T*y.lineHeight+(T-1)*t.footerSpacing);let X=0;const J=function(st){R=Math.max(R,e.measureText(st).width+X)};return e.save(),e.font=p.string,Qt(n.title,J),e.font=d.string,Qt(n.beforeBody.concat(n.afterBody),J),X=t.displayColors?c+2+t.boxPadding:0,Qt(i,st=>{Qt(st.before,J),Qt(st.lines,J),Qt(st.after,J)}),X=0,e.font=y.string,Qt(n.footer,J),e.restore(),R+=O.width,{width:R,height:D}}function Y4(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function K4(n,t,e,i){const{x:a,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&a+o+c>t.width||n==="right"&&a-o-c<0)return!0}function $4(n,t,e,i){const{x:a,width:o}=e,{width:c,chartArea:{left:h,right:d}}=n;let p="center";return i==="center"?p=a<=(h+d)/2?"left":"right":a<=o/2?p="left":a>=c-o/2&&(p="right"),K4(p,n,t,e)&&(p="center"),p}function bE(n,t,e){const i=e.yAlign||t.yAlign||Y4(n,e);return{xAlign:e.xAlign||t.xAlign||$4(n,t,e,i),yAlign:i}}function Q4(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function X4(n,t,e){let{y:i,height:a}=n;return t==="top"?i+=e:t==="bottom"?i-=a+e:i-=a/2,i}function TE(n,t,e,i){const{caretSize:a,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:d}=e,p=a+o,{topLeft:y,topRight:v,bottomLeft:T,bottomRight:A}=Pc(c);let O=Q4(t,h);const D=X4(t,d,p);return d==="center"?h==="left"?O+=p:h==="right"&&(O-=p):h==="left"?O-=Math.max(y,T)+a:h==="right"&&(O+=Math.max(v,A)+a),{x:qn(O,0,i.width-t.width),y:qn(D,0,i.height-t.height)}}function Qh(n,t,e){const i=$n(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function EE(n){return wi([],hs(n))}function W4(n,t,e){return Aa(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function SE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const Y1={beforeTitle:cs,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:cs,beforeBody:cs,beforeLabel:cs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return se(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:cs,afterBody:cs,beforeFooter:cs,footer:cs,afterFooter:cs};function pn(n,t,e,i){const a=n[t].call(e,i);return typeof a>"u"?Y1[t].call(e,i):a}class AE extends wa{static positioners=Tc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&e.options.animation&&i.animations,o=new D1(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=W4(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,a=pn(i,"beforeTitle",this,t),o=pn(i,"title",this,t),c=pn(i,"afterTitle",this,t);let h=[];return h=wi(h,hs(a)),h=wi(h,hs(o)),h=wi(h,hs(c)),h}getBeforeBody(t,e){return EE(pn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,a=[];return Qt(t,o=>{const c={before:[],lines:[],after:[]},h=SE(i,o);wi(c.before,hs(pn(h,"beforeLabel",this,o))),wi(c.lines,pn(h,"label",this,o)),wi(c.after,hs(pn(h,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(t,e){return EE(pn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,a=pn(i,"beforeFooter",this,t),o=pn(i,"footer",this,t),c=pn(i,"afterFooter",this,t);let h=[];return h=wi(h,hs(a)),h=wi(h,hs(o)),h=wi(h,hs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,a=[],o=[],c=[];let h=[],d,p;for(d=0,p=e.length;d<p;++d)h.push(G4(this.chart,e[d]));return t.filter&&(h=h.filter((y,v,T)=>t.filter(y,v,T,i))),t.itemSort&&(h=h.sort((y,v)=>t.itemSort(y,v,i))),Qt(h,y=>{const v=SE(t.callbacks,y);a.push(pn(v,"labelColor",this,y)),o.push(pn(v,"labelPointStyle",this,y)),c.push(pn(v,"labelTextColor",this,y))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const h=Tc[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const d=this._size=vE(this,i),p=Object.assign({},h,d),y=bE(this.chart,i,p),v=TE(i,p,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:v.x,y:v.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,a){const o=this.getCaretPosition(t,i,a);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:d,topRight:p,bottomLeft:y,bottomRight:v}=Pc(h),{x:T,y:A}=t,{width:O,height:D}=e;let R,B,X,J,st,G;return o==="center"?(st=A+D/2,a==="left"?(R=T,B=R-c,J=st+c,G=st-c):(R=T+O,B=R+c,J=st-c,G=st+c),X=R):(a==="left"?B=T+Math.max(d,y)+c:a==="right"?B=T+O-Math.max(p,v)-c:B=this.caretX,o==="top"?(J=A,st=J-c,R=B-c,X=B+c):(J=A+D,st=J+c,R=B+c,X=B-c),G=J),{x1:R,x2:B,x3:X,y1:J,y2:st,y3:G}}drawTitle(t,e,i){const a=this.title,o=a.length;let c,h,d;if(o){const p=Do(i.rtl,this.x,this.width);for(t.x=Qh(this,i.titleAlign,i),e.textAlign=p.textAlign(i.titleAlign),e.textBaseline="middle",c=sn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,d=0;d<o;++d)e.fillText(a[d],p.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,d+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,a,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:d,boxWidth:p}=o,y=sn(o.bodyFont),v=Qh(this,"left",o),T=a.x(v),A=d<y.lineHeight?(y.lineHeight-d)/2:0,O=e.y+A;if(o.usePointStyle){const D={radius:Math.min(p,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},R=a.leftForLtr(T,p)+p/2,B=O+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,um(t,D,R,B),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,um(t,D,R,B)}else{t.lineWidth=qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const D=a.leftForLtr(T,p),R=a.leftForLtr(a.xPlus(T,1),p-2),B=Pc(c.borderRadius);Object.values(B).some(X=>X!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,hm(t,{x:D,y:O,w:p,h:d,radius:B}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),hm(t,{x:R,y:O+1,w:p-2,h:d-2,radius:B}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(D,O,p,d),t.strokeRect(D,O,p,d),t.fillStyle=c.backgroundColor,t.fillRect(R,O+1,p-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:p,boxPadding:y}=i,v=sn(i.bodyFont);let T=v.lineHeight,A=0;const O=Do(i.rtl,this.x,this.width),D=function(w){e.fillText(w,O.x(t.x+A),t.y+T/2),t.y+=T+o},R=O.textAlign(c);let B,X,J,st,G,it,C;for(e.textAlign=c,e.textBaseline="middle",e.font=v.string,t.x=Qh(this,R,i),e.fillStyle=i.bodyColor,Qt(this.beforeBody,D),A=h&&R!=="right"?c==="center"?p/2+y:p+2+y:0,st=0,it=a.length;st<it;++st){for(B=a[st],X=this.labelTextColors[st],e.fillStyle=X,Qt(B.before,D),J=B.lines,h&&J.length&&(this._drawColorBox(e,t,st,O,i),T=Math.max(v.lineHeight,d)),G=0,C=J.length;G<C;++G)D(J[G]),T=v.lineHeight;Qt(B.after,D)}A=0,T=v.lineHeight,Qt(this.afterBody,D),t.y-=o}drawFooter(t,e,i){const a=this.footer,o=a.length;let c,h;if(o){const d=Do(i.rtl,this.x,this.width);for(t.x=Qh(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",c=sn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(a[h],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,a){const{xAlign:o,yAlign:c}=this,{x:h,y:d}=t,{width:p,height:y}=i,{topLeft:v,topRight:T,bottomLeft:A,bottomRight:O}=Pc(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(h+v,d),c==="top"&&this.drawCaret(t,e,i,a),e.lineTo(h+p-T,d),e.quadraticCurveTo(h+p,d,h+p,d+T),c==="center"&&o==="right"&&this.drawCaret(t,e,i,a),e.lineTo(h+p,d+y-O),e.quadraticCurveTo(h+p,d+y,h+p-O,d+y),c==="bottom"&&this.drawCaret(t,e,i,a),e.lineTo(h+A,d+y),e.quadraticCurveTo(h,d+y,h,d+y-A),c==="center"&&o==="left"&&this.drawCaret(t,e,i,a),e.lineTo(h,d+v),e.quadraticCurveTo(h,d,h+v,d),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const c=Tc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=vE(this,t),d=Object.assign({},c,this._size),p=bE(e,t,d),y=TE(t,d,p,e);(a._to!==y.x||o._to!==y.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=$n(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,a,e),R1(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),C1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,a=t.map(({datasetIndex:h,index:d})=>{const p=this.chart.getDatasetMeta(h);if(!p)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:p.data[d],index:d}}),o=!xf(i,a),c=this._positionChanged(a,e);(o||c)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),d=e||!xf(c,o)||h;return d&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:a,options:o}=this,c=Tc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||a!==c.y)}}var Z4={id:"tooltip",_element:AE,positioners:Tc,afterInit(n,t,e){e&&(n.tooltip=new AE({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Y1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const J4=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function tL(n,t,e,i){const a=n.indexOf(t);if(a===-1)return J4(n,t,e,i);const o=n.lastIndexOf(t);return a!==o?e:a}const eL=(n,t)=>n===null?null:qn(Math.round(n),0,t);function wE(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class nL extends Xo{static id="category";static defaults={ticks:{callback:wE}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:a,label:o}of e)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(se(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:tL(i,t,zt(e,t),this._addedLabels),eL(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)a.push({value:c});return a}getLabelForValue(t){return wE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function iL(n,t){const e=[],{bounds:a,step:o,min:c,max:h,precision:d,count:p,maxTicks:y,maxDigits:v,includeBounds:T}=n,A=o||1,O=y-1,{min:D,max:R}=t,B=!se(c),X=!se(h),J=!se(p),st=(R-D)/(v+1);let G=IT((R-D)/O/A)*A,it,C,w,I;if(G<1e-14&&!B&&!X)return[{value:D},{value:R}];I=Math.ceil(R/G)-Math.floor(D/G),I>O&&(G=IT(I*G/O/A)*A),se(d)||(it=Math.pow(10,d),G=Math.ceil(G*it)/it),a==="ticks"?(C=Math.floor(D/G)*G,w=Math.ceil(R/G)*G):(C=D,w=R),B&&X&&o&&UN((h-c)/o,G/1e3)?(I=Math.round(Math.min((h-c)/G,y)),G=(h-c)/I,C=c,w=h):J?(C=B?c:C,w=X?h:w,I=p-1,G=(w-C)/I):(I=(w-C)/G,Mc(I,Math.round(I),G/1e3)?I=Math.round(I):I=Math.ceil(I));const P=Math.max(DT(G),DT(C));it=Math.pow(10,se(d)?P:d),C=Math.round(C*it)/it,w=Math.round(w*it)/it;let N=0;for(B&&(T&&C!==c?(e.push({value:c}),C<c&&N++,Mc(Math.round((C+N*G)*it)/it,c,xE(c,st,n))&&N++):C<c&&N++);N<I;++N){const L=Math.round((C+N*G)*it)/it;if(X&&L>h)break;e.push({value:L})}return X&&T&&w!==h?e.length&&Mc(e[e.length-1].value,h,xE(h,st,n))?e[e.length-1].value=h:e.push({value:h}):(!X||w===h)&&e.push({value:w}),e}function xE(n,t,{horizontal:e,minRotation:i}){const a=ca(i),o=(e?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class sL extends Xo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return se(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const c=d=>a=e?a:d,h=d=>o=i?o:d;if(t){const d=zo(a),p=zo(o);d<0&&p<0?h(0):d>0&&p>0&&c(0)}if(a===o){let d=o===0?1:Math.abs(o*.05);h(o+d),t||c(a-d)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=iL(a,o);return t.bounds==="ticks"&&zN(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const a=(i-e)/Math.max(t.length-1,1)/2;e-=a,i+=a}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return _1(t,this.chart.options.locale,this.options.ticks.format)}}class rL extends sL{static id="linear";static defaults={ticks:{callback:v1.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Kn(t)?t:0,this.max=Kn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ca(this.options.ticks.minRotation),a=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const ed={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},yn=Object.keys(ed);function RE(n,t){return n-t}function CE(n,t){if(se(t))return null;const e=n._adapter,{parser:i,round:a,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),Kn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(a&&(c=a==="week"&&(Yc(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,a)),+c)}function IE(n,t,e,i){const a=yn.length;for(let o=yn.indexOf(n);o<a-1;++o){const c=ed[yn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return yn[o]}return yn[a-1]}function aL(n,t,e,i,a){for(let o=yn.length-1;o>=yn.indexOf(e);o--){const c=yn[o];if(ed[c].common&&n._adapter.diff(a,i,c)>=t-1)return c}return yn[e?yn.indexOf(e):0]}function oL(n){for(let t=yn.indexOf(n)+1,e=yn.length;t<e;++t)if(ed[yn[t]].common)return yn[t]}function DE(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:a}=oy(e,t),o=e[i]>=t?e[i]:e[a];n[o]=!0}}function lL(n,t,e,i){const a=n._adapter,o=+a.startOf(t[0].value,i),c=t[t.length-1].value;let h,d;for(h=o;h<=c;h=+a.add(h,1,i))d=e[h],d>=0&&(t[d].major=!0);return t}function OE(n,t,e){const i=[],a={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],a[h]=c,i.push({value:h,major:!1});return o===0||!e?i:lL(n,i,a,e)}class ME extends Xo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),a=this._adapter=new yV._date(t.adapters.date);a.init(e),Oc(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:CE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function d(p){!c&&!isNaN(p.min)&&(a=Math.min(a,p.min)),!h&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!c||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),a=Kn(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),o=Kn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,h=GN(a,o,c);return this._unit=e.unit||(i.autoSkip?IE(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):aL(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:oL(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),OE(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=qn(e,0,c),i=qn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,a=this.options,o=a.time,c=o.unit||IE(o.minUnit,e,i,this._getLabelCapacity(e)),h=zt(a.ticks.stepSize,1),d=c==="week"?o.isoWeekday:!1,p=Yc(d)||d===!0,y={};let v=e,T,A;if(p&&(v=+t.startOf(v,"isoWeek",d)),v=+t.startOf(v,p?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const O=a.ticks.source==="data"&&this.getDataTimestamps();for(T=v,A=0;T<i;T=+t.add(T,h,c),A++)DE(y,T,O);return(T===i||a.bounds==="ticks"||A===1)&&DE(y,T,O),Object.keys(y).sort(RE).map(D=>+D)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,o=this._unit,c=e||a[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,a){const o=this.options,c=o.ticks.callback;if(c)return re(c,[t,e,i],this);const h=o.time.displayFormats,d=this._unit,p=this._majorUnit,y=d&&h[d],v=p&&h[p],T=i[e],A=p&&v&&T&&T.major;return this._adapter.format(t,a||(A?v:y))}generateTickLabels(t){let e,i,a;for(e=0,i=t.length;e<i;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,a=ca(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(a),c=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,a=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,OE(this,[t],this._majorUnit),a),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,i=a.length;e<i;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const a=this.getLabels();for(e=0,i=a.length;e<i;++e)t.push(CE(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return KN(t.sort(RE))}}function Xh(n,t,e){let i=0,a=n.length-1,o,c,h,d;e?(t>=n[i].pos&&t<=n[a].pos&&({lo:i,hi:a}=ua(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:d}=n[a]):(t>=n[i].time&&t<=n[a].time&&({lo:i,hi:a}=ua(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:d}=n[a]);const p=c-o;return p?h+(d-h)*(t-o)/p:h}class AL extends ME{static id="timeseries";static defaults=ME.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Xh(e,this.min),this._tableRange=Xh(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,a=[],o=[];let c,h,d,p,y;for(c=0,h=t.length;c<h;++c)p=t[c],p>=e&&p<=i&&a.push(p);if(a.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=a.length;c<h;++c)y=a[c+1],d=a[c-1],p=a[c],Math.round((y+d)/2)!==p&&o.push({time:p,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Xh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Xh(this._table,i*this._tableRange+this._minPos,!0)}}const K1="label";function kE(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function cL(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function $1(n,t){n.labels=t}function Q1(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:K1;const i=[];n.datasets=t.map(a=>{const o=n.datasets.find(c=>c[e]===a[e]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function uL(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K1;const e={labels:[],datasets:[]};return $1(e,n.labels),Q1(e,n.datasets,t),e}function hL(n,t){const{height:e=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:c,data:h,options:d,plugins:p=[],fallbackContent:y,updateMode:v,...T}=n,A=pt.useRef(null),O=pt.useRef(null),D=()=>{A.current&&(O.current=new td(A.current,{type:c,data:uL(h,o),options:d&&{...d},plugins:p}),kE(t,O.current))},R=()=>{kE(t,null),O.current&&(O.current.destroy(),O.current=null)};return pt.useEffect(()=>{!a&&O.current&&d&&cL(O.current,d)},[a,d]),pt.useEffect(()=>{!a&&O.current&&$1(O.current.config.data,h.labels)},[a,h.labels]),pt.useEffect(()=>{!a&&O.current&&h.datasets&&Q1(O.current.config.data,h.datasets,o)},[a,h.datasets]),pt.useEffect(()=>{O.current&&(a?(R(),setTimeout(D)):O.current.update(v))},[a,d,h.labels,h.datasets,v]),pt.useEffect(()=>{O.current&&(R(),setTimeout(D))},[c]),pt.useEffect(()=>(D(),()=>R()),[]),mm.createElement("canvas",{ref:A,role:"img",height:e,width:i,...T},y)}const fL=pt.forwardRef(hL);function dL(n,t){return td.register(t),pt.forwardRef((e,i)=>mm.createElement(fL,{...e,ref:i,type:n}))}const gL=dL("line",mV);td.register(nL,rL,V4,P4,q4,Z4,H4);const pL="https://backend-api-93214421532.southamerica-east1.run.app/api";function mL(){const[n,t]=pt.useState(null),[e,i]=pt.useState(!0),{authenticatedFetch:a,token:o}=ru(),{user:c,role:h}=Qo();if(pt.useEffect(()=>{c&&o&&h==="admin"?a(`${pL}/dashboard-data`,{cache:"no-cache"}).then(p=>p.json()).then(p=>{t(p),i(!1)}).catch(p=>{console.error("Erro ao buscar dados do dashboard:",p),i(!1)}):(i(!1),t(null))},[c,o,h]),e||!o)return z.jsx("div",{children:"Carregando dados do dashboard..."});if(h!=="admin")return z.jsx("div",{className:"no-access-message",children:"Acesso negado. Apenas administradores podem ver o Dashboard."});if(!n||n.status==="erro")return z.jsx("div",{children:"No foi possvel carregar os dados."});const d={labels:n.vendasPorDia.map(p=>new Date(p.data).toLocaleDateString("pt-BR",{timeZone:"UTC"})),datasets:[{label:"Faturamento por Dia (R$)",data:n.vendasPorDia.map(p=>p.total),borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(54, 162, 235, 0.5)"}]};return z.jsxs("div",{className:"dashboard-view",children:[z.jsx("h2",{children:"Resumo Geral"}),z.jsxs("div",{className:"summary-cards",children:[z.jsxs("div",{className:"card",children:[z.jsx("h4",{children:"Faturamento Bruto"}),z.jsxs("p",{children:["R$ ",n.resumo.faturamentoBruto.toFixed(2)]})]}),z.jsxs("div",{className:"card",children:[z.jsx("h4",{children:"Lucro Lquido"}),z.jsxs("p",{children:["R$ ",n.resumo.lucroLiquido.toFixed(2)]})]}),z.jsxs("div",{className:"card",children:[z.jsx("h4",{children:"Total de Vendas"}),z.jsx("p",{children:n.resumo.totalVendas})]}),z.jsxs("div",{className:"card",children:[z.jsx("h4",{children:"Itens Vendidos"}),z.jsx("p",{children:n.resumo.totalItensVendidos})]})]}),z.jsx("h2",{children:"Desempenho de Vendas"}),z.jsx("div",{className:"chart-container",children:z.jsx(gL,{data:d})})]})}function yL({product:n,onSave:t,onClose:e}){const[i,a]=pt.useState({...n});pt.useEffect(()=>{a({...n})},[n]);const o=h=>{const{name:d,value:p}=h.target;a(y=>({...y,[d]:p}))},c=h=>{h.preventDefault();const d={...i,precoVenda:parseFloat(i.precoVenda),precoCusto:parseFloat(i.precoCusto),quantidadeEstoque:parseInt(i.quantidadeEstoque)};t(d)};return z.jsx("div",{className:"modal-backdrop",children:z.jsxs("div",{className:"modal-content",children:[z.jsx("h2",{children:"Editar Produto"}),z.jsxs("form",{onSubmit:c,children:[z.jsx("label",{children:"Nome:"}),z.jsx("input",{type:"text",name:"nome",value:i.nome,onChange:o,required:!0}),z.jsx("label",{children:"Descrio:"}),z.jsx("input",{type:"text",name:"descricao",value:i.descricao,onChange:o}),z.jsx("label",{children:"Preo de Venda:"}),z.jsx("input",{type:"number",name:"precoVenda",value:i.precoVenda,onChange:o,required:!0}),z.jsx("label",{children:"Preo de Custo:"}),z.jsx("input",{type:"number",name:"precoCusto",value:i.precoCusto,onChange:o}),z.jsx("label",{children:"Estoque:"}),z.jsx("input",{type:"number",name:"quantidadeEstoque",value:i.quantidadeEstoque,onChange:o,required:!0}),z.jsxs("div",{className:"modal-actions",children:[z.jsx("button",{type:"submit",children:"Salvar Alteraes"}),z.jsx("button",{type:"button",onClick:e,children:"Cancelar"})]})]})]})})}function _L({products:n,fetchProducts:t}){const[e,i]=pt.useState(""),[a,o]=pt.useState(""),[c,h]=pt.useState(""),[d,p]=pt.useState(""),[y,v]=pt.useState(""),[T,A]=pt.useState([]),[O,D]=pt.useState(null),{authenticatedFetch:R,token:B}=ru(),{user:X}=Qo();if(!X||!B)return z.jsx("div",{children:"Carregando..."});const J=C=>{C.preventDefault();const w={nome:e,descricao:a,precoVenda:parseFloat(c),precoCusto:parseFloat(d),quantidadeEstoque:parseInt(y),categoria:"Nova Categoria"};R("http://localhost:5000/api/produtos",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(w)}).then(I=>I.json()).then(()=>{i(""),o(""),h(""),p(""),v(""),t()}).catch(I=>console.error("Erro ao criar produto:",I))},st=C=>{A(w=>w.includes(C)?w.filter(I=>I!==C):[...w,C])},G=()=>{if(window.confirm(`Tem certeza que deseja deletar ${T.length} produto(s)?`)){const C=T.map(w=>R(`http://localhost:5000/api/produtos/${w}`,{method:"DELETE"}));Promise.all(C).then(()=>{t(),A([])}).catch(w=>console.error("Erro ao deletar produtos:",w))}},it=C=>{R(`http://localhost:5000/api/produtos/${C.id}`,{method:"PUT",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(C)}).then(w=>w.json()).then(()=>{D(null),t()}).catch(w=>console.error("Erro ao atualizar produto:",w))};return z.jsxs("div",{className:"product-management-view",children:[z.jsxs("section",{className:"form-section",children:[z.jsx("h3",{children:"Cadastrar Novo Produto"}),z.jsxs("form",{onSubmit:J,children:[z.jsx("input",{type:"text",value:e,onChange:C=>i(C.target.value),placeholder:"Nome do Produto",required:!0}),z.jsx("input",{type:"text",value:a,onChange:C=>o(C.target.value),placeholder:"Descrio"}),z.jsx("input",{type:"number",value:c,onChange:C=>h(C.target.value),placeholder:"Preo de Venda",required:!0,step:"0.01"}),z.jsx("input",{type:"number",value:d,onChange:C=>p(C.target.value),placeholder:"Preo de Custo",step:"0.01"}),z.jsx("input",{type:"number",value:y,onChange:C=>v(C.target.value),placeholder:"Estoque Inicial",required:!0}),z.jsx("button",{type:"submit",children:"Salvar Produto"})]})]}),z.jsx("hr",{}),z.jsxs("section",{className:"product-list-section",children:[z.jsxs("div",{className:"list-header",children:[z.jsx("h3",{children:"Produtos Cadastrados"}),T.length>0&&z.jsxs("button",{onClick:G,className:"delete-button",children:["Deletar Selecionados (",T.length,")"]})]}),z.jsx("div",{className:"product-list",children:n.map(C=>z.jsxs("div",{className:"product-row",children:[z.jsx("input",{type:"checkbox",checked:T.includes(C.id),onChange:()=>st(C.id)}),z.jsx("h4",{children:C.nome}),z.jsxs("p",{children:["Estoque: ",C.quantidadeEstoque]}),z.jsxs("p",{children:["Custo: R$ ",C.precoCusto?C.precoCusto.toFixed(2):"0.00"]}),z.jsxs("p",{children:["Venda: R$ ",C.precoVenda.toFixed(2)]}),z.jsx("button",{onClick:()=>D(C),className:"edit-button",children:"Editar"})]},C.id))})]}),O&&z.jsx(yL,{product:O,onSave:it,onClose:()=>D(null)})]})}function vL(){const[n,t]=pt.useState(""),[e,i]=pt.useState(""),[a,o]=pt.useState(""),[c,h]=pt.useState("vendedor"),[d,p]=pt.useState(""),[y,v]=pt.useState([]),[T,A]=pt.useState(!0),{authenticatedFetch:O,token:D}=ru(),{user:R,role:B}=Qo(),X=()=>{A(!0),R&&D&&B==="admin"?O("/api/users").then(G=>G.json()).then(G=>{G&&Array.isArray(G)?v(G):v([]),A(!1)}).catch(G=>{console.error("Erro ao buscar usurios:",G),A(!1)}):A(!1)};pt.useEffect(()=>{X()},[R,D,B]);const J=async G=>{G.preventDefault(),p("");try{const it=await O("/api/users/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:n,email:e,password:a,role:c})}),C=await it.json();if(!it.ok)throw new Error(C.message||"Erro ao criar usurio.");p(`Usurio ${n} criado com sucesso!`),t(""),i(""),o(""),h("vendedor"),X()}catch(it){p(`Erro: ${it.message}`)}},st=async(G,it)=>{const C=it?"enable":"disable";if(window.confirm(`Tem certeza que deseja ${it?"desbloquear":"bloquear"} este usurio?`))try{const w=await O(`/api/users/${G}/${C}`,{method:"PUT"}),I=await w.json();if(!w.ok)throw new Error(I.message);p(I.message),X()}catch(w){p(`Erro: ${w.message}`)}};return T?z.jsx("div",{children:"Carregando..."}):B!=="admin"?z.jsx("div",{className:"no-access-message",children:"Acesso negado: Somente administradores podem gerenciar usurios."}):z.jsxs("div",{className:"user-management-view",children:[z.jsx("h2",{children:"Gerenciamento de Usurios"}),z.jsxs("section",{className:"form-section",children:[z.jsx("h3",{children:"Criar Novo Usurio"}),z.jsxs("form",{onSubmit:J,children:[z.jsx("input",{type:"text",value:n,onChange:G=>t(G.target.value),placeholder:"Nome Completo",required:!0}),z.jsx("input",{type:"email",value:e,onChange:G=>i(G.target.value),placeholder:"E-mail",required:!0}),z.jsx("input",{type:"password",value:a,onChange:G=>o(G.target.value),placeholder:"Senha",required:!0}),z.jsxs("select",{value:c,onChange:G=>h(G.target.value),children:[z.jsx("option",{value:"vendedor",children:"Vendedor"}),z.jsx("option",{value:"admin",children:"Administrador"})]}),z.jsx("button",{type:"submit",children:"Criar Usurio"})]}),d&&z.jsx("p",{className:"feedback-message",children:d})]}),z.jsx("hr",{}),z.jsxs("section",{className:"user-list-section",children:[z.jsx("h3",{children:"Usurios Cadastrados"}),z.jsxs("table",{children:[z.jsx("thead",{children:z.jsxs("tr",{children:[z.jsx("th",{children:"Nome"}),z.jsx("th",{children:"Email"}),z.jsx("th",{children:"Status"}),z.jsx("th",{children:"Aes"})]})}),z.jsx("tbody",{children:y.map(G=>z.jsxs("tr",{children:[z.jsx("td",{children:G.nome||"N/A"}),z.jsx("td",{children:G.email}),z.jsx("td",{children:G.disabled?"Bloqueado":"Ativo"}),z.jsx("td",{children:z.jsx("button",{className:G.disabled?"enable-button":"disable-button",onClick:()=>st(G.uid,G.disabled),children:G.disabled?"Desbloquear":"Bloquear"})})]},G.uid))})]})]})]})}function bL(){const[n,t]=pt.useState(""),[e,i]=pt.useState(""),[a,o]=pt.useState(""),{login:c}=Qo(),h=async d=>{d.preventDefault(),o("");try{await c(n,e)}catch{o("Credenciais invlidas. Por favor, tente novamente.")}};return z.jsx("div",{className:"login-container",children:z.jsxs("div",{className:"login-box",children:[z.jsx("h2",{children:"Entrar na Lume Cume"}),z.jsxs("form",{onSubmit:h,children:[z.jsxs("div",{className:"input-group",children:[z.jsx("label",{children:"Email:"}),z.jsx("input",{type:"email",value:n,onChange:d=>t(d.target.value),required:!0})]}),z.jsxs("div",{className:"input-group",children:[z.jsx("label",{children:"Senha:"}),z.jsx("input",{type:"password",value:e,onChange:d=>i(d.target.value),required:!0})]}),a&&z.jsx("p",{className:"error-message",children:a}),z.jsx("button",{type:"submit",children:"Entrar"})]})]})})}function TL(){const[n,t]=pt.useState("sales"),[e,i]=pt.useState([]),{user:a,role:o,loading:c,logout:h,error:d}=Qo(),{authenticatedFetch:p,token:y,error:v}=ru(),T=async()=>{if(a&&y)try{console.log("Tentando buscar produtos em /api/produtos com token:",y);const O=await(await p("/api/produtos",{method:"GET",headers:{"Cache-Control":"no-cache"}})).json();console.log("Produtos recebidos:",O),i(O)}catch(A){console.error("Erro ao buscar produtos:",A),i([])}};return pt.useEffect(()=>{a&&y?(console.log("useEffect: Usurio e token disponveis. Iniciando fetch de produtos."),T()):console.log("useEffect: Usurio ou token no disponveis.")},[a,y]),d||v?z.jsxs("div",{style:{color:"red",fontSize:"24px",padding:"20px"},children:["Erro: ",d||v]}):c||!y?(console.log("Renderizando Carregando... (loading:",c,"token:",y),z.jsx("div",{style:{color:"blue",fontSize:"24px"},children:"Carregando..."})):a?(console.log("Renderizando App com usurio:",a.uid,"role:",o),z.jsxs("div",{children:[z.jsxs("header",{children:[z.jsx("h1",{children:"Lume Cume - Aromaterapia"}),z.jsxs("nav",{children:[o==="admin"&&z.jsx("button",{onClick:()=>t("dashboard"),className:n==="dashboard"?"active":"",children:"Dashboard"}),z.jsx("button",{onClick:()=>t("sales"),className:n==="sales"?"active":"",children:"Frente de Caixa"}),o==="admin"&&z.jsx("button",{onClick:()=>t("history"),className:n==="history"?"active":"",children:"Histrico de Vendas"}),o==="admin"&&z.jsx("button",{onClick:()=>t("products"),className:n==="products"?"active":"",children:"Produtos"}),o==="admin"&&z.jsx("button",{onClick:()=>t("users"),className:n==="users"?"active":"",children:"Usurios"}),z.jsx("button",{onClick:h,className:"logout-button",children:"Sair"})]})]}),z.jsx("div",{style:{display:n==="dashboard"?"block":"none"},children:z.jsx(mL,{role:o})}),z.jsx("div",{style:{display:n==="sales"?"block":"none"},children:z.jsx(I2,{products:e,fetchProducts:T})}),z.jsx("div",{style:{display:n==="history"?"block":"none"},children:z.jsx(sN,{role:o})}),z.jsx("div",{style:{display:n==="products"?"block":"none"},children:z.jsx(_L,{products:e,fetchProducts:T})}),z.jsx("div",{style:{display:n==="users"?"block":"none"},children:z.jsx(vL,{})})]})):(console.log("Renderizando LoginView (usurio no logado)."),z.jsxs("div",{className:"app-container",children:[z.jsx("header",{children:z.jsx("h1",{children:"Lume Cume - Aromaterapia"})}),z.jsx("main",{children:z.jsx(bL,{})})]}))}Dx.createRoot(document.getElementById("root")).render(z.jsx(mm.StrictMode,{children:z.jsx(l1,{children:z.jsx(TL,{})})}));window&&(console.log("main.jsx: Renderizao iniciada"),console.log("AuthProvider disponvel:",typeof l1=="function"));
